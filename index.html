<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#a855f7" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#8b5cf6" media="(prefers-color-scheme: dark)">
    <link rel="manifest" href="manifest.json">
    <title>Thomas XL-200's Coaster Credit Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Racing+Sans+One&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>

        *{margin:0;padding:0;box-sizing:border-box;}
:root{--primary:#a855f7;--primary-hover:#9333ea;--accent:#06b6d4;--accent-pink:#ec4899;--bg:#f3e8ff;--bg-secondary:#fae8ff;--card-bg:#ffffff;--text:#1e1b4b;--text-secondary:#6b21a8;--border:#d8b4fe;--success:#10b981;--warning:#f59e0b;--danger:#ef4444;--shadow:0 1px 3px 0 rgb(0 0 0 / 0.1);--shadow-lg:0 10px 15px -3px rgb(0 0 0 / 0.1);--shadow-bold:4px 4px 0px rgba(168,85,247,0.2);--new-credit-bg:#f0fdf4;--new-credit-border:#4ade80;--defunct-bg:#fef2f2;--defunct-border:#f87171;--credit-bg:#dcfce7;--credit-border:#16a34a;--credit-text:#15803d;--toggle-bg:#06b6d4;--toggle-hover:#0e7490;}
@media (prefers-color-scheme:dark){:root{--primary:#8b5cf6;--primary-hover:#a78bfa;--accent:#22d3ee;--accent-pink:#fb7185;--bg:#020617;--bg-secondary:#0f172a;--card-bg:#1e293b;--text:#faf5ff;--text-secondary:#e9d5ff;--border:#a78bfa;--success:#4ade80;--warning:#fcd34d;--danger:#fb7185;--shadow:0 2px 4px 0 rgb(0 0 0 / 0.4);--shadow-lg:0 10px 20px -3px rgb(0 0 0 / 0.5);--shadow-bold:4px 4px 0px rgba(139,92,246,0.25);--new-credit-bg:rgba(74,222,128,0.2);--new-credit-border:#4ade80;--defunct-bg:rgba(248,113,113,0.2);--defunct-border:#fb7185;--credit-bg:rgba(74,222,128,0.15);--credit-border:#4ade80;--credit-text:#4ade80;--toggle-bg:#22d3ee;--toggle-hover:#06b6d4;}
}
body{font-family:'Space Grotesk',-apple-system,BlinkMacSystemFont,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;line-height:1.6;}
@media (prefers-color-scheme:dark){body{background:linear-gradient(135deg,#020617 0%,#0f172a 50%,#020617 100%);background-attachment:fixed;}
}
.year-selector{display:flex;align-items:center;align-self:center;gap:0.5rem;}
.year-selector label{font-weight:600;font-size:calc(1.1rem + 3px);color:var(--text-secondary);}
.year-selector select{padding:0.5rem 1rem;border:2px solid var(--primary);border-radius:6px;background:var(--card-bg);color:var(--text);font-weight:700;font-size:1.2rem;cursor:pointer;}
.header-right{display:flex;align-items:stretch;gap:1rem;flex:1;justify-content:flex-end;}
.data-transfer{display:flex;flex-direction:column;gap:0.75rem;}
.data-transfer-btn{padding:0.5rem 0.65rem;border:2px solid var(--border);border-radius:6px;background:var(--card-bg);color:var(--text);font-size:1.2rem;cursor:pointer;transition:all 0.15s;font-family:'Space Grotesk',sans-serif;font-weight:600;white-space:nowrap;flex:1;display:flex;align-items:center;justify-content:center;}
.data-transfer-btn:hover{border-color:var(--primary);background:var(--bg-secondary);}
.app-content{display:block;}
.container{max-width:1400px;margin:0 auto;padding:0 1.5rem;}
header{padding:2rem 0;border-bottom:1px solid var(--border);margin-bottom:2rem;}
.header-content{display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap;}
h1{font-family:'Comic Sans MS','Comic Sans','Comic Neue',cursive;font-size:clamp(1.5rem,4vw,2.25rem);font-weight:900;color:var(--text);letter-spacing:0.5px;text-shadow:3px 3px 0px rgba(217,70,239,0.4),6px 6px 0px rgba(217,70,239,0.2);}
.stats-box{display:flex;flex-direction:column;gap:0.75rem;align-items:center;}
.credit-count,.average-rating{min-width:11rem;text-align:center;padding:0.75rem 1.5rem;border-radius:8px;font-size:1.25rem;font-weight:700;box-shadow:var(--shadow-bold);text-transform:uppercase;letter-spacing:0.5px;white-space:nowrap;overflow:hidden;}
.credit-count{background:var(--credit-bg);color:var(--credit-text);border:3px solid var(--credit-border);}
.average-rating{background:linear-gradient(135deg,#06b6d4 0%,#d946ef 100%);color:white;border:3px solid #06b6d4;font-weight:800;letter-spacing:1px;}
@media (max-width:768px){.stats-box{flex-direction:row;justify-content:center;flex-wrap:nowrap;align-items:stretch;align-self:stretch;gap:0.6rem;}
.credit-count,.average-rating{min-width:0;flex:1;padding:0.6rem 0.4rem;display:flex;align-items:center;justify-content:center;font-size:1rem;border-width:2.4px;}
}
.tab-nav{display:flex;gap:0.25rem;margin-top:1.5rem;border-bottom:4px solid var(--primary);padding-bottom:0;overflow:visible;flex-wrap:nowrap;justify-content:flex-start;}
.tab-btn{padding:0.6rem 1rem;border:none;border-top:3px solid var(--border);border-left:3px solid var(--border);border-right:3px solid var(--border);border-bottom:none;background:var(--bg-secondary);color:var(--text);font-family:'Space Grotesk',sans-serif;font-weight:700;font-size:calc(0.8rem + 3px);cursor:pointer;transition:all 0.2s;text-transform:uppercase;letter-spacing:0.3px;border-radius:8px 8px 0 0;box-shadow:inset 2px 2px 4px rgba(0,0,0,0.1);position:relative;bottom:-4px;white-space:nowrap;flex:1;min-width:0;}
@media (max-width:768px){.tab-btn{padding:0.5rem 0.75rem;font-size:0.9rem;}
}
@media (max-width:480px){.tab-btn{padding:0.5rem 0.6rem;font-size:calc(0.7rem + 3px);}
}
.tab-btn:hover{background:var(--bg);transform:translateY(-2px);bottom:-2px;}
.tab-btn.active{background:var(--bg);border-color:var(--primary);border-bottom:4px solid var(--bg);box-shadow:none;font-weight:800;}
.tab-content{display:block;}
.tab-content.hidden{display:none;}
.modal-actions{display:flex;gap:0.75rem;margin-top:1.5rem;padding-top:1.5rem;border-top:3px dashed var(--border);}
.modal-actions .btn{flex:1;}
.stats-filters{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:0.75rem;margin-bottom:1.5rem;padding:1rem;background:var(--bg-secondary);border-radius:10px;border:2px solid var(--border);box-shadow:var(--shadow);}
.chart-controls{display:flex;justify-content:center;gap:0.5rem;margin-bottom:1rem;flex-wrap:wrap;}
.chart-controls .btn{padding:0.5rem 1rem;font-size:0.9375rem;}
.chart-limit-btn.active,.ot-chart-limit-btn.active{background:var(--toggle-bg);}
.chart-limit-btn.active:hover,.ot-chart-limit-btn.active:hover{background:var(--toggle-hover);}
.chart-container{background:var(--bg-secondary);padding:1rem;border-radius:10px;border:3px solid var(--border);box-shadow:5px 5px 0px rgba(0,0,0,0.1);position:relative;width:100%;}
.chart-aspect-wrapper{position:relative;width:100%;padding-bottom:56.25%;}
.chart-aspect-wrapper canvas{position:absolute;top:0;left:0;width:100%;height:100%;}
.chart-download-btn-container{display:flex;justify-content:center;margin-top:1rem;}
.controls{display:flex;gap:0.75rem;margin-bottom:1.5rem;flex-wrap:wrap;}
.controls .btn{font-size:1rem;}
.search-box{flex:1;min-width:250px;position:relative;}
.search-box input{width:100%;padding:0.75rem 1rem 0.75rem 2.75rem;background:var(--bg-secondary);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:0.875rem;font-family:'Space Grotesk',sans-serif;transition:all 0.2s;}
.search-box input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(217,70,239,0.15);}
.search-box::before{content:'üîç';position:absolute;left:0.875rem;top:50%;transform:translateY(-50%);font-size:1rem;pointer-events:none;}
.btn{padding:0.75rem 1.25rem;border:none;border-radius:8px;font-family:'Space Grotesk',sans-serif;font-weight:500;font-size:0.875rem;cursor:pointer;transition:all 0.2s;white-space:nowrap;}
.btn-primary{background:var(--primary);color:white !important;}
.btn-primary:hover{background:var(--primary-hover);}
.btn-danger{background:var(--danger);color:black !important;}
.btn-danger:hover{filter:brightness(0.88);}
background:var(--bg-secondary);color:var(--text);border:1px solid var(--border);}
.btn-secondary:hover{background:var(--border);}
.filters{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:0.75rem;margin-bottom:0;padding:0;background:var(--bg-secondary);border-radius:8px;border:2px solid transparent;max-height:0;overflow:hidden;opacity:0;transition:all 0.3s ease;}
.filters.active{max-height:800px;opacity:1;margin-bottom:1.5rem;padding:1.5rem;border-color:var(--border);}
.filter-group label{display:block;font-weight:600;margin-bottom:0.5rem;color:var(--text);font-size:0.9375rem;}
.filter-group select{width:100%;padding:0.625rem;background:var(--card-bg);border:1px solid var(--border);border-radius:6px;color:var(--text);font-family:'Space Grotesk',sans-serif;font-size:0.9375rem;cursor:pointer;transition:all 0.2s;}
.filter-group select:focus{outline:none;border-color:var(--primary);}
@media (prefers-color-scheme:dark){.filter-group select{background:#0e7490;color:white;border:1px solid #06b6d4;}
}
.coaster-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem;margin-bottom:3rem;}
.coaster-card{background:var(--card-bg);border-radius:10px;padding:1.25rem;border:3px solid var(--border);transition:all 0.2s;cursor:pointer;box-shadow:3px 3px 0px rgba(0,0,0,0.1);display:flex;flex-direction:column;}
.coaster-card.new-credit{background:var(--new-credit-bg);border-color:var(--new-credit-border);box-shadow:0 0 0 3px rgba(74,222,128,0.2),3px 3px 0px rgba(0,0,0,0.1);}
.coaster-card.defunct{background:var(--defunct-bg);border-color:var(--defunct-border);box-shadow:0 0 0 3px rgba(248,113,113,0.2),3px 3px 0px rgba(0,0,0,0.1);}
.coaster-card:hover{transform:translateY(-4px) rotate(0.5deg);box-shadow:6px 6px 0px rgba(0,0,0,0.15);border-color:var(--primary);}
.card-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:0.75rem;gap:0.75rem;}
.card-title{font-size:1.4375rem;font-weight:600;color:var(--text);line-height:1.4;flex:1;}
.ranking-badge{background:var(--primary);color:white;font-size:1.25rem;font-weight:600;padding:0.25rem 0.625rem;border-radius:6px;min-width:45px;text-align:center;text-shadow:2px 2px 3px rgba(0,0,0,0.4),1px 1px 1px rgba(0,0,0,0.5);}
@media (prefers-color-scheme:dark){.ranking-badge{background:var(--rating-color,var(--primary));color:white !important;text-shadow:2px 2px 3px rgba(0,0,0,0.4),1px 1px 1px rgba(0,0,0,0.5) !important;}
}
.card-park{color:var(--text-secondary);font-size:1.25rem;margin-bottom:0.75rem;font-style:italic;}
.card-details{display:grid;gap:0.5rem;margin-bottom:0.75rem;margin-top:auto;}
.detail-row{display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0;font-size:1.0625rem;}
.detail-label{color:var(--text-secondary);font-weight:500;}
.detail-value{color:var(--text);font-weight:500;text-align:right;font-style:italic;}
.rating-display{display:flex;align-items:center;gap:0.5rem;padding:0.625rem;background:var(--bg-secondary);border-radius:6px;margin-top:0.75rem;}
.rating-stars{flex:1;height:8px;background:var(--border);border-radius:4px;overflow:hidden;}
.rating-fill{height:100%;border-radius:4px;transition:width 0.6s ease,background 0.6s ease;}
.rating-number{font-size:1.375rem;font-weight:700;min-width:45px;text-align:right;transition:color 0.6s ease;}
.status-badge{padding:0.25rem 0.625rem;border-radius:12px;font-size:0.8125rem;font-weight:600;text-transform:uppercase;text-align:center;display:inline-flex;align-items:center;justify-content:center;}
.status-operating{background:rgba(16,185,129,0.2);color:var(--success);}
.status-sbno{background:rgba(245,158,11,0.2);color:var(--warning);}
.status-defunct{background:rgba(239,68,68,0.2);color:var(--danger);}
.modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);z-index:1000;padding:1rem;overflow-y:auto;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);}
.modal.active{display:flex;align-items:center;justify-content:center;}
body.modal-open{overflow:hidden;position:fixed;width:100%;}
.modal-content{background:var(--card-bg);border-radius:12px;padding:2rem;max-width:800px;width:100%;box-shadow:var(--shadow-lg);max-height:90vh;overflow-y:auto;}
.modal-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.5rem;gap:1rem;}
.modal-title{font-size:1.5625rem;font-weight:600;color:var(--text);line-height:1.3;}
.close-btn{background:transparent;border:none;color:var(--text-secondary);font-size:1.5rem;cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;transition:all 0.2s;flex-shrink:0;border-radius:6px;}
.close-btn:hover{background:var(--bg-secondary);color:var(--text);}
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;}
.form-group{margin-bottom:1rem;}
.form-group.full-width{grid-column:1 / -1;}
.form-group label{display:block;font-weight:500;margin-bottom:0.5rem;color:var(--text);font-size:0.875rem;}
.form-group input,.form-group select,.form-group textarea{width:100%;padding:0.625rem 0.75rem;background:var(--card-bg);border:1px solid var(--border);border-radius:6px;color:var(--text);font-family:'Space Grotesk',sans-serif;font-size:0.875rem;transition:all 0.2s;}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(217,70,239,0.15);}
.form-group textarea{resize:vertical;min-height:100px;}
.checkbox-group{display:flex;align-items:center;gap:0.625rem;padding:0.75rem;background:var(--bg-secondary);border-radius:6px;cursor:pointer;}
.checkbox-group input[type="checkbox"]{width:18px;height:18px;cursor:pointer;}
.checkbox-group label{margin:0;cursor:pointer;flex:1;}
.form-group input:disabled,.form-group select:disabled{opacity:0.5;cursor:not-allowed;background:var(--bg-secondary) !important;}
.form-actions{display:flex;gap:0.75rem;margin-top:1.5rem;flex-wrap:wrap;}
.form-actions .btn{flex:1;min-width:150px;}
.detail-modal-grid{display:grid;gap:0.75rem;margin-bottom:1.5rem;}
.detail-modal-two-col{display:grid;grid-template-columns:1fr 1fr;gap:0.75rem;}
.detail-modal-two-col .detail-modal-row{grid-template-columns:105px 1fr;}
.detail-modal-row{display:grid;grid-template-columns:140px 1fr;gap:1rem;padding:0.75rem;background:var(--bg-secondary);border-radius:6px;align-items:center;}
.detail-modal-label{color:var(--text-secondary);font-weight:500;font-size:0.875rem;}
.detail-modal-value{color:var(--text);font-weight:500;font-size:0.9375rem;}
.comments-section{margin-top:1.5rem;padding:1rem;background:var(--bg-secondary);border-radius:6px;border-left:3px solid var(--primary);}
.comments-label{color:var(--text);font-weight:600;font-size:1rem;margin-bottom:0.5rem;}
.comments-text{color:var(--text);line-height:1.6;font-size:1rem;}
.no-results{text-align:center;padding:4rem 2rem;color:var(--text-secondary);font-size:1rem;}
.char-count{font-size:0.75rem;color:var(--text-secondary);text-align:right;margin-top:0.25rem;}
.table-controls{display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:0.5rem;padding:1rem;background:var(--bg-secondary);border-radius:8px;border:2px solid var(--border);align-items:flex-start;}
.table-refresh-row{display:flex;justify-content:flex-start;margin-bottom:1rem;}
.column-toggles{display:flex;flex-wrap:wrap;gap:0.5rem;flex:1;}
.column-toggle{padding:0.5rem 0.75rem;background:var(--primary);color:white;border:2px solid var(--primary-hover);border-radius:6px;font-size:0.75rem;font-weight:600;cursor:pointer;transition:all 0.2s;text-transform:uppercase;letter-spacing:0.5px;}
.column-toggle.inactive{background:white;color:var(--text);border-color:rgba(255,255,255,0.5);}
.column-toggle:hover{transform:translateY(-2px);box-shadow:0 4px 6px rgba(0,0,0,0.2);}
@media (prefers-color-scheme:dark){.column-toggle{background:#0e7490 !important;border:2px solid #06b6d4 !important;color:white !important;}
.column-toggle.inactive{background:var(--card-bg) !important;color:white !important;border-color:#0e7490 !important;}
}
.table-wrapper{overflow-x:auto;background:var(--bg-secondary);border-radius:10px;border:4px solid var(--primary);box-shadow:6px 6px 0px rgba(217,70,239,0.4),inset 0 0 20px rgba(0,0,0,0.05);position:relative;}
.coaster-table{border-collapse:separate;border-spacing:0;font-size:1rem;background:var(--bg-secondary);}
.coaster-table thead{background:#0e7490;color:white;position:sticky;top:0;z-index:10;}
.coaster-table th{padding:0.875rem;text-align:center;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;border:2px solid rgba(255,255,255,0.2);border-bottom:3px solid rgba(0,0,0,0.3);cursor:pointer;user-select:none;white-space:nowrap;font-size:17px;color:white;text-shadow:1px 1px 2px rgba(0,0,0,0.3);background:transparent;}
.coaster-table th:hover{background:rgba(255,255,255,0.15);}
.coaster-table th.sorted-asc::after{content:' ‚ñ≤';font-size:0.7em;color:var(--accent);}
.coaster-table th.sorted-desc::after{content:' ‚ñº';font-size:0.7em;color:var(--accent);}
.coaster-table tbody tr{border-bottom:1px solid var(--border);transition:all 0.15s ease;}
.coaster-table tbody tr:nth-child(even){background:rgba(0,0,0,0.02);}
@media (prefers-color-scheme:dark){.coaster-table tbody tr:nth-child(even){background:rgba(255,255,255,0.02);}
}
@media (prefers-color-scheme:dark){.btn-primary,.ranking-badge,.column-toggle,.coaster-table thead{color:#1a2e7a;text-shadow:0 1px 2px rgba(240,171,252,0.4);}
}
.coaster-table tbody tr:hover{background:var(--bg);transform:scale(1.002);box-shadow:0 2px 8px rgba(0,0,0,0.1);}
.coaster-table tbody tr.new-credit-row{background:var(--new-credit-bg);border-left:4px solid var(--new-credit-border);}
.coaster-table tbody tr.defunct-row{background:var(--defunct-bg);border-left:4px solid var(--defunct-border);}
.coaster-table td{padding:0.75rem 0.875rem;border:1px solid var(--border);border-left:none;border-top:none;font-family:'Space Grotesk',sans-serif;font-size:1rem;white-space:nowrap;text-align:center;}
.coaster-table td:first-child{font-weight:600;border-left:1px solid var(--border);}
.coaster-table .ranking-cell{font-weight:800;font-size:21px;color:var(--primary);text-align:center;}
.coaster-table .rating-cell{font-weight:700;font-size:21px;}
.coaster-table td.comments-cell{font-size:1rem;min-width:300px;width:400px;line-height:1.5;white-space:normal;text-align:left;cursor:pointer;}
.coaster-table td.comments-cell:hover{background:var(--hover-bg);}
.coaster-table td.comments-cell .comments-inner{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;}
.comments-modal-body{font-size:1.05rem;line-height:1.7;color:var(--text);white-space:pre-wrap;}
.coaster-table th[data-column="Ride"],.coaster-table td[data-column="Ride"]{min-width:90px;position:sticky;left:0;z-index:2;white-space:normal;}
.coaster-table th[data-column="Ride"]{background:#0e7490;}
.coaster-table td[data-column="Ride"]{background:var(--bg-secondary);}
.coaster-table tr.new-credit-row td[data-column="Ride"]{background:var(--new-credit-bg);}
.coaster-table tr.defunct-row td[data-column="Ride"]{background:var(--defunct-bg);}
@media (prefers-color-scheme:dark){.coaster-table tr.new-credit-row td[data-column="Ride"]{background:#2c534d;}
.coaster-table tr.defunct-row td[data-column="Ride"]{background:#4e3d4a;}
}
.coaster-table th[data-column="Park"],.coaster-table td[data-column="Park"]{min-width:78px;white-space:normal;}
.coaster-table th[data-column="Manufacturer"],.coaster-table td[data-column="Manufacturer"]{min-width:70px;white-space:normal;}
.coaster-table th[data-column="Category"],.coaster-table td[data-column="Category"]{min-width:63px;white-space:normal;}
.coaster-table th[data-column="Type"],.coaster-table td[data-column="Type"]{min-width:73px;white-space:normal;}
.coaster-table th[data-column="Opening Year"],.coaster-table td[data-column="Opening Year"]{min-width:90px;}
.coaster-table th[data-column="Last Ride"],.coaster-table td[data-column="Last Ride"]{min-width:75px;}
.coaster-table th[data-column="Status"],.coaster-table td[data-column="Status"]{min-width:75px;}
.coaster-table th[data-column="New Credit"],.coaster-table td[data-column="New Credit"]{min-width:80px;}
.coaster-table th[data-column="Rating"],.coaster-table td[data-column="Rating"]{min-width:55px;}
.coaster-table td[data-column="Rating"]{font-weight:700;font-size:21px;}
.coaster-table th[data-column="Ranking"],.coaster-table td[data-column="Ranking"]{min-width:60px;}
.coaster-table td[data-column="Ranking"]{font-weight:800;font-size:21px;}
.coaster-table th[data-column="Weighted Ranking"],.coaster-table td[data-column="Weighted Ranking"]{min-width:80px;}
.coaster-table td[data-column="Weighted Ranking"]{font-weight:800;font-size:21px;}
.chart-type-toggle{display:flex;gap:0;margin-bottom:1.25rem;background:var(--bg-secondary);border:2px solid var(--border);border-radius:8px;overflow:hidden;width:fit-content;}
#statisticsTab .chart-type-toggle{width:19rem;}
#statisticsTab .chart-type-toggle .chart-type-btn{flex:1;text-align:center;}
.chart-type-btn{padding:0.55rem 1.25rem;border:none;background:transparent;color:var(--text-secondary);font-family:'Space Grotesk',sans-serif;font-weight:600;font-size:0.9125rem;cursor:pointer;transition:all 0.2s;text-transform:uppercase;letter-spacing:0.4px;position:relative;white-space:nowrap;}
.chart-type-btn:not(:last-child){border-right:1px solid var(--border);}
.chart-type-btn:hover{background:var(--bg);color:var(--text);}
.chart-type-btn.active{background:#0e7490;color:white;box-shadow:inset 0 2px 4px rgba(0,0,0,0.15);}
.chart-type-btn.active:hover{background:#06b6d4;}
.ot-mode-toggle{margin-bottom:0.75rem;}
.stats-mode-toggle{margin-bottom:0.75rem;}
.ot-source-toggle{margin-bottom:1.25rem;}
.ot-ride-search{position:relative;margin-bottom:1.25rem;max-width:420px;}
.ot-search-input-wrap{position:relative;display:flex;align-items:center;}
.ot-search-input{width:100%;padding:0.6rem 2.2rem 0.6rem 0.85rem;border:1px solid var(--border);border-radius:8px;background:var(--bg);color:var(--text);font-family:'Space Grotesk',sans-serif;font-size:0.88rem;outline:none;transition:border-color 0.2s,box-shadow 0.2s;box-sizing:border-box;}
.ot-search-input:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(99,102,241,0.2);}
.ot-search-input::placeholder{color:var(--text-secondary);}
.ot-search-clear{position:absolute;right:0.55rem;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--text-secondary);cursor:pointer;font-size:1.05rem;line-height:1;padding:0.2rem 0.25rem;border-radius:4px;transition:color 0.15s,background 0.15s;}
.ot-search-clear:hover{color:var(--text);background:var(--border);}
.ot-search-dropdown{position:absolute;top:calc(100% + 5px);left:0;right:0;max-height:230px;overflow-y:auto;background:var(--card-bg,var(--bg));border:1px solid var(--border);border-radius:8px;box-shadow:0 6px 20px rgba(0,0,0,0.18);z-index:100;display:none;}
.ot-dropdown-item{padding:0.48rem 0.85rem;cursor:pointer;font-family:'Space Grotesk',sans-serif;font-size:0.84rem;color:var(--text);transition:background 0.13s;border-bottom:1px solid var(--border);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.ot-dropdown-item:last-child{border-bottom:none;}
.ot-dropdown-item:hover{background:rgba(99,102,241,0.08);}
.ot-dropdown-item .ride-park{color:var(--text-secondary);font-weight:400;margin-left:0.3rem;font-size:0.78rem;}
.ot-dropdown-none{padding:0.55rem 0.85rem;font-family:'Space Grotesk',sans-serif;font-size:0.84rem;color:var(--text-secondary);font-style:italic;}
.type-autocomplete{position:relative;}
.type-autocomplete-dropdown{position:absolute;top:calc(100% + 3px);left:0;right:0;max-height:200px;overflow-y:auto;background:var(--card-bg,var(--bg));border:1px solid var(--border);border-radius:8px;box-shadow:0 6px 20px rgba(0,0,0,0.18);z-index:100;display:none;}
.type-autocomplete-dropdown.visible{display:block;}
.type-autocomplete-item{padding:0.48rem 0.85rem;cursor:pointer;font-family:'Space Grotesk',sans-serif;font-size:0.88rem;color:var(--text);transition:background 0.13s;border-bottom:1px solid var(--border);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.type-autocomplete-item:last-child{border-bottom:none;}
.type-autocomplete-item:hover,.type-autocomplete-item.active{background:rgba(99,102,241,0.12);}
@media (max-width:768px){.header-content{flex-direction:column;align-items:center;text-align:center;}
.header-right{display:grid;grid-template-columns:1fr auto 1fr;grid-template-rows:auto auto;width:100%;align-items:center;gap:1.5rem 0.5rem;}
.year-selector{grid-column:2;grid-row:1;justify-self:center;}
.year-selector label{font-size:0.9rem;}
.year-selector select{font-size:0.9rem;padding:0.4rem 0.5rem;}
.data-transfer{display:contents;}
#exportDataBtn{grid-column:1;grid-row:1;flex:none;font-size:0.9rem;padding:0.4rem 0.5rem;justify-self:start;}
#importDataBtn{grid-column:3;grid-row:1;flex:none;font-size:0.9rem;padding:0.4rem 0.5rem;justify-self:end;}
.stats-box{grid-column:1/-1;grid-row:2;}
.tab-nav{justify-content:center;}
.coaster-grid{grid-template-columns:1fr;}
.controls{flex-direction:column;}
.form-grid{grid-template-columns:1fr;}
.detail-modal-two-col .detail-modal-row{grid-template-columns:1fr;}
.detail-modal-row{grid-template-columns:1fr;gap:0.25rem;}
.form-actions{flex-direction:column;}
.form-actions .btn{width:100%;}
.coaster-table{font-size:0.875rem;}
.coaster-table td{font-size:0.875rem;}
.coaster-table td.comments-cell{font-size:0.9375rem;min-width:200px;width:300px;}
.chart-aspect-wrapper{padding-bottom:133.33%;}
.ot-legend-label{font-size:11px;}
.card-title{font-size:1.4375rem;}
.card-park{font-size:1.25rem;}
.ranking-badge{font-size:1.25rem;}
.detail-row{font-size:1.0625rem;}
.rating-number{font-size:1.375rem;}
.status-badge{font-size:0.8125rem;}
.modal-title{font-size:1.5625rem;}
.detail-modal-label{font-size:0.875rem;}
.detail-modal-value{font-size:0.9375rem;}
.comments-label{font-size:1rem;}
.comments-text{font-size:1rem;}
.controls .btn{font-size:1rem;}
.filter-group label{font-size:0.9375rem;}
.filter-group select{font-size:0.9375rem;}
.chart-type-btn{font-size:0.9125rem;}
.chart-controls .btn{font-size:0.9375rem;}
}
.ot-legend{display:flex;flex-wrap:wrap;gap:10px 24px;padding:12px 16px;justify-content:center;background:var(--card-bg);border:1px solid var(--border);border-radius:8px;box-shadow:var(--shadow);margin-top:8px;}
.ot-legend-item{display:flex;align-items:center;gap:8px;}
.ot-legend-swatch{width:12px;height:12px;border-radius:50%;flex-shrink:0;cursor:pointer;transition:transform 0.15s;border:2px solid transparent;}
.ot-legend-swatch:hover{transform:scale(1.35);border-color:var(--text);}
.ot-legend-label{font-family:'Space Grotesk',sans-serif;font-size:17px;line-height:1;color:var(--text);white-space:nowrap;}
.ot-color-picker{position:absolute;z-index:1000;background:var(--card-bg);border:1px solid var(--border);border-radius:10px;padding:10px;box-shadow:0 6px 24px rgba(0,0,0,0.25);display:grid;grid-template-columns:repeat(8,1fr);gap:5px;width:auto;}
.ot-color-picker-cell{width:22px;height:22px;border-radius:4px;cursor:pointer;border:2px solid transparent;transition:transform 0.12s,border-color 0.12s;}
.ot-color-picker-cell:hover{transform:scale(1.25);border-color:var(--text);}
</style>
</head>
<body>
    <!-- Main App Content -->
    <div class="app-content" id="appContent">
    <div class="container">
        <header>
            <div class="header-content">
                <h1>Thomas XL-200's Coaster Credit Tracker</h1>
                <div class="header-right">
                    <div class="year-selector">
                        <label for="yearSelect">Year:</label>
                        <select id="yearSelect">
                            <option value="2026" selected>2026</option>
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                        </select>
                    </div>
                    <div class="data-transfer">
                        <button class="data-transfer-btn" id="exportDataBtn" title="Export your changes as a JSON file">üì§ Export</button>
                        <button class="data-transfer-btn" id="importDataBtn" title="Import changes from a JSON file">üì• Import</button>
                        <input type="file" id="importDataFile" accept=".json" style="display:none;">
                    </div>
                    <div class="stats-box">
                        <div class="credit-count" id="creditCount">0 Credits</div>
                        <div class="average-rating" id="averageRating">Avg: ‚Äî</div>
                    </div>
                </div>
            </div>
            <div class="tab-nav">
                <button class="tab-btn active" data-tab="credits">üé¢ Credits</button>
                <button class="tab-btn" data-tab="statistics">üìä Stats</button>
                <button class="tab-btn" data-tab="spreadsheet">üìã Table</button>
            </div>
        </header>

        <div class="tab-content" id="creditsTab">
            <div class="controls">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search by ride name, park, or manufacturer...">
                </div>
                <button class="btn btn-primary" id="addCoasterBtn">+ Add Credit</button>
                <button class="btn btn-secondary" id="filterToggle">Filters</button>
            </div>

            <div class="filters" id="filterPanel">
                <div class="filter-group">
                    <label>Park</label>
                    <select id="filterPark">
                        <option value="">All Parks</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Manufacturer</label>
                    <select id="filterManufacturer">
                        <option value="">All Manufacturers</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Category</label>
                    <select id="filterCategory">
                        <option value="">All Categories</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Type</label>
                    <select id="filterType">
                        <option value="">All Types</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Status</label>
                    <select id="filterStatus">
                        <option value="">All Statuses</option>
                        <option value="Operating">Operating</option>
                        <option value="SBNO">SBNO</option>
                        <option value="Defunct">Defunct</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Minimum Rating</label>
                    <select id="filterRating">
                        <option value="">Any Rating</option>
                        <option value="9">9.0+</option>
                        <option value="8">8.0+</option>
                        <option value="7">7.0+</option>
                        <option value="6">6.0+</option>
                        <option value="5">5.0+</option>
                    </select>
                </div>
            </div>

            <div class="coaster-grid" id="coasterGrid"></div>
            <div class="no-results" id="noResults" style="display: none;">
                No coasters found matching your criteria.
            </div>
        </div>

        <div class="tab-content hidden" id="statisticsTab">
            <!-- Chart-type toggle -->
            <div class="chart-type-toggle">
                <button class="chart-type-btn active" data-chart-type="comparison">Comparison</button>
                <button class="chart-type-btn" data-chart-type="overTime">Over Time</button>
            </div>

            <!-- Comparison view (existing chart) -->
            <div id="comparisonView">
                <div class="stats-mode-toggle">
                    <div class="chart-type-toggle">
                        <button class="chart-type-btn active" data-stats-mode="rating">Rating</button>
                        <button class="chart-type-btn" data-stats-mode="ranking">Ranking</button>
                    </div>
                </div>
                <div id="statsWeightedWrap" style="display:none; margin: 6px 0 2px 0;">
                    <label style="display:inline-flex; align-items:center; gap:6px; cursor:pointer; font-size:14px; font-family:'Space Grotesk',sans-serif; color:var(--text);">
                        <input type="checkbox" id="statsWeightedCheck">
                        Weighted Ranking
                    </label>
                </div>
                <div class="stats-filters">
                    <div class="filter-group">
                        <label for="statsPark">Park</label>
                        <select id="statsPark">
                            <option value="">All Parks</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="statsManufacturer">Manufacturer</label>
                        <select id="statsManufacturer">
                            <option value="">All Manufacturers</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="statsCategory">Category</label>
                        <select id="statsCategory">
                            <option value="">All Categories</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="statsType">Type</label>
                        <select id="statsType">
                            <option value="">All Types</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="statsStatus">Status</label>
                        <select id="statsStatus">
                            <option value="">All Statuses</option>
                            <option value="Operating">Operating</option>
                            <option value="SBNO">SBNO</option>
                            <option value="Defunct">Defunct</option>
                        </select>
                    </div>
                </div>
                <div class="chart-controls">
                    <button class="btn btn-primary chart-limit-btn active" data-limit="5">Top 5</button>
                    <button class="btn btn-secondary chart-limit-btn" data-limit="10">Top 10</button>
                    <button class="btn btn-secondary chart-limit-btn" data-limit="15">Top 15</button>
                </div>
                <div class="chart-container">
                    <div class="chart-aspect-wrapper">
                        <canvas id="ratingsChart"></canvas>
                    </div>
                </div>
                <div class="chart-download-btn-container">
                    <button class="btn btn-secondary" id="downloadComparisonChart">üì• Download Chart</button>
                </div>
            </div>

            <!-- Over Time view -->
            <div id="overTimeView" style="display: none;">
                <div class="ot-source-toggle">
                    <div class="chart-type-toggle">
                        <button class="chart-type-btn active" data-ot-source="ride">Ride</button>
                        <button class="chart-type-btn" data-ot-source="filters">Filters</button>
                    </div>
                </div>
                <div class="ot-mode-toggle">
                    <div class="chart-type-toggle">
                        <button class="chart-type-btn active" data-ot-mode="rating">Rating</button>
                        <button class="chart-type-btn" data-ot-mode="ranking">Ranking</button>
                    </div>
                </div>
                <div id="otWeightedWrap" style="display:none; margin: 6px 0 2px 0;">
                    <label style="display:inline-flex; align-items:center; gap:6px; cursor:pointer; font-size:14px; font-family:'Space Grotesk',sans-serif; color:var(--text);">
                        <input type="checkbox" id="otWeightedCheck">
                        Weighted Ranking
                    </label>
                </div>

                <!-- Ride-search panel (visible by default) -->
                <div id="otRidePanel">
                    <div class="ot-ride-search">
                        <div class="ot-search-input-wrap">
                            <input type="text" id="otRideSearch" class="ot-search-input" placeholder="Search for a ride‚Ä¶" autocomplete="off">
                            <button class="ot-search-clear" id="otRideClear" style="display:none;" title="Clear">‚úï</button>
                        </div>
                        <div class="ot-search-dropdown" id="otRideDropdown"></div>
                    </div>
                </div>

                <!-- Filters panel (hidden by default) -->
                <div id="otFiltersPanel" style="display: none;">
                    <div class="stats-filters">
                        <div class="filter-group">
                            <label for="otPark">Park</label>
                            <select id="otPark">
                                <option value="">All Parks</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="otManufacturer">Manufacturer</label>
                            <select id="otManufacturer">
                                <option value="">All Manufacturers</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="otCategory">Category</label>
                            <select id="otCategory">
                                <option value="">All Categories</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="otType">Type</label>
                            <select id="otType">
                                <option value="">All Types</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="otStatus">Status</label>
                            <select id="otStatus">
                                <option value="">All Statuses</option>
                                <option value="Operating">Operating</option>
                                <option value="SBNO">SBNO</option>
                                <option value="Defunct">Defunct</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-controls">
                        <button class="btn btn-primary ot-chart-limit-btn active" data-limit="5">Top 5</button>
                        <button class="btn btn-secondary ot-chart-limit-btn" data-limit="10">Top 10</button>
                        <button class="btn btn-secondary ot-chart-limit-btn" data-limit="15">Top 15</button>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-aspect-wrapper">
                        <canvas id="overTimeChart"></canvas>
                    </div>
                </div>
                <div id="otLegend" class="ot-legend"></div>
                <div class="chart-download-btn-container">
                    <button class="btn btn-secondary" id="downloadOverTimeChart">üì• Download Chart</button>
                </div>
            </div>
        </div>

        <div class="tab-content hidden" id="spreadsheetTab">
            <div class="table-controls">
                <div class="column-toggles" id="columnToggles"></div>
            </div>
            <div class="table-refresh-row">
                <button class="column-toggle" id="tableRefreshBtn" title="Reset table sort order" style="background:var(--accent);color:#fff;">‚Üª Refresh</button>
            </div>
            <div class="table-wrapper">
                <table class="coaster-table">
                    <thead id="tableHead"></thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
        </div>

    <div class="modal" id="addCoasterModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="addModalTitle">Add New Credit</h2>
                <button class="close-btn" id="closeAddModal">&times;</button>
            </div>
            <form id="coasterForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="rideName">Ride Name *</label>
                        <input type="text" id="rideName" required>
                    </div>
                    <div class="form-group">
                        <label for="parkName">Park *</label>
                        <div class="type-autocomplete">
                            <input type="text" id="parkName" required autocomplete="off">
                            <div class="type-autocomplete-dropdown" id="parkDropdown"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="manufacturer">Manufacturer</label>
                        <select id="manufacturer"></select>
                    </div>
                    <div class="form-group">
                        <label for="category">Category</label>
                        <select id="category"></select>
                    </div>
                    <div class="form-group">
                        <label for="type">Type</label>
                        <div class="type-autocomplete">
                            <input type="text" id="type" placeholder="Enter coaster type" autocomplete="off">
                            <div class="type-autocomplete-dropdown" id="typeDropdown"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="openingYear">Opening Year</label>
                        <select id="openingYear"></select>
                    </div>
                    <div class="form-group">
                        <label for="lastRide">Last Ride</label>
                        <select id="lastRide"></select>
                    </div>
                    <div class="form-group">
                        <label for="status">Status</label>
                        <select id="status">
                            <option value="">Select Status</option>
                            <option value="Operating">Operating</option>
                            <option value="SBNO">SBNO</option>
                            <option value="Defunct">Defunct</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="rating">Rating (1-10)</label>
                        <select id="rating"></select>
                    </div>
                    <div class="form-group">
                        <label for="ranking">Ranking (1-100)</label>
                        <select id="ranking">
                            <option value="">Not Ranked</option>
                        </select>
                    </div>
                    <div class="form-group full-width">
                        <div class="checkbox-group">
                            <input type="checkbox" id="newCredit">
                            <label for="newCredit">New Credit</label>
                        </div>
                    </div>
                    <div class="form-group full-width">
                        <label for="comments">Comments (350 characters max)</label>
                        <textarea id="comments" maxlength="350"></textarea>
                        <div class="char-count" id="charCount">0 / 350</div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Save Credit</button>
                    <button type="button" class="btn btn-secondary" id="cancelAddBtn">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="detailModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="detailTitle"></h2>
                <button class="close-btn" id="closeDetailModal">&times;</button>
            </div>
            <div id="detailContent"></div>
            <div class="modal-actions">
                <button class="btn btn-primary" id="editCoasterBtn">‚úèÔ∏è Edit Details</button>
                <button class="btn btn-danger" id="deleteCoasterBtn">üóëÔ∏è Delete Credit</button>
            </div>
        </div>
    </div>
    <div class="modal" id="commentsModal">
        <div class="modal-content" style="max-width:600px;">
            <div class="modal-header">
                <h2 class="modal-title" id="commentsModalTitle"></h2>
                <button class="close-btn" id="closeCommentsModal">&times;</button>
            </div>
            <div class="comments-modal-body" id="commentsModalBody"></div>
        </div>
    </div>
    </div> <!-- End app-content -->

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script>
const _P=["Cedar Point","Six Flags Great Adventure","Kings Dominion","Six Flags Magic Mountain","Hersheypark","Kings Island","Canada's Wonderland","Carowinds","Dollywood","Alton Towers","Six Flags America","Blackpool Pleasure Beach","Kennywood","Busch Gardens Williamsburg","Six Flags Darien Lake","Holiday World","Parc Ast√©rix","Knott's Berry Farm","Dorney Park","Islands of Adventure","Thorpe Park","Six Flags New England","Waldameer","Busch Gardens Tampa Bay","Kentucky Kingdom","Knoebels","Magic Kingdom","Lake Compounce","Luna Park Coney Island","Universal Studios Orlando","Disneyland","Six Flags Great Escape","The Adventuredome","Stricker's Grove","Animal Kingdom","Wiener Prater","Nickelodeon Universe (NJ)","MGM / Disney's Hollywood Studios","Adventureland","Rye Playland","SeaWorld Orlando","EPCOT","Funtown Splashtown U.S.A.","California Adventure","New York New York Casino","Playland's Castaway Cove","House of Frankenstein","Moreys Piers Wildwood"];
const _M=["Bolliger and Mabillard","Arrow Dynamics","Intamin","Vekoma","Mack Rides","Philadelphia Toboggan Co.","Premier Rides","Rocky Mountain Construction","Gerstlauer","Great Coasters International","Zamperla","Custom Coasters International","Zierer","Taft Broadcasting","S&S","Gravity Group","John A. Miller","Maurer","Dinn Corporation","E&F Miler","Chance Rides","Ralph Stricker","Schwarzkopf","Reverchon Industries","TOGO","D.H. Morgan / Arrow Dynamics","Zamperla / Intamin","D.H. Morgan","Vernon Keenan","Knoebels / John C Allen","Giovanola","SDC","Charles Paige","Andy Vettel","Frederick Church","ART Engineering","Herschend Family Entertainment","SBF Visa","Setpoint","Wisdom Rides","Dynamic Structures"];
const _C=["Wooden Coaster","Looper","Launch Coaster","Inverted Coaster","Hypercoaster","Family Coaster","Non-Inverting Steel Coaster","Mine Train","Shuttle Coaster","Hybrid Coaster","Wild Mouse","Flying Coaster","Dive Coaster","Giga Coaster","Suspended Coaster","Spinning Coaster","Free Spin","Bobsled","Powered Coaster","Fourth Dimension Coaster","Wing Coaster ","Steeplechase","Woodie","Kiddie Coaster","Water Coaster"];
const _T=["Woodie","Hypercoaster","Invert","Custom Looper","Mine Train","Launch Coaster","Floorless","Hybrid Conversion","Multi-Launch","Eurofighter","Wild Mouse","Giga Coaster","Swinging Coaster","Dive Coaster","Dueling Woodie","Suspended Looping Coaster","Stand-up","Family Wooden Coaster","Family Launch Coaster","Blitz Coaster","Hyper Looper","Flying Coaster","Wing Coaster","Boomerang","Mini Coaster","Spinning Coaster","Spinning Wild Mouse","Tivoli","Junior Coaster","Mega Looper","Steel-Support Woodie","Accelerator Coaster","Single Rail","Stratocoaster","Launched Wing Coaster","Vertical Lift Coaster","Batman Clone","Infinity Coaster","Free Spin","Bobsled","Powered Coaster","Impulse Coaster","Family Invert","Family Boomerang","Volaire","Family Coaster","Dark Ride Coaster","Kiddie Coaster","Water Coaster","Steel Coaster","Fourth Dimension Coaster","Pre-Fab Woodie","Launched Looper","Launched Hybrid","Flying Dutchman","Super Boomerang","3D Coaster","Swing Launched Strata","Hyper Dive","Inverted Launch Coaster","El Loco","Hyper GTX","Expedition Everest","Stryker Coaster","Dueling Launch Coaster","Sky Rocket II","Inverted Boomerang","Indoor Coaster","10-Inversion Looper","Titan Track Woodie","Shuttle Loop","Hybrid Coaster","Hurricane","Launched Family Coaster","Steeplechase","Reverse Freefall Coaster","Loopscrew","Dark Ride Coaster / Shooter","Spinning Family Coaster","Not Really a Family Coaster? IDEK"];
const _S=["Operating","Defunct","SBNO"];
const _CL=["Do not remember well enough to confidently give a score","Boulder Dash in the peak of foliage? Gorgeous. The ultimate terrain coaster, rushing through the trees like a scenic railway on cocaine. Yes it's rough. The airtime is on the weaker side. But the pacing is SAVAGE and there are stellar laterals throughout. Ride in the front. CCI nailed this.","DON'T ride this in a wheel seat. Besides that, this feels like a predecessor to Magnum. Really strong airtime throughout the ride and the dueling aspect still works well (great job Ron). Helix at the end is stunted by trims but is still pretty forceful. A great ride CP should keep around.","I slept on this. The launches KICK, hard. Theming is top notch of course but the layout is awesome! Great snaps all around; it really feels like you're riding a motorcycle. I can't think of many coasters that are just this much pure joy, which makes up for its nonexistent airtime.","This thing gets a lot of hate, I thought it was fine. Honestly less painful than Boulder Dash, though far more boring. Almost no airtime but the laterals are solid and the ride oozes charm. Millenium Flyers are pretty comfortable, all things considered. I considered a second ride.","A sweet and neat little ride! Launch leaves something to be desired but the backwards launch provides great positive Gs, and the airtime / hangtime throughout is absurdly good! The lap bar makes it, I can see comfort collars sucking. Overall, a short ride, but a great surprise.","Flight of Fear, if it were smooth and had better pacing. The launch is still meh (though out of the station rules) but seeing the layout is super awesome and disorienting. No mid course brakes makes the second half fuckin' fast, esp when you go low to the ground. This rocks.","Wow lmao, the Mack forceless launch memes are very real. It has some fun moments and okay airtime in the front, perfect for a Disney family coaster. There are some pleasant surprises but you can tell what the audience for this ride is, and it's not a coaster enthusiast.","My first \"big-boy\" ride, so I'm partial to it, but it let me down a bit. The launch going into the zero-G roll is great; the rest of the layout is a tad forceless, and quite rough (did they really retrack it?). First ten seconds are lit and worth the admission.","Fun, but disappointing. Launch is weaker than expected and there are many dead spots but some elements (the initial cobra roll, post-MCBR banking) rock. Also love the launch out of the station. As Joker's Jinx shows though, this can be done much better.","Doesn't feel like an Arrow, but it doesn't really feel like anything else either. Schilke's looper changes things up, and as a result Viper shits on it in the force department. Still, first drop gives good airtime, the inversions are great; they give float (on an Arrow?) and the weird profiling gives character.","I'm shocked, but I prefer the traditional-layout wing coaster to Gatekeeper. Wild Eagle just feels like a very good floorless with new trains. Could offer more whip, and the ride is rough on the wing seats, but the first pullout / loop complex is super forceful and there's even some airtime. Great setting.","This was a surprise! Way too good for a kiddie coaster. Yeah it's small but it packs surprisingly strong airtime on multiple hills, and decent laterals in some of the turnarounds. Plus, a buzz bar on a ride that isn't gratuitous (Phoenix) is always a plus. Pretty smooth too, with comfy (but tiny) trains.","A shaky coaster, even in the front with no other passengers. Hard seats, a rough ride, and plasticky restraints that are aggressively stapled hurt a solid layout, with a good (not great) first drop, good hangtime in the inversions, and decent flowjector on the hills. Unrealized potential in this layout.","GCI shows yet again they can create masterful layouts but make their machines just a bit too forceless for me. Unlike Mystic, however, a front row on Thunderhead offers consistent floater throughout. (Just floater.) Station flyby is cool and ride is chock full of decent laterals. Still not wild enough.","Doesn't feel like a B&M, and I mean that as high praise. From the first drop to the final brakes, Fury is more forceful than Orion EVERYWHERE. An amazing speed machine in the first half, and gives some legit ejector in the final flurry. Only downsides are 2 dead spots + a trim; it's not I305 forceful.","The jojo roll leaving the station is absolutely incredible. The rest of the ride though? Okay. There are good elements but it's tiny and it could be more forceful. Has some bad B&M rattle, which is getting worse. Still fun; actually has airtime, though too small / uneven to make more of an impression.","Even without the head cage, this thing is a disaster, from the moment the \"lift\" mechanism bangs into the car. Horrid transitions toss you around the restraintless cage like a rag doll, and while it's not painful, it's v uncomfortable. Still, it's forceful in places, and the rolls have good hang time.","Ironically the only part that exceeded my expectations was the decent first launch. It does focus on hangtime, which is great without an OTS restraint but the Mack lap bars are Skyrush-y. Good inversions / layout but everything is too compressed, leading to some uncomfortable transitions. Bad rattle.","Not as good as Hershey's installation, and that's not down to the Smell-O-Vision. It's a bit rougher and the station stop isn't as fun as going up the backwards spike again. Still, the Boomerang is underrated, forceful and fun with the backwards loop being the easy highlight. We love vest restraints.","Such a bizarre creation. Good theming and pure quirkiness help to balance out the uneven pacing and uncomfortable ride experience, especially in the awkward outdoor section. Ends with a bang though, a great final plunge leading into that hangtime-filled final inversion. Would be better with lap bars.","It's hard to put the experience of this \"kiddie coaster\" into words. A launch out of the station? A backwards section? This ride is extremely unique, well themed, and a total riot, if a bit lacking in the force department. Would love to see Gerstlauer try this ride style with a more forceful layout.","This small scale and very traditional Arrow looper brings a solid ride experience. The simple layout belies some great surprises, namely the insane ejector pop into the turnaround (in the front) and forceful final helix. A bit rough and shuffly but exudes Arrow character. Prefer the front slightly.","Sad to report the \"In-trim-idator\" memes are real. On a good day, the longboi trains elevate Intimidator to a weaker cousin of Dback (blame a slightly weaker layout and yes, the trims). On a bad day though, the trims still hit, and you get less float than cold Nitro. The giga crushes in Carowinds.","Oh to have experienced this in 2016. You can tell it's slowed down; the launch is great but the train crawls over the top, and when it's slow the airtime is \"only\" flowjector. When it's fast though, my God. Quad down is relentless, and the highlight is the 5 second floater wave turn. A bit short.","#150 is honestly better than any of the big-boy standups that followed, due to the fact that it is (mercifully) short. A front row ride is actually somewhat comfortable, with tolerable forces and only a little headbanging. But a back row ride deftly illustrates why I hate B&M standups so much.","Ok, B&M dive machines are good! Hanging off the vertical drop is terrifying, there are great positive Gs, and you DO get airtime on the two vertical drops. No, it's not very whippy, just floaty. And it's pretty short. But I'm a fan.","Continuing on my streak of great boomerangs. The inverted boomerang model is a fun time! It's not as imposing below the track but the face-off element is super cool, and there is plenty of force and whip you'd expect from a boomerang. Roughness is tolerable even with horrid SLC restraints.","They call this model the \"hang and bang\" for a reason. I cannot believe something this small tracks so poorly, with a shocking rattle and some disappointing transitions. Thankfully the new restraints are comfortable, and a few decent helixes and forceful moments salvage this mediocre ride.","I was told this was a family coaster? My God this ride is shockingly forceful. Great launches, crushing positive Gs, and the theming / drop track is cool! Love the BBW tribute drop at the end. It is a worthy replacement for BBW.","For a converted ride type, Rougarou does well. The first 2/3 of the ride are pretty awesome, forceful (with no airtime ofc) but a bit B&M rattle-y. And good whips? Absolutely dies at the midcourse. Was better than Medusa pre-repaint, and shows the potential of the standup layout well.","Superdooper mild but the loop slaps in the back, nice positive Gs at the bottom and good hangtime at the top. Legit one of the best loops out there. The rest of the ride is a pleasant but forceful romp around the hillside. It's relaxing and nice, so I can forgive its forcelessness.","What a weird ride. A leisurely launch yeets you up a tower and then you come down. Rather forceless overall (I expected positives on the transition but didn't get them; weak float on the tower), but it's unique and the sense of speed is cool. Why does this have shoulder restraints?","Lol nope. My hopes for this outclassing Green Lantern were quickly dashed. So many crushing positive G forces in such an uncomfortable position. Add an extremely long, shaky layout with a few horrid, headbanging transitions, and you got yourself a skip. Would be a great floorless.","What is there to add about Space Mountain? This incredibly slow coaster is made fun by patented Arrow jank leading to occasional surprisingly forceful airtime pops, a solid layout, and the awesome indoor setting. It's dated but it's still the best coaster in Magic Kingdom... ugh.","The long trains really make this, as the momentum is wild. Pacing really could be better. And the chain lifts are painfully loud for some reason. Space Mountain is better but its still a decent thrill, for a Disney coaster.","A special place in my heart, and the launch and music are great. The layout post-the initial inversion is disappointingly bland and forceless (bar the sweet corkscrew), though the theming somewhat makes up for it. Smooth for a Vekoma. Just not intense enough for me anymore.","Now I get the hype about New Vekoma. This family invert has no right to be as good as it is, with a solid first drop (into a trench!), whippy overbank, and decently forceful helices. Obviously it's small and short, but I still loved it. Maybe the STC should come to America.","Just a little bit worse than the Kings Dominion installation, due to the midcourse bringing you to a full stop and it generally feeling less forceful throughout. The theming remains awesome and station launches are a cool gimmick, but the ride definitely shows its age.","It's honestly difficult to even classify this as a coaster, more of a dark ride with a few weak drops. It's outdated and weird (you go through every scene too fast to understand what's going on), but just so damn charming. First drop legitimately catches you off guard.","For its lack of intensity, this ride slaps. Mostly due to the incredible theming, which makes my skin crawl to this day. The backwards portion and the launch are cool too. Why can't Disney do something like this?","This standard Mack mouse differentiates itself by ripping through its course with very little trimming. While bordering on uncomfortable, comically strong laterals and surprisingly good ejector pops make this mouse a bona-fide thrill ride. A hilarious experience.","It's a dive coaster, and I like dive coasters. That said, I enjoyed Griffon more; Valravn just feels more drawn out and less forceful. Still a great first drop and a nice breezy experience. A great ride, but one that is overshadowed at a park like Cedar Point.","Nice job GCI! BGW's only woodie is a solid addition to the park. Glass smooth and great laterals / decent airtime. If this were twice the size it would be absolutely top tier, it's just too small / weak. And it's a GCI, so the airtime is weak to nonexistent.","It's a kiddie coaster. A good kiddie coaster. But a mild ride compared to what else Islands has. Back row is Skull-Mountain esque in its comical airtime on the first drop. Rest of the ride is breezy.","I wish I rode this again. Past the initial panic attack all I recall is sheer thrills and sheer joy, being blasted out of the station and then out of the volcano. Maybe my proudest defunct credit.","Ah boo, another in a line of recent Disney coaster disappointments. Not at all exciting and also not very well themed, given the CGI dwarves. And always way, WAY too crowded. Big Thunder stomps.","IK this ride is underrated and I agree, this is great. Launch is okay but the top hat is sustained ejector the whole way up. Great positives all around and the inversions try to throw you out of the train. Yes the back end sucks, but it is at least hilarious. Short and drops off at the end but definitely slept on.","I want to like Kumba more. Sure, I only got one Row 6 morning ride, but I can't place it higher rn. Still, the ride is so damn charming. It feels old (weird for a B&M), but the layout interactions are masterful and the ride is gorgeous. Everything just felt a bit less whippy, a bit weaker than I was hoping for.","Harley Quinn Lateral Machine. The trains are so long that you end up getting whip and laterals throughout the layout when sitting in the back. That said, it's a kiddie coaster, and somewhat uncomfortable for a person of my size / age.","Like a mini-El Toro, in a park that already has El Toro. Great airtime on the insane first drop, the stall is cool, and since disposing of the trims the back half is pretty forceful. Restraints suck, and it's sometimes rough, good luck getting your row. Still, awesome powerful airtime and an overall fun ride.","Looks and sounds like a Morgan, and I'm happy to say that Slime Streak pulls off mini-Steel Force well! The first drop whips you over in the back, with decently strong airtime and a great jolt of laterals. The rest of the ride is a bit weak in the airtime department, but it has solid laterals and good pacing.","One of the milder Arrow mine trains out there, despite the fact that it looks like one of the jankiest. The only force you will find is the bitchin final helix that gives a decent combo of laterals and positives. The setting is also gorgeouS. Above Trailblazer, but not crazy enough to vault other mine trains.","Looks can be deceiving; despite the comically shallow first drop, this is one of the best B&M inverts. Not as whippy as a Bat clone, and the cobra roll is no Raptor / Alpy, but the ride has breakneck pacing, claustrophobic setting, strong positives, and surprising pops of airtime (especially that overbank!).","A fun and traditional dueling woodie, but nothing crazy. Not sure why it was necessary for Six Flags to remove this, but it will live on under El Toro's incredible Rolling Thunder Hill.","Unfortunately this Woodstock Express is a bit weaker than its Kings Dominion counterpart. There are some decent spots with surprisingly good airtime, and the buzz bar is fun on a ride like this. I just had higher expectations lmao.","Maybe I've been sleeping on Fahrenheit for too long. It's actually a great ride! The lift is fun, as is the glorious first drop, but in 2023 Fahrenheit finally brought decent force through its middle inversions. The Maverick-level airtime hill and corkscrew are wild as well. I now think this is underrated.","It's Medusa in a parking lot! And that's exactly what it feels like. Marginally shakier but the rattle isn't bad, leaving a solid floorless that's always better than I think. The highlight is the post-midcourse helix; you're so close to the ground you feel like you can scrape your fingers on the pavement.","I'd take this Infinity model over Shellraiser any day! It offers comfortable trains, stronger inversions that offer good positives, a (mostly) smooth ride, and a first drop that offers significantly better airtime than Shellraiser. It's not unhinged and there's a distinct lack of hangtime but I loved it.","I wanted to love Tbolt and a back row ride really did the trick. This ride is great! Not much of an airtime monster but there are a few surprise sustained floater moments and a nice pop going into the chain lift. But the laterals are elite. The rose bowl pins you to the train and feels wild. So charming.","Surprisingly fun for a kiddie coaster! You take what you can get at Disney, and someone desperate for thrills like myself will happily prostitute myself at the feet of Goofy for this.","A traditional-style woodie done right. Airtime is very good (not Toro good), on the first drop and camelback especially (and the drop off the midcourse), but the real highlight is the fierce laterals throughout that give GhostRider an awesome old-school feel and frenetic pacing. Best trad woodie? Maybe.","RMC hyper hybrid? Top ten ofc. I must say tho, I was expecting more. The gimped first drop feels pitiful compared to SteVe, even if it picks up halfway down. It lacks the sustained power SteVe delivers, outside the amazing sideways overbank. Still, death roll is awesome, insane pacing, airtime abounds.","RIP to a real one. Especially since I got many rides when they actually dueled. Old school B&M brought the intensity on both sides, I may have preferred Ice because I was a contrarian, but both sides had whippy inversions (esp Ice with the zero G / cobra roll and both corkscrews). Duels were legendary.","A single cold morning ride with an empty train is no way to judge a coaster but blue Batman felt like a standard Bat clone running slow. It's compact, whippy, and fun, if short and generic. Had a rattle but I'll chalk it up to morning tolerances. Also, the theming here is better than Great Adventure's.","Much like Medusa, the repaint breathed even more fury into this powerful layout. It's absolutely insane now. The more inverts I ride, the more I realize how much B&M nailed the formula on the first try; Batman wants to rip your head off in the best possible way. Still stands strong among its siblings.","IDK, this repaint really breathed new life into Medusa. The first half was far more forceful, especially the whippy cobra roll and zero-G roll, with a pinch of delightful hangtime on the loop. Then the midcourse semi murders it, but the corkscrews are whippy. Still has some rattle but it's manageable.","FINALLY I get back on Laff Trak, and it was\u2026 good. The spinning does come close to triggering vertigo, which is unfortunate, but flying backwards through the layout is pretty fun. It's trimmed pretty hard and the interior decorations aren't THAT exciting... fun but not worth the line it usually pulls.","The first half is incredible, FAST, absolute madness, especially the cobra roll. The trims are BRUTAL and murder the second half though. First drop is also weaker than expected. I have fonder memories of this ride in its full glory but even neutered Alpy rocks; a trimless ride could push this higher.","I won't lie, I expected more. Afterburn starts off strong with a solid first drop and somewhat strong loop, but the Jet Coaster misses a few times, with the nothing immelman and the bizarre dead spot. These are balanced out by the great (if not VipTu-godly) batwing and solid corkscrew / helix finale.","Another very solid dive machine, probably one of the best. I forgot how many positives this layout has, and while there's no airtime outside the drops, and it runs a tad rougher than Griffon, the theming is dope and the splashdown really soaks if you're looking for that. Just not very whippy or wild.","That pretzel loop is pure sex, though the rest of the ride is relaxing to say the least. Even the rolls are pretty bland. But that pretzel loop\u2026 my God. Positives unmatched in duration and intensity. There's a lot of potential with the B&M Flyer, as Tatsu shows, but Superman doesn't fully realize it.","Not a high bar, but a VAST improvement over the old Cat. Wildcat's Revenge has everything I love and hate about RMCs- a gut punch of a first drop, one epic sustained ejector hill, and frenetic pacing combined with solid inversions and a maddening pre-lift / ending. What is that turn into the brakes?","Yeah it's hella short. And the trim brakes at the end are killer. But it's just a fun ride. The hangtime on that first loop was not overhyped; launches have decent power too (especially the awesome backwards launch). And I feel how good the airtime COULD be on the top hat. Need a warm back row ride.","Didn't get a very spinny ride and apparently it doesn't spin as much as others (ahem, Rajun Cajun) but Exterminator makes up for it with well-executed and charming theming. Feels like a cuter version of the Dark Knight mouse. Even if it doesn\u2019t spin much, the spinning is always fun. Woeful capacity.","Much as it pains me to say, the double down lives up to the hype. Halfway down the second drop it feels like the floor drops out from underneath you, it's crazy. The rest of the layout is better than expected, just weak floater and decent laterals but not totally dead. Obviously extremely charming.","A ride with so much potential, but unfortunately Apocalypse has a grinding, persistent roughness that kinda ruins it. Layout is mid-high tier GCI, with the easy highlight being the wild first drop off the turnaround that gives good laterals and ejector. A retrack might make it compete with Mystic.","Taller and twistier than Possessed, but slightly worse. The straight vertical spike is definitely better than the twist, and the pullouts aren't as strong on Wicked Twister. Ah well, still a good time. May it rest in peace.","A blitz coaster, and a STELLAR one at that. Lacks drawn-out airtime which hurts it a bit (trims on the top hat?) and it's more forceful in the front but it's a long ride with a great layout, super fun snaps, comfy restraints, and great theming. The mososaurus roll tries to throw you in the water.","The White Whale is slain, and what a ride. Montu delivers unmatched forces; the yank into the batwing is orgasmic, and that final corkscrew is so violent. The midcourse drop is amazing! How? Positives everywhere outside the first drop and the section after the second loop. Best invert in America.","You would expect more from the world's steepest coaster. Better in the front, just prepare for that pothole. The launch has decent kick, and the inversions have solid hangtime. But it feels... trite. The shake of the tower while you're in the brake is more exciting than the famous drop itself.","Short and fun, Pony Express serves its purpose well as a solid middle-ground coaster. The launch is kinda punchy and better than WCR, and the ride offers decent pacing and a novel seating position, even if the restraint kinda sucks. I wouldn't call it intense but it's definitely not forceless.","Of the Arrow mine trains I have ridden, this one feels a lot more modern, and that's not a good thing. Comfortable with nice helixes, and nearly absent of jank, but feels far less exciting than most other mine trains, which I confirmed this year. A good family ride, which makes it a bad Arrow.","Thoroughly mediocre, which means it's significantly better than its reputation suggests. The laterals aren't super strong and you get a good number of trims to ensure a pretty forceless ride, especially at the end. The restraints are truly idiotic but I had no pain from the bizarre shin bar.","For the sake of my vertigo I couldn't focus too much on this ride but I was very surprised, in a positive way. The helix towards the end (we took backwards) has an awesome punch, and the layout is both smooth and chaotic. Drops and Gs aren't forceful but if you spin fast this would be wild.","This one holds a lot of sentimental value for obvious reasons. The loops are great, though the middle of the ride is poorly paced and it's a bit forceless / 'bad' janky with stupid Arrow trims (2nd drop). A sentimental fave, if not the world's greatest (or close to Arrow's greatest) looper.","Best coaster at Disneyland, by virtue of being the only moderately thrilling coaster there. Good launch and loop but the layout is slower than it needs to be. RnRC is better.","I slept on Raptor tbh. You can tell it's an older model, but most of the time, that\u2019s a good thing. Just some weird pacing lulls hurt this insanely whippy invert, which packs some super forceful elements (final helix, cobra roll) with unique jank. That first drop in the back right? Sweet.","Kingda Ka. But slightly smoother and slightly less exciting (shame about that missing second hill). Future evaluation will see if this really is better than Ka like some claim. If that day ever comes. (No it didn't)","There's something to be said about the novelty of a bobsled. That \"off the rails\" feeling is fun, but trims neuter the potentially chaotic experience, that you get brief glimpses of in the initial helices and bottom of the ride. Occasionally chaotic, but mostly breezy (in a fun way).","This piece of American history should NOT be as good as it is. Great forces, laterals are absurd on the turns. Comfy trains too. Decent (if not world-changing) airtime peppered in a few spots and nothing more. Plus, it's smooth as glass now (to its detriment?)! Need a back row ride.","Finally I can drop my free spin credit slightly, tho I still had a spectacular ride on it. It's amazing how much more wild this one is when compared to Tumbili. You even flip on the lift! Nonstop insanity and while it is very ride dependent, it's still a legitimately strong ride.","A rather hilarious kiddie coaster. It's janky, which is a good thing, and there are actually some small airtime pops throughout. Plus, 3 laps. I'm still too big for it.","Sentimental, but also the best Arrow suspended swinger in America. The last drop / turnaround made up for the lack of intensity in the first half, the swinging was and always will be awesome, and the theming was incredible. Shame on BGW for removing this. (Tho Verbolten is great)","A cute surprise! Good launch and solid positive Gs. Though the layout is weird and meandering, and the indoor section is pretty bland. Like Verbolten, but a bit worse.","God I wish it wasn't so rough, because that's my primary memory, besides the awesome intensity. I'm sure if I rode it now, being taller and knowing how to ride Arrows, it would be higher. And post-Viper, I feel pretty damn confident in that assertion. RIP, fuck Green Lantern.","I should have known I was a thoosie just based on the fact that I loved this shittily themed spinning wild mouse. It will be missed, just cause it won't be replaced.","Hard to believe this old woodie is such an airtime machine. It's small, old, and a bit rough (the turnaround?) but each airtime hill is an absolute joy giving that fun bouncy airtime only an old woodie can provide. A pleasant surprise and I hope it stays around for a while.","The first B&M hyper is still a riot after all these years. Apollo gets a bad rap; it's better than Candymonium (long layout? Whoa) and has some cool elements paired with a great setting. Nitro is (slightly) more forceful, but Apollo is still the best ride in BGW. For now.","A legend reaching its 75th year. I wouldn't call it rough but it belies its age, and the thrills are middling compared to newer woodies, but the drops are solid and the layout is fun. You'd expect more airtime on that return run. Hooray for buzz bars, always a cool ride.","Opinions haven't changed much on this fun little coaster. There are certain dead spots and it's very compact obviously, but the first drop is a lot of ejector-y fun, there are great positives (the loop), and then the roll at the end offers stellar hangtime. I dig it.","Still the best Vekoma Boomerang, and I smelled it this time! Vest restraints make headbanging a thing of the past, but this thing just tracks so smoothly. At least in the back. In the middle it rattled a good bit. Still a forceful and disorienting layout.","Slightly worse than the wild mouse at Hersheypark, which is odd because the layout is more complex and offers actual drops. As Steven Rouzer says, \"the world's most meh wild mouse.\"","Lol why did I ride this. Basically identical to the Dorney kiddie coaster. Track profiling is all over the place which leads to some surprisingly fun (and painful) moments. Eh.","Sheer pain. It's impressive that one ride so long ago left such a negative impression. But TOGO didn't earn its US reputation for no reason.","Basically the same as the Kings Dominion installation but working effects are certainly a nice bonus. The initial helix remains shockingly forceful, and a pleasant surprise.","Talon has been giving solid rides lately, but I still think it's missing a bit of the sauce. Not as relentless or whippy as its older siblings but good positives throughout, solid first drop in the back, strong helixes. Immelman gives float. Its biggest strength is its consistency, but it can't match the highs of Montu or even a Bat clone.","Vertical lift and music lift up this pretty decent coaster. Need to reevaluate again. MAYBE the best in Universal, at least, this park\u2026","It is truly bereft of airtime, besides a brief second on the first drop and the mildest of floater on the speed hill, but the positive Gs are great, from the first drop pullout to that godly helix, which has some of the best and most sustained positives this side of I305. Glad it's not my home hyper but I will happily say I liked it.","Yes, this ride is a weird, janky mess, but it's just so funny that it has to put a smile on my face. It's very old school, it shuffles a lot, and the track profiling is pretty bad. But that leads to some comical moments of force in the back, with some legit airtime, positives, and laterals. It was perfectly tolerable with the trains.","I'm proud that my 100th credit has come out of rehab with a new attitude and some fancy trains. The pain is gone! That said, the trains can't hide just how BAD this thing tracks; now though, it's an absolute laugh from drop to brakes. Back is kinda smooth? It's whippy and has solid positives. Inline twists are still the best part.","Even better than before? Hell yes. Viper lived up to my lofty expectations with shocking savagery in the first half (positives! Whip! Laterals?) and one of the GOAT inversions in that bizarre, hangtime-filled batwing. Corkscrews are a bit fast for my liking but everything else is perfect. Characterful. Old-school in the best way.","It's been a while since I've had a truly great Millie ride but it seems a lot of the Buzzed Bars people got one and I believe them. Nothing nails the feeling of speed as well as Millie, even if other rides are wilder. Awesome drop, great whip / positives, and even airtime in spots. Still, it'll drop til I get a great one again.","Man, IDK, I'm still not crazy about Phoenix. Buzz bar airtime with no seatbelt is as ridiculous as advertised, but it's not THAT good. Esp when you compare it to like, Tornado. The Holiday World woodies really put into perspective how limited this meh layout is. But it still has great airtime, and beats many woodies of its age.","My God, Ninja was so much better this year? IDK what happened but it was absolutely flying through its course. Sure, it's quite rough, shocking in comparison to the Bat, but it might have the edge in the pacing department after the initial swings. The dive down to the water is incredible. Glad to see the suspendeds killing it.","Every time I ride Maverick, I'm surprised. I keep discounting this whippy monster. This year even the second half was hitting well, though last year's foggy dark rides clear in the vibes department. Riotous first drop and continually strong airtime, powerful transitions, a punchy launch, this fella makes the most of its size.","I had high expectations for my first GG, but I was rather disappointed. A great fit for the park with breakneck pacing. But outside of a single small ejector pop on the double down, there's almost no airtime (including that drop in the back). Sometimes laterals, sometimes mild positives, but it's certainly a \"family\" woodie.","Yeahhhhh boi, Tatsu night ride is the ultimate vibe. It's not as forceful as a Flying Dutchman, but the sequence of rolls around the mountain is delightful and really feels like you're flying. Still has one of the best settings on any coaster; what a beautiful layout! The pretzel loop is the obvious, pummeling highlight.","A study in contrasts. RFII at its best is elite, with savage airtime, brutal laterals, and an out-of-control sensation no other woodie can replicate. Incredible first drop, the tunnel sequences are peerless. But the big second drop is a dud, and the ride just dies at the end; it could be better paced. A bit rough too.","Death hill. Need I say more? Jesus Christ that hill in the back has the strongest airtime I've ever felt, comically powerful ejector with a buzz bar that punches you in the nuts with its power. Beyond that, it's a solid old school woodie, with a few other good airtime pops, and tolerable roughness. I need to go back?","Embarrassing showing, it's saying something when Steamin' Demon is smoother than a brand new B&M (avoid the wings). Roughness def hurts what is otherwise a generic dive with solid theming. That drop somehow doesn't give ejector, but the highlight is the strong positives on the pullout into the immelman. And the jerk.","What do you get when you combine the jank of Adventure Express with the forcelessness of Trailblazer? One of the weakest Arrow mine trains. Not the best on setting either, but it's still cute and relaxing enough.","Fun, but a bit flighty. There is strong airtime at the beginning, good hangtime on the inversions but the launches are weak sauce (first is a bit slow and second kicks for .1 seconds) and there's not much. On the bright side, it consistently duels, you get decent positives in places, and the layout is solid and fun.","The \"renovation\" seems to have changed nothing, it's janky as ever. But I always need to get a ride. That airtime hill at the end eally feels like you're on Magnum for a second. Even beyond that there are some hilariously forceful moments (back row drop before the Magnum hill slaps).  But the charm is wearing a bit.","The haters are legion but I don't care, I love this little loopscrew. It does definitely shuffle, but comfort is LEAGUES above CP's corkscrew, I don't mind repeat rides. First drop doesn't bring as much airtime as hoped and the loop is meh but once warmed up, it's decently forceful. Classic ride. It's also gorgeous.","One of the biggest surprises of the trip! Anywhere other than the very front is likely painful but front row gives solid floater all the way through. The Titan track is smooth as glass and the transitions from it to brutal wood are hilarious. Last stretch is rough and forceless, but the rest of the layout is solid.","A janky Arrow mine train which feels newer than the others, for better and worse. No airtime but great pacing and good laterals throughout the layout, with just the right dusting of jank. Ending on the lift hill is comical. Feels like everything is 5 mph too fast and 15 degrees too unbanked, in a (mostly) good way.","I may have slightly overrated it but this is still the best B&M floorless. Riding it early is still the move. First drop has great whip, first loop has great hangtime, positive Gs are wild (esp the on overbanks), corkscrews are whippy, and it's much more intense than other B&M loopers! A trimless ride was nirvana.","I've been on so many Arrow loopers but Corkscrew is just a uniquely painful machine. Trains are comically cramped; I get that they can't be upgraded but they fold my spine in. Still, it's got its moments. The absurdly strong speed hill and punchy loop are standouts. IDK, I would actually advocate for Vekoma vests.","Absolutely insane, but the more I ride it, the less novel it feels. That said, X2 is so unique. Back row whip over the drop is a gut punch every time, while the rest of the ride deftly mixes surprisingly strong positives with disorienting and fun float. Still short with a dead spot though, and a bit rougher now.","Hard to deny after riding it that this is absolutely god-tier. Incredibly long with absurdly strong airtime throughout, a stellar first drop, wild pacing, and those floaty zero-G rolls that RMC makes so well. Though uninspired and gratuitous at the end, and similar to other RMCs, the first two laps are perfect.","Actually a solid wild mouse, that runs much faster now. Theming is kinda cheap but it works well enough at a Six Flags park. And the horn is gone! Wild mouse turns are always fun, maybe I slept on this a bit.","Warmed up hot rides confirm that it's just slightly better Jersey Devil, which makes it a pretty great ride. Back row is obviously the king for that wild first drop, and it gives all the single rail airtime / whip with some cheap jankiness thrown in. Yes, it's rough. But MM needed another good airtime machine.","This rating is definitely colored by sentimentality; I've lapped this so many times I can't not give it a high rating. It could be more intense but that backwards section has awesome forces. Some spots have a bit of airtime in the right place. And the theming is great. Worth the umpteenth rides, esp at Disney.","Lol why did I like this so much? The Volaire is hated by the coaster community but I liked it a lot. Idk haha need to reride","The Beast is like nothing else. It feels more like a runaway train than a coaster, and that's a compliment. A wonderous jaunt through the woods, filled with delightful laterals and a surprisingly smooth ride. The final helix also slaps. Not great airtime but this is an icon for deserved reason. Ride at night.","Candy still continues to improve. Trims still hit but it now offers strong and consistent airtime to the finish. Diamondback level power, a bit stronger honestly, but none of the whip. Now the helices are actually forceful, speed hill and drop are highlights. First drop feels like it ends really quickly tho?","Sure I was drunk, but GotG blew my expectations away. Back row is definitely the place to be, there are actually some small airtime moments. But with the launches and rotating cars, the pacing is furious. Great whip, great positives, comfy ride. The theming is incomprehensible on-ride but great in the queue.","Such a pansy compared to the other Arrow suspendeds remaining. Good as a kiddie ride; the majority of the layout is a pleasant and forceless romp through the woods. Slightly redeemed by the final helix over the water. Much smoother than Ninja but I would trade them in a heartbeat, and the Bat embarrasses it.","A slightly better version of the Six Flags America Superman, and that's not a bad thing. The quirks of the layout work a lot better with the lakeside setting, and glorious T-bars make their return. It feels no slower or rougher than the SFA installation, so there's still a few moments of incredible airtime.","Flawed and bizarre, with some great moments. In the back, the first drop and third hill offer wild ejector. First helix gives decent laterals and positibes too. The rest of the layout is weak airtime, a pathetic helix, and baffling brakes. You can ride pain-free but I know T-bar greatness and this ain't it.","With the new restraints, Skyrush (thankfully) doesn't change much. It's a bit less free, but the tradeoff is a guaranteed thigh-crush avoidance, and that's worth it. Still painfully strong airtime, still comically powerful positives in certain moments, still some weirdly flaccid turnarounds. Still love it.","Not as good as those 2022 night rides, but man were those rides special. Fast Bear is something else. There are legit airtime pops throughout, but positives dominate, with the forceful helix, whippy loop, insane zero-G roll, and that wild corkscrew finale. More than enough to forgive the few awkward spots.","Long live the king, god damn. Ka's death was far too premature but the legendary strata will remain the wildest ten seconds of your life. The feeling of speed was obviously unmatched, and I was a fan of the fierce launch's weird pulsation. A one-trick pony but I was blessed to get so many rides this year.","Thank God, an Arrow that lived up to expectations. Go up front (the first drop in the back has no airtime) and you get treated to a blitz of a layout with commendable pacing, some pretty wild swings, and great positives (the helix especially)! It's short but it's a blast, and much smoother than Ninja.","Every time I came to Hershey I thought to myself, \"Wildcat can't be as rough as I remember, right?\" And then it was. Not in a charming way either. Layout was pretty meh too, even compared to contemporaries (Roar). I still harbor some sentiment for this pile, even if WCR is a comically strong upgrade.","People say Storm Chaser is a savage ride, and they are CORRECT. This ride is on another level compared to the other small-scale RMCs, relentless from start to finish. It's borderline uncomfortable at times and you really feel the lack of height but it's as much adrenaline as chasing an actual storm.","Man, I really wanted to like this ride more than I did. My tied-favorite coaster's older brother lacks the bite needed to truly make a strong impression. Loop is too slow and the corkscrews are too fast. That said, the helix is fun / actually forceful and the batwing has one wicked snap in the back.","Sad to say but Lightning Run was a letdown. Don't get me wrong, it's a great ride with solid airtime and awesome pacing. But the layout is a bit bland and it's just missing the bite I was expecting from those who told me this ride was an ejector-fest. There's potential in the ride concept, though.","I've given it many shots, and it still sucks. It's tolerable off the great first drop and loop but even if you set yourself up right to save your nuts, standing up through these strong positive Gs isn't pleasant. As is standing on the brake run. Layout is good (see Rougarou) but it's still a skip.","Pretty cool. The multi-launch is a cool gimmick. A good compact ride but obviously not as good as more\u2026 complete rides.","Vekoma is on a hot streak and they prove it here with a family shuttle that actually delivers solid forces! The first turn has strong Gs, you feel a pinch of airtime on the S hill, and the backwards track is a semi-forceful riot. Cute theme too, and smooth as glass with comfortable enough trains.","I'm perplexed as to how Snoopy manages to feel so much more forceful while being the same ride model. The Good Gravy theming and trains are absolutely incredible, and its no doubt a good fit for the park. It just has none of the bite that Snoopy did, and the whole ride felt somewhat pointless.","I mean it was a novelty, but a fun one to my childhood mind. Doubt that a ride now would leave me very impressed tho.","A great ride that would be elite if it were a bit longer. Hydraulic launch is punchy but over so quickly, which can be forgiven because the top hat is the best out there. Strong ejector the whole way. Flying snake dive combines ejector, lateral whip, and hangtime. Short and small, but sweet.","Somehow this boomerang with horse collar restraints is the best non-inverted boomerang I've been on. It tracks smooth as hell, basically no headbanging or shaking at all. Great setting too, right over the water. As always, the boomerang brings the force, and the backwards loop is incredible.","Still the king of absurdly spinny rides. It's not luck I swear there's something different about this one. It's basically Primeval Whirl, which was a good reminder that these spinning mice are pretty damn fun. Still very ride-dependent though, and no airtime, hence the somewhat lower score.","Surprisingly zippy launch yet again, from the makers of Pony Express. Motocoaster is a cute little ride; the restraints and seating position aren't very fun but the launch is giggle-inducing and there are some moments of surprising bite peppered in a relatively simplistic and bland layout.","An Arrow Mine Train, for better or worse. Super janky transitions but the scenery is great and there are some relatively forceful moments. Nothing to write home about though; more janky mine trains offer a more exciting ride. We rode in the front so it wasn't as rough as Great Adventure's.","Okay, Credit #100 was better than the meme implied. It IS janky, like really janky, just watch how the train shakes side-to-side over the queue. The SLC layout is great and forceful, and I can see how a retrack and vest restraints would make this legendary. Don't ride this late in the day\u2026","Firebird went back to kinda sucking. Pretty forceless while lacking the smoothness you'd expect from a B&M, and you're guaranteed to bash your head on one of the few bad transitions. Not chaotic enough to clear an Arrow, not refined enough to be anywhere near the B&Ms that followed it.","A fun, if breezy, classic that just slightly ekes out the SooperDooperLooper. Definitely a bit shakier than the former and with worse trains, the first modern looper still provides a long and pleasant (forceless) hillside jaunt with a wicked Schwarzkopf loop thrown right in the middle.","Velocicoaster, but worse. Slightly. It lacks height, which is its major weakness. But it does the best it can with its layout. First drop is tasty, airtime is strong if not sustained, and there are great whips throughout. Second launch hits well too, too bad it's immediately trimmed...","Compared to Ninja, the Dragon falls flat on its face. Good as a kiddie ride but the majority of the layout is a pleasant and forceless romp through the woods. Slightly redeemed by the final helix over the water. Much smoother than Ninja but I would trade them in a heartbeat.","Beyond an ejector-fest of a delicious first drop, Tantrum is pretty forgettable. It's comfortable and smooth enough but the layout is rather short and the elements don't pop, even if there are a few moments of decent positive Gs. Fun enough, but nothing to write home about.","Late season really ruined this ride for me. Suddenly super janky and trim city, which is so bizarre on a 100 year old woodie. Absolute buzzkills on almost every element. Also very rough, especially in the back. I enjoyed it more earlier this season but still no airtime. Eh.","It's the same ride as the Magic Kingdom version. No real difference. I'll take the extra credit nonetheless.","Now THIS is what I was expecting from Bobcat. Strong and consistent airtime start to finish, decent laterals, great pacing; a woodie of this stature has no right to be this good. Even the first drop hits. Well worth the journey to the back of the goddamn park.","This DEFINITELY should not be as fun as it was, given that it's an SBF goddamn Visa. But it spun pretty well, and every time we sailed down the \"drop\" we got some legitimately strong whip! Maybe the family entertainment centers were on to something after all.","Second time around, I got a great ride! Plenty of flips. I expected the first ride was a fluke because these rides have a lot of RNG involved, but the small layout is definitely weaker than Joker's full scale layout. It's pretty much definitely worth a ride.","We did not get a very \"spinny\" ride so take this rating with a grain of salt, but the layout sans spin was rather bland. Laff Track has the advantage of the indoor surprise, but Steel Dragon's setting saps the excitement. Backwards drops can be fun though.","Shout-out to Party Mode Skull Mountain, because that shit is hilarious, they should leave it on all year. Beyond the comically good first drop, it's still light on the forces and a bit janky. But the silly light packages goes a surprisingly long way.","My god, this thing is running like a bat out of hell now, basically trimless throughout. The result is a blitz of painfully strong laterals and legitimate ejector airtime, enough to make me want to ride it every time now. The Quimera of wild mouses.","Yeah this old woodie is pretty fun! I haven't ridden it in a while so I guess it merits a revisit.","I really did like this in my younger days. Wish they kept it around. It was surprisingly intense!","\u2026It's okay? Spectacular and wild first drop, then solid positive Gs abound to add to the awesome near misses. It's not \"forceless\" like some say but the pacing could really get taken up a few notches. A whippy wing coaster would be a riot.","An Arrow Mine Train, for better or worse. Super janky transitions but the scenery is great and there are some relatively forceful moments. Nothing to write home about though. We rode in the front so it wasn't as rough as Great Adventure's.","OK OK, front row with Uncle Nate almost has me as a convert. Up there the ride is tolerably smooth, and there are strong pops of airtime / laterals going up into the turnaround. But everything else is eh. We'll see if that opinion holds.","Heyyyy 200th credit! And it happened to be on a very solid Miler. Awesome setting over a pond, with a wonky first drop (you hang over it in the front) and a savage lateral kink into the station. Beyond that it's, well, a family coaster.","There is a single airtime moment about 2/3rds of the way through the ride but otherwise Racer is light on thrills. It does bring the charm though, and the racing element is pretty damn well executed given its age. Mobius layout is fun!","Lmao I can't believe how fun this gimmicky coaster is, especially in the back. It's a one trick pony but it does its trick well. Forceful launch, awesome positive Gs, and the sensation of being yeeted up the backwards spike is absurd.","This family woodie, like the others, is a cute little ride. Nothing (beyond the cool color scheme) really distinguishes it from other family woodies, and the Woodstock Expresses have better airtime. But it serves its purpose well!","A cute little Woodstock Express-esque family woodie, with buzz bars to boot. Unfortunately it's lacking the airtime of the Woodstock Expresses, and the ride can be pretty bumpy in places. Solid laterals though.","I've lapped this so many times I can't not give it a high rating. It could be more intense but that backwards section? Awesome. And the theming is great. Worth the umpteenth rides, esp at Disney.","One of the weaker RMCs, mainly due to its size. But it's not the pacing I hold issue with; only one hill doesn't really hit. It just lacks the sustain of bigger RMCs, and has a few too many turnarounds that don't do too much. Still, incredible first drop, wild speed hill, great double down, and laterals? The multiple yanks across the train are pretty fun.","B&M's first giga has a hefty dose of Fury's\u2026 fury, and makes Orion look boring by comparison. First drop is (as usual) world-class, and this giga tears through its layout with absurd pacing. The first camelback is too tall, it's too short, and there's a dead spot after the turnaround. But the airtime is great and the POSITIVES really set this giga apart.","The updates make a definite difference, but not necessarily a positive one. First drop is better but still no ejector pop; the first half is all faster now. Trims are hitting harder for some reason, which is inexplicable and really hurts the once-great return run. Mamba's comparative greatness makes Steel Force's current state a tough pill to swallow.","Flawed and bizarre, with great moments. In the back, the first drop and third hill offer wild ejector. First helix gives decent laterals and positibes too. The rest of the layout is weak airtime, a pathetic helix, and baffling brakes. New trains have slightly better restraints but have little effect on the ride experience, maybe even make it rougher.","It's the best B&M dive; there is a ceiling to that though. The first drop is absolutely stellar and the loop into the immelman piles on the positives with truly rapid pacing. The other inversions and the weak post-midcourse helix are too flighty for their own good though, classic dive coaster behavior. Thankfully smooth as glass, even by the wings.","One part subpar shooty dark ride, one part bare skeleton of a coaster. Wonder Mountain's Guardian has a bit of an identity crisis, but it's charming enough and doesn't take itself too seriously. The drop track at the end is the easy highlight; it's punchy and pretty tall. It kinda salvages the ride. I wish I knew what my score was as I was playing.","I had fun on TT2, but I wasn't wowed. I'd say it's about on par with the OG. Best part is the backwards spike pullout, though it's not crushingly forceful. Launches are rather pathetic (but not atrocious). The top hat offers strong airtime, and the spiral back down does have you out of your seat the whole way. It's good fun, but not punchy enough.","Two-Face the ride, at least in its current state. The outward leg is smooth and forceful with great consistent floater. Then, you hit the turnaround and feel the bounce. The contrast is so funny that I can overlook the roughness in the boring second half, and the jackhammering in the final helix honestly enhances the ride, it feels out of control.","Trimless Voyage rides are transcendent, giving the return run the chaos it deserves. Still, my favorite section remains the savage middle, which feels like an actually forceful GCI. Night rides plunge into darkness, and feel endless dragging you through the woods like a fierce predator. It's amazing, but not batshit crazy enough to make my top 5.","Though it suffers a bit from the jack-of-all-trades Velocicoaster effect, Toutatis is a riot. It's a long ride with great hangtime and wild airtime- that swing launch hill is WAY stronger than it should be- amplified by an idyllic setting and great trains. It's a bit too dimunitive and the trim on the top hat is a real buzzkill, otherwise, bravo.","Mack Produckt sehr guht. The wicked fast lift leads into awesome airtime on the drop and speed hill, and the inversions deliver oodles of delicious, sustained hangtime. Pacing is good at the start. It is quite short, the ending burns off most of the ride's momentum, and it's not as whippy as I would hope. But it's a good time. Just a steep price.","It's refreshing to get an old-school SLC experience in this day and age. A nice reminder that the old restraints indeed suck, sitting microns from your head and banging you up over every inch of track. Still, keep your head forward and it's not atrocious. I can still appreciate the forceful SLC layout, and the pure comedy of this ridiculous ride.","The trim failures of the early summer were probably quite bad for the ride structure, but if I could somehow recreate that glorious full train hot day trimless back car ride, I would do unspeakable things. It was Magnum on fast-forward. Comical ejector on the third hill, insane whip in the turnaround, and the finale? Almost beyond comprehension.","A delightful combo of Millennium Force, a Morgan hyper, and the other Supermans. Layout is perfection, but execution is a bit off- there are a few janky moments where the party ends too early, and the second half has some weak airtime. Still, incredible positives, CRAZY ejector on the outward leg. If this were built in 2010 it would be the GOAT.","What if the Raven was longer, but weak as hell? Despite a great layout (esp at night), Excalibur doesn't deliver in the airtime department, outside of some weak floater pops. It offers decent (not incredible) laterals, and the way the ride weaves in and out of itself is amazing. It just suffers from GCI syndrome, everything is 5-10 mph too slow.","I still feel like Orion is missing that little something, and it was better in 2024 than 2025. It just feels like a 300-foot-tall Candymonium with less airtime and no whip, though the borderline ejector on the speed hill and following camelback are the highlights of the ride. Snappy hill into the final brakes is nice too. Fast but not forceful.","The Legend's display of prodigious lateral force makes Twister look like child's play. And night rides just amp it up even further. Unrivaled pacing, a long ride, and some of the greatest laterals in the world (the helix!). Throw in a few great airtime moments too, violent pops at night! Feeling shorter as I ride it more but it's still elite.","Basically a really, REALLLY long wild mouse. And while it's a fun time, it's not a paragon of the model. The few large drops are utterly bereft of airtime, and the layout gets so repetitive by the end that it overstays its welcome. But the laterals are good, and some of the profiling is funky enough to make things interesting. Not worth 7.50.","Though its dismal capacity makes it a questionable fit for Great Adventure, Flash is really fun! As always I'm a sucker for backwards positives, and there are some great moments (especially going backwards from the roll into the pullu). Nice hangtime going forward too. Launches are just okay and the airtime wasn't as good as I was expecting.","It's just as janky as any other Arrow looper, not that that turns me off from it. Yes, Canyon Blaster is simple and small, but it's a pocket rocket. The rockwork and indoor setting amplify the pacing, and the first drop / two loops have great force. Second half isn't super forceful, but it's FAST. No Viper at MM, but better than Viper at DL.","Take Great Adventure's Runaway Mine Train and make it \"235\" feet tall. That's not a recipe for an elite hyper, but the Big One is characterful, a demented scenic railway. Go BACK back for the first drop, where it feels like a fun car accident. Then everything after, save the brake run pops, is 20-30 feet too tall. Rather janky and I love it.","I only hit the back row in the cold morning, but I could feel that OzIris has a lot to give. This mini-Montu straddles old-school and new school well; it's not as whippy as the older ones but it's whippier than Banshee, and it still tries to rip your face off. Great layout, awesome theming. Could shoot up higher with a proper back row ride.","A sneaky fun surprise! Steel Curtain is an absolute blitz through its twisted, dense support structure. The initial dive loop is disappointingly flighty but after that the coaster never lets off the gas. Great positives, awesome pacing, some okay airtime moments. It gets a bit repetitive but I always hit the brakes breathless and satisfied.","Did the vests save it? IDK. But one thing def remains for \"the worst coaster in the world\"- it's hilarious. The bastard child of an Arrow mega looper and an SLC, Goudurix has nuts pacing, dizzying inversions (the butterfly is dope!), and some of the worst track work out there. And it's gut-bustingly funny. Even as it clotheslines your neck.","Maybe I'm growing bitter in my old age, maybe it's chuds with cell phones ruining the experience, maybe it's other woodies blowing the Beast out of the water. Whatever the cause, Beast night rides are starting to lose their lustre. It's still teeming with character, its main strength. That, the awesome helix, and the floaty first two drops.","I expected the \"Queen of Speed\" to have a more punchy launch. It's the weakest hydraulic launch I felt and it's over quick. But Rita's cute little post-launch mini-I305 impression delights with snappy transitions, solid positives, and a few spots of great ejector airtime. The Ka restraints suck, though. I'm sure Stealth is the better ride.","Grizzly night rides might just be the best kept secret in coasters. Gravity Group worked even more magic on the Beast's little bro, and the result is FURIOUS. First drop sends you flying, and after the first turnaround, Grizzly never relents with some crazy ejector. The retrack stops at the end, but the bouncy airtime enhances the finale.","The Smiler is unabashedly a gimmick, but it got the record so hey. There are some whippy moments, and one great airtime hill, plus delightful dueling when it happens. But the layout is just so repetitive, and the Gerst roughness just gets to you after such a long ride. After a while, it feels like being thrown around in a washing machine.","A surprisingly good SLC, especially with those horse collars. Maybe it's only the front row, but Infusion was smooth up to the inline twists (where it quickly unraveled). That's a solid chunk of the ride! It let me appreciate the criminally underrated SLC layout, with it's strong pacing, fun inversions, and solid forces. Would ride again!","Another delightful Gerstlauer family launch coaster. Its main objective is accessibility, so there is no airtime to be found (hence Firechaser's edge), but Gerstlauer packs so much variety into Pegase's seemingly endless layout. A launch, a chain, drive tires, a backwards launch, a lake flyby? Lovely. Backwards sequence is the highlight.","RIP... never mind (for now). Weird janky lift issue aside, Batwing is still rocking it. The forces are on another level compared to B&M flyers; your eyes are getting ripped out of your skull at multiple points. Rolls are v whippy, the helix in the back rips, and the loop combines pretzel-loop positives with whip and a pinch of hangtime.","A fun, non-traditional B&M flyer. It's the anti-Tatsu, weaving through the trees near ground level. No pretzel loop here; the lie-down section isn't forceful, but it's fun. And that's Galactica's strength- it's joyous. The airtime hills peppered throughout swoop you down like a bird of prey. It didn't rock my world but it made me smile.","A fun little floorless! Its dimunitive size def puts a bit of a damper on things but the loop offers a nice pinch of hangtime and the corkscrews are decently whippy. That zero-G roll throws you out of the train for multiple seconds, it's the easy highlight of the ride. Has some dead spots (dive loop, turnaround). Color scheme is GOATed.","Boost mode? Hell yeah! An even stronger launch makes TBird really fly. Great positives, an incredible night layout, and some elements have great whip (immelman, zero-G roll, the surprisingly tasty S hill). A slow hangtime filled roll to end is always a treat. No airtime though, and kinda short. Roughness is present but not intolerable.","Despite the new restraints, despite the fact that it tracks somewhat decently, Darien Lake's SLC is one of the worst out there. Why? It has multiple moments of absolutely brutal front-to-back shake that will sucker punch you in the head. Worse than a rattly SLC with the old restraints (see- Flight Deck). Shame, cause I want to like it.","She's back at the top. I-P305 has a relentless power and furious pacing that nothing else can touch. The turnaround still sucks out your soul, but the rest of the ride is what earns the gold, starting with that epic ejector hill. Crushing positives, insane whips, and great airtime, marred only by shoulder straps and a frustrating trim.","Hyperia is a modern hyper that still manages to have character. The first drop, though not super whippy, is nonstop nuts ejector. But the immelman after is my highlight- multiple seconds of wild airtime. Great hangtime in the following elements too. It's too short and the trim is murderous, else this would be fighting for a top spot.","The charming Raven surprises yet again in 2025, with even more airtime than last year. 1st drop and legendary 5th plunge really stand out, but the hills in between feel shockingly strong at night. Back half feels like the Beast with actually strong forces, a sweet terrain layout. It has a nasty pothole though, and it's over too soon.","An okay GCI with a snaky, long layout that sticks close to the ground with fierce pacing. There are a couple of nice airtime pops, but the real surprise is consistent laterals throughout. Just rough enough, too. That said, at the end of the day, it's still a GCI. Every force needs to be 10-20% stronger, like every other GCI. Oh well.","I've given it many shots, but I was not sad to see this turd go. It's tolerable off the great first drop and loop but even if you set yourself up right to save your nuts, standing up through these strong positive Gs isn't pleasant. As is standing on the brake run. Layout is good (see Rougarou) but I'm happy to see it rusting in piss.","It may be unbelievably compact, but Nemesis is a monster. Shocking airtime from the first \"drop\" leads to to the best corkscrew on any B&M- behind the 2nd one. SO whippy. The helix sucks the life from you, and the speed through the trenches is absurd. It's a bit nothing from the zero-G to the loop, and I hit the brakes wanting more.","Mack bobsleds continuing to be fun rides. This one feels a good bit rougher than Reptilian, but its layout is longer and more varied. You get some legit speed and force going through the first two blocks, and it's fun! The final section is stimied by the crush grip of the trim brakes, but the rockwork at least makes it entertaining.","Lol imagine putting a trim brake on the MIDDLE of a first drop. Couldn't be me. 13 is a pretty flaccid coaster to be honest, nearly forceless but pleasant through its outdoor section. Then comes the drop track, which is far more gentle and thus less thrilling than Verbolten's. That mini-launch back towards the station is kinda fun.","A serviceable Mack launch. Unusually the 1st launch yanks you by the end, though there's no initial kick. 1st half ends with a banging hangtime-y roll, but the junior immelman after the flaccid 2nd launch wins out- endless hang time transitions to strong ejector in the back seamlessly. Decent forces, but its compact size hurts it.","It's jerky, plodding, and has no airtime, but none of that matters. You're on a horse, and the only thing holding you in is a seatbelt. Steeplechase feels dangerous. The transitions slam you to sideways, but that adds to the sensation of being on horseback, holding on for dear life. A super unique and memorable coaster EXPERIENCE.","I cannot put a finger on this damn ride. Sometimes, it's tolerable and even fun; sometimes, it's just pain. One ride in 2025 was solid. The secret (apparently) is to sit in the middle, where you get somewhat decent forces and tolerable jackhammering. Still, the PTC trains do not work with this layout and it's a jackhammering mess.","AlpenFury takes no prisoners, from the shocking airtime into the tunnel through the launch in a goddamn volcano and wild top hat, through the many funky inversions. Many of the pullouts are absurdly tight, giving great positives. And there's one great ejector hill. Restraints are still eh, and there are too many rolls at the end.","This out and back semi-kiddie woodie follows a basic formula, with strong results. It's chock full of the fun, bouncy airtime that only a 100-year-old wood coaster can deliver. Given its age and diminutive stature, I wasn't expecting such good forces. The massive 4-bench trains just serve to make the experience more entertaining.","Banshee is getting more unhinged every year, and I like that. This new-school invert is insanely forceful. Maybe the best invert layout; the inversions have no whip but the positives are nuts. Vests are not noticeable, but the ride def rattles pretty bad. The ending inline twist into a forceful helix is the undeniable highlight.","The SAW trap here is \"how much grinding roughness can you take?\" That aside, SAW is pretty fun. The pre-lift is sweet with a gut punch of a drop and a hangtime-y roll. Outside, the roughness really hits, but the beyond-vertical plunge is on point and the drop post-midcourse shows some savagery. Not bad, I wonder how it warms up.","Solid Arrow looper! The pacing is commendable; both loops are strong (whippy) and the ride tears through its backwards corkscrews. Airtime on the drop is somewhat lacking, and the helix isn't as good as the one on Carolina Cyclone (though it offers decent laterals at the end). Tracks wonderfully smoothly for a 45 year old Arrow.","The definition of a one-trick pony, but at least this pony kicks. Despite the short hold, Oblivion drops like a rock, offering solid airtime that's greatly enhanced by the tight, misty tunnel. Solid Gs on the pullout, and then it's over. It's barely a coaster, but if you think of it as a drop tower, it's a pretty damn good one.","It's runing faster now, which meant that there were hints of airtime over the first drop and a few of the camelbacks. But now, it's really rough? Feel like that happened overnight. At least it consistently duels. Tho the intensity needs to be kicked up a notch (or two, or three) to be an elite GCI, and a retrack would be nice.","This ride gets a lot of hate, and I expected the worst, but I just stuck my head out and it was fine! You feel every track joint but it's not uncomfortable, and the layout is pretty enjoyable. Feels like a B&M floorless with some Intamin whip (the corkscrews!) and a buffet of tasty hangtime-filled rolls at the end. I like it!","Kiddie coaster! That's basically it. Not much to write home about","GTFO Diamondback. Behemoth is a standard-bearer for the B&M hyper. It's shockingly consistent, with endless airtime, surprisingly strong positives, and no dead spots. Even the helixes post-soft midcourse are decently forceful. Add the longbois into the mix, with their whip, and you have the best B&M hyper on the continent.","One of the better wings that I've experienced, not that I've been on many. Swarm is tall and long with some solid headchoppers and a few moments of good positive Gs. The theming elevates the experience further- that abandoned church near miss is awesome. Pretty smooth, too. Wish I were on the right side to skim the water.","It was eh this year, but I'll give Racer the benefit of the doubt. Last year, the Racer was running better than ever, with some great airtime on that outward leg. The solid consistent floater elevates the ride above its dueling schtick, and it's obviously packed with old-school charm. Basically as smooth as a new woodie.","Vortex at night transcends reality. The swings feel borderline dangerous, regularly exceeding 90\u00b0 and seesawing rapidly. This is paired with immense positive Gs that try to punt the cars from the train. The helix especially warps your perception of up and down. Still short but you hit the brakes sideways hearing colors.","The first half brought the airtime. At night. In 2024. No ejector, but much better than before. That all dies in the back half, unfortunately, where the airtime is just meh. Layout is pure chaos, great pacing / laterals throughout a gorgeous setting. Stereotypical GCI, for better and worse. I find the shed entertaining.","Feels like Batman with a custom layout and a fun little pre-lift section, and that's pretty solid! Maybe not as forceful as a Bat clone, but Nemesis II is whippy and forceful with some nice bone-crushing helices at the end to round out the experience. The layout is otherwise pedestrian, but it's a solid mid-tier invert.","RIP to the king. It WAS better slow; fast rides don't come close to touching Viper, but slow rides give you B&M style hangtime on the two initial inversions and absolutely glorious slow corkscrews. It's a bit shaky but totally tolerable, and only has one bad transition. The best Arrow looper in Virginia deserved better.","Are we sure this got retracked? Zeus has a good setting, brilliant sequencing, and some incredible potential. But man is it a rough ride. It's got that persistent grinding that really wears, which somewhat masks the plentiful airtime moments and really dampens its long and lovely layout. Shame the backwards row is gone.","A blast from the past. The 4-car trains dampen the ejector on that first drop, but how can you not love a good Arrow loop? The backwards bit makes the ride- surprise airtime followed by a wicked backwards loop that feels boomerang-esque. The launches (shoves) are pathetic but charming, charming as the whole attraction.","Nitro is still being Nitro, my inconsistently brilliant fave. Each hill gives a pop up, a dead pause, and then okay floater down (opposite in the back). Great first drop, bunny hops are a solid finale, and the helix / turnaround are forceful-ish. Nitro has a great layout but it betrays its age with its lack of power.","After riding more RMCs, TT still impresses. The barrel roll drop is pure chaos, and the three airtime hills right after are perfect. Like every hybrid, it's gratuitous at points (turnaround), but this little guy is a pacing monster, and it doesn't overstay it's welcome. I'm starting to feel its lack of height tho.","Maybe the most pure unadulterated joy I've experienced on a roller coaster. It's not exactly an airtime machine but it does pull solid laterals, and the sensation of flying through Wonder Mountain with lights and incredible atmosphere gives Space Mountain vibes in the best way. Two laps, too! An absolute blast.","I did not have the best ride to judge this free spin fairly, as I got a total of 0 flips. Some sustained moments of hanging upside down, but that's it. It feels less fluid than the larger models and going straight through the raven turns is an uncomfortable sensation. Still, I imagine it's usually a bit better.","It felt a bit faster in 2022 (2023 as well), which meant that there were hints of airtime over the first drop and a few of the camelbacks. Still pleasant, relatively smooth (it's getting a bit shaky), and consistently duels. Tho the intensity needs to be kicked up a notch (or two, or three) to be an elite GCI.","Maybe I've been sleeping on this fella a little, it's still an awesome ride. The barrel roll drop is pure chaos, and the three airtime hills right after are awesome. Second half is gratuitous, and less fun than Storm Chaser's insanity. At the end of the day, it's an RMC hybrid, and a pretty damn good one..","A surprisingly powerful jankfest that throws you out of the train at every opportunity. It's downright uncomfortable in spots but with all this crazy airtime, laterals, and hangtime, I'll deal with the pain. El Loco is just so\u2026 bizarre. Unlike the Big Apple Coaster though, El Loco actually does something.","Definitely new-school B&M, to a fault. Maybe the best invert layout; the inversions give great float but that's not what I'm looking for in a ride like this. Vests are not noticeable, but the ride has a shocking rattle for its age. The ending inline twist into a forceful helix is the undeniable highlight.","What if we had Grizzly at KD, but it sucked? Wilde Beast's roughness is on another level, and it hurts like hell, enough to seriously impact my enjoyment of the still-solid Grizzly layout. There are still moments of awesome airtime and laterals, but by God Gravity Group, get your ass over here right now.","Better than 2024, but still faltering a bit. With good but not great airtime, this is still my favorite B&M hyper, but it's not going to climb any further up the ranks. The finale was also pretty subdued. Thank the longboi trains for this coaster's still strong placement- the whip really makes the ride.","A fast ride with a great layout, but the Boring and Mild memes are somewhat real. Millie with even less force and more breeze. There are some really solid airtime hills peppered amongst forceless turnarounds and helices, with a drop that just feels like Nitro's extended to 300 feet. Better in the front.","Outside of a fun ramped launch and an awesome stally sideways top hat, eh. The layout is brisk and fun but none of the elements really deliver. Airtime is lacking, positives could be stronger, and it's not very whippy. Again, the B&M rattle plagues their newer models. What happened to the former kings?","Night rides live up to the hype; Phantom is still a riot. The clacky boi oozes character, great and funny trains. The ejector finale is frenetic (even if they trim too hard) but underrated POSITIVES still! They're pummeling the whole start. 2nd drop starts with ejector, then honestly a bit weak after.","They call it \"Millennium Forceless\" but a good night ride can change that tune pretty quick. Nothing nails the feeling of speed as well as Millie, even if other rides offer wilder experiences. Awesome drop, great whip / positive Gs, and even great airtime in spots. Still amazing after all these years.","By far the best B&M hyper I've had the pleasure of experiencing. As expected, it's a long fast floater machine, but the long trains give it rare whip that leads to awesome forces- even some ejector! First drop in the back is insane. Only marks are the few trims. A B&M hyper which genuinely excites me.","Candy redeemed itself in 2022. Trims still hit but it now offers strong and consistent airtime to the finish. Diamondback level power, with half the length and none of the whip. Now the helices are actually forceful, speed hill and drop are highlights. First drop feels like it ends really quickly tho?","God I wish it wasn't so rough, because that's my primary memory, besides the awesome intensity. I'm sure if I rode it now, being taller and knowing how to ride Arrows, it would be higher. And post-Viper, I feel pretty damn confident in that assertion. RIP, at least Green Lantern is gone with it now.","A great ride that would be elite if everything were double sized. Hydraulic launch is punchy but over so quickly, which can be forgiven because the top hat is the best out there. Strong ejector the whole way. Flying snake dive combines ejector, lateral whip, and hangtime. Short and small, but sweet.","If this incredible layout had stronger airtime, it would be quite high on the list. Unfortunately the airtime is weak and non sustained, in the front or back. Layout is pure chaos, great pacing / laterals throughout a gorgeous setting. Stereotypical GCI, for better and worse. I kinda like the shed.","I may have slightly overrated it but this is still the best B&M floorless. First drop has great whip (but meh airtime), first loop has great hangtime, positive Gs are wild (esp the on overbanks), corkscrews are whippy, and it's much more intense than other B&M loopers! A trimless ride was nirvana.","It is truly bereft of airtime, besides the mildest of floater on the speed hill, but the positive Gs are great, from the first drop pullout to that godly helix, which has some of the best and most sustained positives this side of I305. Glad it's not my home hyper but I will happily say I liked it.","Double digit rides have given me new appreciation for this ancient Arrow. Only one rough spot after the first loop, but that spot is so bad, I get why it ruins the ride for people. The absurdly strong speed hill and punchy vertical loop are standouts. Not amazing but much better than most believe.","Greatest woodie in the world it is not. Phoenix is still a blast though, especially in the front. Buzz bar airtime with no seatbelt is as ridiculous as advertised, almost to its detriment. But yes, the airtime is great (not incredible). Probably the best \"trad\" woodie but Toro et al. embarrass it.","The sheer intensity of I305 is best experienced on the ragged edge of consciousness, succumbing to heat exhaustion and struggling to maintain vision up and over the insane ejector hill. Peerless power, insane whips, and great airtime, marred only by shoulder straps and a poorly placed trim brake.","(Both) A smooth and charming experience that offers little to no airtime. The turnaround offers good laterals and the best airtime pops on the ride (front going in, back coming out), but otherwise it's weak floater going out and nothing coming back. Smoother than its KI sibling but less exciting.","Feeling slower every year, unfortunately. Legend rides really make Twister look flighty in comparison. That said, wherever you are the laterals are still good. Strong and consistent the entire ride, it never lets up, but it's not as savage as Legend. Twister has been usurped as the lateral king.","OK I'm back on the Anaconda train. By myself. A back seat ride is wild, as you whip through the first half with great intensity, and the front is just as glorious. The hangtime on the corkscrews is awesome, though it's shaky and I understand why people think it has pacing issues. IDC, I love it.","Ride this in the front, and my God. A back row ride is airtimeless but wherever you are the laterals are INSANE. Strong and consistent the entire ride, it never lets up, you have to hold the side of the train! The layout is good, and you get good ejector pops in the front. It's smooth-ish too!","That pretzel loop is pure sex, though the rest of the ride is relaxing to say the least. Even the rolls are pretty bland. But that pretzel loop\u2026 my God. There's a lot of potential with the B&M Flyer, hopefully Tatsu shows the potential of a non-parking lot coaster with an actually good layout.","Every time I come to Hershey I think to myself, \"Wildcat can't be as rough as I remember, right?\" And then it is. Not in a charming way either. Layout is pretty meh too, even compared to contemporaries (Roar). It will make a great RMC hybrid, but I will harbor some sentiment for this pile.","This silly family coaster with a comically long train offers honestly hilarious laterals down that first drop in the back. Plus it tosses you around the rest of the layout, rather gently though. Most of the ride is a serious of somewhat bland turns, Harley Quinn is far more exciting.","(Both) A smooth and charming experience that had a bitttt more airtime this time aroung. The turnaround offers good laterals and the best airtime pops on the ride (front going in, back coming out), but airtime is still on the weaker side. Better than the KI rendition now, somehow.","Seems like it's on death's door in 2024, but still, I can't believe how fun this gimmicky coaster is, especially in the back. It's a one trick pony but it does its trick well. Forceful launch, awesome positive Gs, and the sensation of being yeeted up the backwards spike is absurd.","Wild One is feeling, well, wild in 2025! Shaky but definitely manageable, I can appreciate the solid few airtime hills, crazy lateral jolts, and old school charm. Final helix gave good laterals throughout (like GhostRider but worse). Mostly consistent with solid bouncy airtime.","A janky Arrow mine train which lives up to expectations. No airtime but stellar laterals throughout the layout, with just the right dusting of jank. Ending on the lift hill is comical. Feels like everything is 5 mph too fast and 15 degrees too unbanked, in a (mostly) good way.","A blitz coaster, and a STELLAR one at that. Lacks drawn-out airtime which hurts it a bit (trims on the top hat?) and it's more forceful in the front but great layout, super fun snaps, comfy restraints, great theming, and the mososaurus roll tries to throw you in the water.","I finally got a duel! (Kinda!) But that's not why TC jumped up in the rankings, it was just better than I remembered. It still feels like two half coasters slapped together but the pacing is way better than Timbers and the airtime is just better and more drawn out.","Sentimental, but also just a really solid ride. The last drop / turnaround made up for the lack of intensity in the first half, the swinging was and always will be awesome, and the theming was incredible. Shame on BGW for removing this. (Tho Verbolten is great)","Meh, it wasn't as bad as Stephen claims but the OG B&M is pretty forgettable, with a few Arrow-level transitions thrown in for good measure. Pretty forceless but lacking the smoothness you'd expect from a B&M. I'd still give it a glance, but Dominator exists\u2026","Hard to believe this old woodie is such an airtime machine. I assume this is what Phoenix feels like? It's small, old, and a bit rough (the turnaround?) but each airtime hill is an absolute joy. A pleasant surprise and I hope it stays around for a while.","\u2026It's okay? Far too graceful for it's own good, barring the spectacular and whippy first drop, and solid positive Gs. It's not \"forceless\" like some say but the pacing could really get taken up a few notches. A whippy wing coaster would be a riot.","For a powered coaster, this is a good one. No airtime, but that's to be expected. It's really long, maybe too long for its own good honestly, but the layout is scenic and I give props for that wicked helix down into the cave tunnel.","This piece of American history should NOT be as good as it is. Great forces, laterals are absurd on the turns, and decent (if not world-changing) airtime. Plus, it's smooth as glass now (to its detriment?)! Need a back row ride.","A completely fine Dinn woodie with two bonkers airtime moments after the first turnaround. The pacing through the banked turns is fun and the ride tracks pretty well, it's just a pretty bland layout after the initial chaos.","The first B&M hyper is still a riot after all these years. Apollo gets a bad rap; it has some cool elements paired with a great setting. Nitro is (slightly) more forceful, but Apollo is still the best ride in BGW. For now.","We got a REAL good, spinny ride here. It's basically Primeval Whirl, which was a good reminder that these spinning mice are pretty damn fun. It's very ride-dependent though, hence the somewhat lower score.","RIP to a real one. Especially pre-retheme, when they actually dueled. Not as intense as the first half of Alpengeist but the dueling element made up for it. Hagrid is great but this will be missed.","Oww. Okay, the laterals on this thing are actually pretty sick. It's a Wild Mouse on steroids, that will continue \u2026 until your arm is blue and your ribcage is drowned by internal bleeding.","A legend reaching its 75th year. Definitely rough from age, and the thrills are middling compared to newer woodies, but the drops are solid and the layout is fun. Always a cool ride.","A funny +1. Has a bit of that classic Miler jank, but none of the force that some slightly larger installations have. I mean, it's a kiddie coaster, am I hearing myself?","I can't believe how good an S&S free spin is. So intense and not uncomfortable at all. Maybe I just got a good ride with lots of spins but this ride blew me away.","The wildest ten seconds of your life. A little rough, Dragster is smoother. Kinda dig the pulsating launch. And the feeling of speed is obviously unmatched.","It's Holidog, the roller coaster! Really cute kiddie coaster, that isn't totally devoid of whip, but at the end of the day it's not much more than a +1.","The lift is fun, as is the first drop, but is the rest anything special? Not to my recollection. This definitely deserves a more critical reevaulation.","A cute and very charming kiddie woodie that unfortunately lacks any semblance of force. Not that I expected much more from it.","Why is the airtime on the first drop so good (in the back, at least)? Besides that it's very\u2026 casual.","Bog-standard but fun wild mouse. It's trimmed to a reasonable extent."];
const _B=[{"r":"Pantherian (Project / Intimidator 305)","p":2,"mf":2,"cat":13,"t":11,"oy":"2010","lr":"2024","s":0},{"r":"X2","p":3,"mf":1,"cat":19,"t":50,"oy":"2002","lr":"2024","s":0},{"r":"Magnum XL-200","p":0,"mf":1,"cat":4,"t":1,"oy":"1989","lr":"2025","s":0},{"r":"Viper","p":3,"mf":1,"cat":1,"t":29,"oy":"1990","lr":"2024","s":0},{"r":"Steel Vengeance","p":0,"mf":7,"cat":9,"t":7,"oy":"2018","lr":"2025","s":0},{"r":"Skyrush","p":4,"mf":2,"cat":4,"t":1,"oy":"2012","lr":"2024","s":0},{"r":"The Voyage","p":15,"mf":15,"cat":0,"t":30,"oy":"2006","lr":"2025","s":0},{"r":"Fury 325","p":7,"mf":0,"cat":13,"t":11,"oy":"2015","lr":"2022","s":0},{"r":"El Toro","p":1,"mf":2,"cat":0,"t":51,"oy":"2006","lr":"2025","s":0},{"r":"Velocicoaster","p":19,"mf":2,"cat":2,"t":19,"oy":"2021","lr":"2021","s":0},{"r":"Maverick","p":0,"mf":2,"cat":2,"t":19,"oy":"2007","lr":"2025","s":0},{"r":"Iron Gwazi","p":23,"mf":7,"cat":9,"t":7,"oy":"2022","lr":"2023","s":0},{"r":"Phantom's Revenge","p":12,"mf":25,"cat":4,"t":1,"oy":"2001","lr":"2025","s":0},{"r":"Hyperia","p":20,"mf":4,"cat":4,"t":20,"oy":"2024","lr":"2025","s":0},{"r":"AlpenFury","p":6,"mf":6,"cat":2,"t":52,"oy":"2025","lr":"2025","s":0},{"r":"Behemoth","p":6,"mf":0,"cat":4,"t":1,"oy":"2008","lr":"2025","s":0},{"r":"Lightning Rod","p":8,"mf":7,"cat":2,"t":53,"oy":"2016","lr":"2022","s":0},{"r":"Storm Chaser","p":24,"mf":7,"cat":9,"t":7,"oy":"2016","lr":"2024","s":0},{"r":"Wildcat's Revenge","p":4,"mf":7,"cat":9,"t":7,"oy":"2023","lr":"2024","s":0},{"r":"Vortex","p":6,"mf":1,"cat":14,"t":12,"oy":"1991","lr":"2025","s":0},{"r":"Superman The Ride","p":21,"mf":2,"cat":4,"t":1,"oy":"2000","lr":"2025","s":0},{"r":"Millenium Force","p":0,"mf":2,"cat":13,"t":11,"oy":"2000","lr":"2025","s":0},{"r":"Montu","p":23,"mf":0,"cat":3,"t":2,"oy":"1996","lr":"2023","s":0},{"r":"Leviathan","p":6,"mf":0,"cat":13,"t":11,"oy":"2012","lr":"2025","s":0},{"r":"The Legend","p":15,"mf":11,"cat":0,"t":0,"oy":"2000","lr":"2025","s":0},{"r":"Twisted Colossus","p":3,"mf":7,"cat":9,"t":7,"oy":"2015","lr":"2023","s":0},{"r":"Toutatis","p":16,"mf":2,"cat":2,"t":19,"oy":"2023","lr":"2025","s":0},{"r":"Wicked Cyclone","p":21,"mf":7,"cat":9,"t":7,"oy":"2015","lr":"2025","s":0},{"r":"GhostRider","p":17,"mf":11,"cat":0,"t":0,"oy":"1998","lr":"2023","s":0},{"r":"Nemesis Reborn","p":9,"mf":0,"cat":3,"t":2,"oy":"1994","lr":"2025","s":0},{"r":"Orion","p":5,"mf":0,"cat":13,"t":11,"oy":"2021","lr":"2025","s":0},{"r":"Tatsu","p":3,"mf":0,"cat":11,"t":21,"oy":"2006","lr":"2022","s":0},{"r":"Candymonium","p":4,"mf":0,"cat":4,"t":1,"oy":"2020","lr":"2024","s":0},{"r":"OzIris","p":16,"mf":0,"cat":3,"t":2,"oy":"2012","lr":"2025","s":0},{"r":"Twisted Timbers","p":2,"mf":7,"cat":9,"t":7,"oy":"2018","lr":"2025","s":0},{"r":"Diamondback","p":5,"mf":0,"cat":4,"t":1,"oy":"2009","lr":"2025","s":0},{"r":"Hagrid's Motorbike Adventure","p":19,"mf":2,"cat":2,"t":8,"oy":"2019","lr":"2021","s":0},{"r":"Batwing","p":10,"mf":3,"cat":11,"t":54,"oy":"2001","lr":"2025","s":0},{"r":"Storm Runner","p":4,"mf":2,"cat":2,"t":31,"oy":"2004","lr":"2024","s":0},{"r":"The Raven","p":15,"mf":11,"cat":0,"t":0,"oy":"1995","lr":"2025","s":0},{"r":"Grizzly","p":2,"mf":13,"cat":0,"t":0,"oy":"1982","lr":"2025","s":0},{"r":"Wonder Woman Flight of Courage","p":3,"mf":7,"cat":1,"t":32,"oy":"2023","lr":"2024","s":0},{"r":"Raptor","p":0,"mf":0,"cat":3,"t":2,"oy":"1994","lr":"2025","s":0},{"r":"The Great Bear","p":4,"mf":0,"cat":3,"t":2,"oy":"1998","lr":"2024","s":0},{"r":"Flash Vertical Velocity","p":1,"mf":3,"cat":8,"t":55,"oy":"2025","lr":"2025","s":0},{"r":"Jersey Devil","p":1,"mf":7,"cat":1,"t":32,"oy":"2021","lr":"2024","s":0},{"r":"Alpengeist","p":13,"mf":0,"cat":3,"t":2,"oy":"1997","lr":"2021","s":0},{"r":"Dueling Dragons","p":19,"mf":0,"cat":3,"t":2,"oy":"1999","lr":"2015","s":1},{"r":"Nitro","p":1,"mf":0,"cat":4,"t":1,"oy":"2001","lr":"2025","s":0},{"r":"Boulder Dash","p":27,"mf":11,"cat":0,"t":0,"oy":"2000","lr":"2021","s":0},{"r":"Guardians of the Galaxy: Cosmic Rewind","p":41,"mf":3,"cat":6,"t":56,"oy":"2022","lr":"2024","s":0},{"r":"Ravine Flyer II","p":22,"mf":15,"cat":0,"t":30,"oy":"2008","lr":"2024","s":0},{"r":"Intimidator","p":7,"mf":0,"cat":4,"t":1,"oy":"2010","lr":"2022","s":0},{"r":"Silver Bullet","p":17,"mf":0,"cat":3,"t":2,"oy":"2004","lr":"2023","s":0},{"r":"Thunderhead","p":8,"mf":9,"cat":0,"t":0,"oy":"2004","lr":"2022","s":0},{"r":"Mystic Timbers","p":5,"mf":9,"cat":0,"t":0,"oy":"2017","lr":"2025","s":0},{"r":"Kingda Ka","p":1,"mf":2,"cat":2,"t":33,"oy":"2005","lr":"2024","s":1},{"r":"The Bat","p":5,"mf":1,"cat":14,"t":12,"oy":"1993","lr":"2025","s":0},{"r":"Afterburn","p":7,"mf":0,"cat":3,"t":2,"oy":"1999","lr":"2022","s":0},{"r":"Banshee","p":5,"mf":0,"cat":3,"t":2,"oy":"2014","lr":"2025","s":0},{"r":"Thunderbird","p":15,"mf":0,"cat":2,"t":34,"oy":"2015","lr":"2025","s":0},{"r":"Top Thrill 2","p":0,"mf":26,"cat":2,"t":57,"oy":"2024","lr":"2025","s":0},{"r":"Yukon Striker","p":6,"mf":0,"cat":12,"t":58,"oy":"2019","lr":"2025","s":0},{"r":"Fahrenheit","p":4,"mf":2,"cat":1,"t":35,"oy":"2008","lr":"2023","s":0},{"r":"Icon","p":11,"mf":4,"cat":2,"t":8,"oy":"2018","lr":"2025","s":0},{"r":"Steel Curtain","p":12,"mf":14,"cat":1,"t":20,"oy":"2019","lr":"2025","s":0},{"r":"Verbolten","p":13,"mf":12,"cat":2,"t":8,"oy":"2012","lr":"2021","s":0},{"r":"Batman The Ride","p":1,"mf":0,"cat":3,"t":36,"oy":"1993","lr":"2024","s":0},{"r":"Apollo's Chariot","p":13,"mf":0,"cat":4,"t":1,"oy":"1999","lr":"2021","s":0},{"r":"Ride of Steel","p":14,"mf":2,"cat":4,"t":1,"oy":"1999","lr":"2024","s":0},{"r":"Phoenix","p":25,"mf":5,"cat":0,"t":0,"oy":"1947","lr":"2024","s":0},{"r":"Hangtime","p":17,"mf":8,"cat":1,"t":37,"oy":"2018","lr":"2023","s":0},{"r":"Steel Force","p":18,"mf":27,"cat":4,"t":1,"oy":"1997","lr":"2025","s":0},{"r":"Griffon","p":13,"mf":0,"cat":12,"t":13,"oy":"2007","lr":"2021","s":0},{"r":"Volcano the Blast Coaster","p":2,"mf":2,"cat":2,"t":59,"oy":"1998","lr":"2006","s":1},{"r":"Sheikra","p":23,"mf":0,"cat":12,"t":13,"oy":"2005","lr":"2023","s":0},{"r":"Full Throttle","p":3,"mf":6,"cat":2,"t":8,"oy":"2013","lr":"2022","s":0},{"r":"Sky Rocket","p":12,"mf":6,"cat":2,"t":5,"oy":"2010","lr":"2023","s":0},{"r":"Canyon Blaster","p":32,"mf":1,"cat":1,"t":3,"oy":"1993","lr":"2025","s":0},{"r":"Batman The Ride","p":3,"mf":0,"cat":3,"t":36,"oy":"1994","lr":"2023","s":0},{"r":"Superman: Ride of Steel","p":10,"mf":2,"cat":4,"t":1,"oy":"2000","lr":"2025","s":0},{"r":"Galactica","p":9,"mf":0,"cat":11,"t":21,"oy":"2002","lr":"2025","s":0},{"r":"El Loco","p":32,"mf":14,"cat":1,"t":60,"oy":"2014","lr":"2025","s":0},{"r":"Lightning Run","p":24,"mf":20,"cat":6,"t":61,"oy":"2014","lr":"2024","s":0},{"r":"Valravn","p":0,"mf":0,"cat":12,"t":13,"oy":"2016","lr":"2022","s":0},{"r":"Dominator","p":2,"mf":0,"cat":1,"t":6,"oy":"2000","lr":"2025","s":0},{"r":"The Big One","p":11,"mf":1,"cat":4,"t":1,"oy":"1994","lr":"2025","s":0},{"r":"Ninja","p":3,"mf":1,"cat":14,"t":12,"oy":"1988","lr":"2024","s":0},{"r":"Thunderbolt","p":12,"mf":16,"cat":0,"t":0,"oy":"1924 / 1968","lr":"204","s":0},{"r":"Nemesis Inferno","p":20,"mf":0,"cat":3,"t":2,"oy":"2003","lr":"2025","s":0},{"r":"Tornado","p":33,"mf":21,"cat":0,"t":0,"oy":"1993","lr":"2024","s":0},{"r":"Kumba","p":23,"mf":0,"cat":1,"t":3,"oy":"1993","lr":"2023","s":0},{"r":"Copperhead Strike","p":7,"mf":4,"cat":2,"t":8,"oy":"2019","lr":"2022","s":0},{"r":"Big Bad Wolf","p":13,"mf":1,"cat":14,"t":12,"oy":"1984","lr":"Pre 2010","s":1},{"r":"Top Thrill Dragster","p":0,"mf":2,"cat":2,"t":33,"oy":"2003","lr":"2013","s":1},{"r":"Expedition Everest","p":34,"mf":3,"cat":6,"t":62,"oy":"2006","lr":"2024","s":0},{"r":"Goudurix","p":16,"mf":3,"cat":1,"t":3,"oy":"1989","lr":"2025","s":0},{"r":"Rita","p":9,"mf":2,"cat":2,"t":31,"oy":"2005","lr":"2025","s":0},{"r":"Talon","p":18,"mf":0,"cat":3,"t":2,"oy":"2001","lr":"2024","s":0},{"r":"Coney Island Cyclone","p":28,"mf":28,"cat":0,"t":0,"oy":"1927","lr":"2024","s":0},{"r":"Impulse","p":25,"mf":12,"cat":1,"t":9,"oy":"2015","lr":"2023","s":0},{"r":"Wiener Looping","p":35,"mf":4,"cat":1,"t":63,"oy":"2025","lr":"2025","s":0},{"r":"The Incredible Hulk","p":19,"mf":0,"cat":2,"t":5,"oy":"1999","lr":"2021","s":0},{"r":"TMNT Shellraiser","p":36,"mf":8,"cat":2,"t":9,"oy":"2019","lr":"2023","s":0},{"r":"West Coast Racers","p":3,"mf":6,"cat":2,"t":64,"oy":"2020","lr":"2023","s":0},{"r":"Phobia Phear Coaster","p":27,"mf":6,"cat":2,"t":65,"oy":"2016","lr":"2021","s":0},{"r":"Wild Eagle","p":8,"mf":0,"cat":1,"t":22,"oy":"2012","lr":"2022","s":0},{"r":"Swarm","p":20,"mf":0,"cat":1,"t":22,"oy":"2012","lr":"2025","s":0},{"r":"SAW- the Ride","p":20,"mf":8,"cat":1,"t":9,"oy":"2009","lr":"2025","s":0},{"r":"Invertigo","p":5,"mf":3,"cat":8,"t":66,"oy":"1999","lr":"2022","s":0},{"r":"Wild Mouse","p":4,"mf":4,"cat":10,"t":10,"oy":"1999","lr":"2023","s":0},{"r":"Twister","p":25,"mf":29,"cat":0,"t":0,"oy":"1999","lr":"2024","s":0},{"r":"Oblivion","p":9,"mf":0,"cat":12,"t":13,"oy":"1998","lr":"2025","s":0},{"r":"Superman Ultimate Flight","p":1,"mf":0,"cat":11,"t":21,"oy":"2003","lr":"2024","s":0},{"r":"The Joker","p":1,"mf":14,"cat":16,"t":38,"oy":"2016","lr":"2023","s":0},{"r":"Revenge of the Mummy","p":29,"mf":6,"cat":2,"t":67,"oy":"2004","lr":"2015","s":0},{"r":"Rock 'N' Roller Coaster","p":37,"mf":3,"cat":2,"t":5,"oy":"1999","lr":"2021","s":0},{"r":"Tennessee Tornado","p":8,"mf":1,"cat":1,"t":3,"oy":"1999","lr":"2022","s":0},{"r":"Anaconda","p":2,"mf":1,"cat":1,"t":3,"oy":"1991","lr":"2024","s":1},{"r":"Medusa (Bizarro)","p":1,"mf":0,"cat":1,"t":6,"oy":"1999","lr":"2024","s":0},{"r":"The Smiler","p":9,"mf":8,"cat":1,"t":37,"oy":"2013","lr":"2025","s":0},{"r":"Colossus","p":20,"mf":2,"cat":1,"t":68,"oy":"2002","lr":"2025","s":0},{"r":"Hollywood Rip Ride Rockit","p":29,"mf":17,"cat":6,"t":35,"oy":"2009","lr":"2015","s":0},{"r":"Boomerang","p":14,"mf":3,"cat":8,"t":23,"oy":"1998","lr":"2024","s":0},{"r":"Gatekeeper","p":0,"mf":0,"cat":20,"t":22,"oy":"2013","lr":"2023","s":0},{"r":"Excalibur","p":42,"mf":11,"cat":0,"t":0,"oy":"1998","lr":"2025","s":0},{"r":"Predator","p":14,"mf":18,"cat":0,"t":69,"oy":"1990","lr":"2024","s":0},{"r":"Kentucky Flyer","p":24,"mf":15,"cat":0,"t":17,"oy":"2019","lr":"2024","s":0},{"r":"Wicker Man","p":9,"mf":9,"cat":0,"t":0,"oy":"2018","lr":"2025","s":0},{"r":"Thunderbolt","p":21,"mf":5,"cat":0,"t":0,"oy":"1941","lr":"2025","s":0},{"r":"The Wild One","p":10,"mf":5,"cat":0,"t":0,"oy":"1917","lr":"2025","s":0},{"r":"Trace du Hourra","p":16,"mf":4,"cat":17,"t":39,"oy":"2001","lr":"2025","s":0},{"r":"Firechaser Express","p":8,"mf":8,"cat":5,"t":18,"oy":"2014","lr":"2022","s":0},{"r":"Goliath","p":3,"mf":30,"cat":4,"t":1,"oy":"2000","lr":"2022","s":0},{"r":"Revolution","p":11,"mf":1,"cat":2,"t":70,"oy":"1979","lr":"2025","s":0},{"r":"California Screamin'","p":43,"mf":2,"cat":2,"t":5,"oy":"2001","lr":"2012","s":0},{"r":"The Joker's Jinx","p":10,"mf":6,"cat":2,"t":5,"oy":"1999","lr":"2025","s":0},{"r":"Dragon Fyre","p":6,"mf":1,"cat":1,"t":3,"oy":"1981","lr":"2025","s":0},{"r":"Carolina Cyclone","p":7,"mf":1,"cat":1,"t":3,"oy":"1980","lr":"2022","s":0},{"r":"Space Mountain","p":26,"mf":1,"cat":6,"t":24,"oy":"1975","lr":"2018","s":0},{"r":"Thunder Run","p":6,"mf":4,"cat":18,"t":40,"oy":"1986","lr":"2025","s":0},{"r":"Wicked Twister","p":0,"mf":2,"cat":8,"t":41,"oy":"2002","lr":"2021","s":1},{"r":"Possessed","p":18,"mf":2,"cat":8,"t":41,"oy":"2000","lr":"2025","s":0},{"r":"Flying Cobras","p":7,"mf":3,"cat":8,"t":23,"oy":"1996","lr":"2022","s":0},{"r":"Sierra Sidewinder","p":17,"mf":4,"cat":15,"t":25,"oy":"2007","lr":"2023","s":0},{"r":"Invadr","p":13,"mf":9,"cat":0,"t":0,"oy":"2017","lr":"2021","s":0},{"r":"Apocalypse","p":3,"mf":9,"cat":0,"t":0,"oy":"2009","lr":"2023","s":0},{"r":"Blue Streak","p":0,"mf":5,"cat":0,"t":0,"oy":"1964","lr":"2024","s":0},{"r":"Mighty Canadian Minebuster","p":6,"mf":13,"cat":0,"t":0,"oy":"1981","lr":"2025","s":0},{"r":"The Racer","p":5,"mf":13,"cat":0,"t":14,"oy":"1972","lr":"2025","s":0},{"r":"Avalanche (Reptillian)","p":2,"mf":4,"cat":17,"t":39,"oy":"1988","lr":"2025","s":0},{"r":"Iron Menace","p":18,"mf":0,"cat":12,"t":13,"oy":"2024","lr":"2024","s":0},{"r":"P√©gase Express","p":16,"mf":8,"cat":5,"t":18,"oy":"2017","lr":"2025","s":0},{"r":"Tumbili","p":2,"mf":14,"cat":16,"t":38,"oy":"2022","lr":"2024","s":0},{"r":"Gemini","p":0,"mf":1,"cat":9,"t":71,"oy":"1978","lr":"2022","s":0},{"r":"Infusion","p":11,"mf":3,"cat":3,"t":15,"oy":"1999","lr":"2025","s":0},{"r":"Dragonflier","p":8,"mf":3,"cat":3,"t":42,"oy":"2019","lr":"2022","s":0},{"r":"Professor Screamore's Skywinder (Mind Eraser)","p":10,"mf":3,"cat":3,"t":15,"oy":"1995","lr":"2025","s":0},{"r":"Backlot Stunt Coaster","p":2,"mf":6,"cat":2,"t":8,"oy":"2006","lr":"2024","s":0},{"r":"Backlot Stunt Coaster","p":5,"mf":6,"cat":2,"t":5,"oy":"2005","lr":"2022","s":0},{"r":"Loch Ness Monster","p":13,"mf":1,"cat":1,"t":3,"oy":"1978","lr":"2021","s":0},{"r":"Viper","p":14,"mf":1,"cat":1,"t":3,"oy":"1982","lr":"2024","s":0},{"r":"Batman the Dark Knight","p":21,"mf":0,"cat":1,"t":6,"oy":"2002","lr":"2025","s":0},{"r":"Rougarou","p":0,"mf":0,"cat":1,"t":6,"oy":"2015","lr":"2022","s":0},{"r":"Hydra the Revenge","p":18,"mf":0,"cat":1,"t":6,"oy":"2005","lr":"2024","s":0},{"r":"Scream","p":3,"mf":0,"cat":1,"t":6,"oy":"2003","lr":"2023","s":0},{"r":"SooperDooperLooper","p":4,"mf":22,"cat":1,"t":3,"oy":"1977","lr":"2023","s":0},{"r":"Hurricane","p":38,"mf":31,"cat":6,"t":72,"oy":"1991","lr":"Pre 2010","s":1},{"r":"Jolly Rancher Remix (Sidewinder)","p":4,"mf":3,"cat":8,"t":23,"oy":"1991","lr":"2024","s":0},{"r":"Snoopy's Soapbox Racers","p":5,"mf":3,"cat":8,"t":43,"oy":"2024","lr":"2025","s":0},{"r":"Exterminator","p":12,"mf":23,"cat":15,"t":26,"oy":"1999","lr":"2023","s":0},{"r":"Ricochet","p":7,"mf":4,"cat":10,"t":10,"oy":"2002","lr":"2022","s":0},{"r":"Primeval Whirl","p":34,"mf":23,"cat":10,"t":26,"oy":"2002","lr":"2018","s":1},{"r":"Rajun Cajun","p":10,"mf":10,"cat":10,"t":26,"oy":"2014","lr":"2024","s":0},{"r":"Nickelodeon Streak","p":11,"mf":32,"cat":0,"t":0,"oy":"1933","lr":"2025","s":0},{"r":"Jack Rabbit","p":12,"mf":16,"cat":0,"t":0,"oy":"1920","lr":"2023","s":0},{"r":"Comet","p":4,"mf":5,"cat":0,"t":0,"oy":"1946","lr":"2023","s":0},{"r":"Woodstock Express","p":2,"mf":5,"cat":0,"t":0,"oy":"1974","lr":"2022","s":0},{"r":"The Beast","p":5,"mf":13,"cat":0,"t":0,"oy":"1979","lr":"2025","s":0},{"r":"Super Flight","p":39,"mf":10,"cat":11,"t":44,"oy":"2004","lr":"Pre 2010","s":2},{"r":"Pony Express","p":17,"mf":10,"cat":2,"t":73,"oy":"2008","lr":"2023","s":0},{"r":"The New Revolution","p":3,"mf":22,"cat":1,"t":3,"oy":"1976","lr":"2023","s":0},{"r":"Thunderbolt","p":28,"mf":10,"cat":1,"t":9,"oy":"2014","lr":"2022","s":0},{"r":"Nickelodeon Slime Streak","p":36,"mf":20,"cat":6,"t":24,"oy":"2019","lr":"2023","s":0},{"r":"Runaway Mine Train","p":9,"mf":4,"cat":18,"t":40,"oy":"1992","lr":"2025","s":0},{"r":"Steeplechase","p":11,"mf":1,"cat":21,"t":74,"oy":"1977","lr":"2025","s":0},{"r":"Racer","p":12,"mf":33,"cat":22,"t":14,"oy":"1927","lr":"2023","s":0},{"r":"Tonnerre 2 Zeus","p":16,"mf":11,"cat":0,"t":0,"oy":"1997","lr":"2025","s":0},{"r":"Lightning Racers","p":4,"mf":9,"cat":0,"t":14,"oy":"2000","lr":"2024","s":0},{"r":"Die Gesengte Sau","p":35,"mf":8,"cat":10,"t":10,"oy":"2020","lr":"2025","s":0},{"r":"Big Apple Coaster (Manhattan Express)","p":44,"mf":24,"cat":4,"t":20,"oy":"1997","lr":"2025","s":0},{"r":"Rapterra","p":2,"mf":0,"cat":2,"t":34,"oy":"2025","lr":"2025","s":0},{"r":"Superman: Escape from Krypton (F)","p":3,"mf":2,"cat":2,"t":75,"oy":"1997","lr":"2023","s":0},{"r":"Flight of Fear","p":2,"mf":6,"cat":2,"t":5,"oy":"1996","lr":"2024","s":0},{"r":"Flight of Fear","p":5,"mf":6,"cat":2,"t":5,"oy":"1996","lr":"2022","s":0},{"r":"Gale Force","p":45,"mf":14,"cat":2,"t":8,"oy":"2017","lr":"2019","s":0},{"r":"The Great American Scream Machine","p":1,"mf":1,"cat":1,"t":29,"oy":"1989","lr":"2010","s":1},{"r":"Mystery Mine","p":8,"mf":8,"cat":1,"t":9,"oy":"2007","lr":"2022","s":0},{"r":"Tantrum","p":14,"mf":8,"cat":1,"t":9,"oy":"2018","lr":"2024","s":0},{"r":"Big Thunder Mountain Railroad","p":30,"mf":1,"cat":7,"t":4,"oy":"1979","lr":"2012","s":0},{"r":"Adventure Express","p":5,"mf":1,"cat":7,"t":4,"oy":"1991","lr":"2025","s":0},{"r":"Runaway Mine Train","p":1,"mf":1,"cat":7,"t":4,"oy":"1974","lr":"2024","s":0},{"r":"Big Thunder Mountain Railroad","p":26,"mf":3,"cat":7,"t":4,"oy":"1980","lr":"2018","s":0},{"r":"Skull Mountain","p":1,"mf":2,"cat":6,"t":24,"oy":"1996","lr":"2024","s":0},{"r":"Laff Trakk","p":4,"mf":17,"cat":6,"t":25,"oy":"2015","lr":"2024","s":0},{"r":"The Dark Knight Coaster","p":1,"mf":4,"cat":10,"t":10,"oy":"2008","lr":"2023","s":0},{"r":"Thunder Run","p":24,"mf":18,"cat":0,"t":0,"oy":"1990","lr":"2024","s":0},{"r":"Dragon Coaster","p":39,"mf":34,"cat":0,"t":0,"oy":"1929","lr":"Pre 2010","s":0},{"r":"Roar","p":10,"mf":9,"cat":0,"t":0,"oy":"1998","lr":"2025","s":0},{"r":"Big Dipper","p":11,"mf":16,"cat":0,"t":0,"oy":"1923","lr":"2025","s":0},{"r":"Racer 75","p":2,"mf":5,"cat":0,"t":14,"oy":"1975","lr":"2025","s":0},{"r":"Ravine Flyer 3","p":22,"mf":19,"cat":5,"t":45,"oy":"2000","lr":"2024","s":0},{"r":"Motocoaster","p":14,"mf":10,"cat":2,"t":18,"oy":"2008","lr":"2024","s":0},{"r":"Steamin' Demon","p":31,"mf":1,"cat":1,"t":76,"oy":"1978","lr":"2024","s":0},{"r":"Woodstock Express","p":5,"mf":5,"cat":0,"t":0,"oy":"1972","lr":"2022","s":0},{"r":"Wonder Mountain's Gudardian","p":6,"mf":35,"cat":5,"t":77,"oy":"2014","lr":"2025","s":0},{"r":"Th13teen","p":9,"mf":2,"cat":5,"t":18,"oy":"2010","lr":"2025","s":0},{"r":"Catwoman's Whip","p":21,"mf":12,"cat":5,"t":27,"oy":"2000","lr":"2025","s":0},{"r":"Slinky Dog Dash","p":37,"mf":4,"cat":2,"t":5,"oy":"2018","lr":"2021","s":0},{"r":"Canyon Blaster","p":31,"mf":1,"cat":7,"t":4,"oy":"1972","lr":"2024","s":0},{"r":"Gold Rusher","p":3,"mf":1,"cat":7,"t":4,"oy":"1971","lr":"2024","s":0},{"r":"Blazing Fury","p":8,"mf":36,"cat":6,"t":46,"oy":"1978","lr":"2022","s":0},{"r":"Flight of the Hippogriff","p":19,"mf":3,"cat":5,"t":28,"oy":"2010","lr":"2021","s":0},{"r":"Good Gravy!","p":15,"mf":3,"cat":8,"t":43,"oy":"2024","lr":"2025","s":0},{"r":"Steel Dragon","p":22,"mf":17,"cat":15,"t":25,"oy":"2004","lr":"2024","s":0},{"r":"Iron Dragon","p":0,"mf":1,"cat":14,"t":12,"oy":"1987","lr":"2022","s":0},{"r":"Bobcat","p":31,"mf":15,"cat":0,"t":17,"oy":"2024","lr":"2024","s":0},{"r":"Blue Flyer","p":11,"mf":5,"cat":0,"t":0,"oy":"1934","lr":"2025","s":0},{"r":"Rolling Thunder","p":1,"mf":5,"cat":0,"t":14,"oy":"1979","lr":"2013","s":1},{"r":"Comet","p":22,"mf":5,"cat":0,"t":17,"oy":"1951","lr":"2024","s":0},{"r":"Teddy Bear","p":33,"mf":21,"cat":0,"t":17,"oy":"1996","lr":"2024","s":0},{"r":"Kosmo's Curves","p":25,"mf":19,"cat":5,"t":28,"oy":"2009","lr":"2021","s":0},{"r":"Whirlwind","p":22,"mf":37,"cat":15,"t":78,"oy":"2020","lr":"2024","s":0},{"r":"Apple Zapple","p":2,"mf":4,"cat":10,"t":10,"oy":"2002","lr":"2024","s":0},{"r":"Great Pumpkin Coaster","p":2,"mf":19,"cat":5,"t":47,"oy":"1997","lr":"2025","s":0},{"r":"Howler","p":15,"mf":10,"cat":5,"t":45,"oy":"1999","lr":"2025","s":0},{"r":"Harley Quinn Crazy Train","p":1,"mf":12,"cat":5,"t":27,"oy":"1999","lr":"2023","s":0},{"r":"Roller Soaker","p":4,"mf":38,"cat":3,"t":48,"oy":"2002","lr":"2012","s":1},{"r":"Corkscrew","p":0,"mf":1,"cat":1,"t":3,"oy":"1976","lr":"2024","s":0},{"r":"Cedar Creek Mine Ride","p":0,"mf":1,"cat":7,"t":4,"oy":"1969","lr":"204","s":0},{"r":"The Barnstormer","p":26,"mf":3,"cat":5,"t":28,"oy":"1996","lr":"2018","s":0},{"r":"Thunderhawk","p":18,"mf":5,"cat":0,"t":0,"oy":"1923","lr":"2024","s":0},{"r":"Wildcat","p":27,"mf":5,"cat":0,"t":0,"oy":"1927","lr":"2021","s":0},{"r":"Flying Ace Aerial Chase","p":5,"mf":3,"cat":3,"t":42,"oy":"2001","lr":"2022","s":0},{"r":"Vortex","p":7,"mf":0,"cat":1,"t":16,"oy":"1992","lr":"2022","s":0},{"r":"Carolina Goldrusher","p":7,"mf":1,"cat":7,"t":4,"oy":"1973","lr":"2022","s":0},{"r":"Trailblazer","p":4,"mf":1,"cat":7,"t":4,"oy":"1974","lr":"2023","s":0},{"r":"Seven Dwarfs Mine Train","p":26,"mf":3,"cat":7,"t":4,"oy":"2014","lr":"2018","s":0},{"r":"Coast Rider","p":17,"mf":4,"cat":10,"t":10,"oy":"2013","lr":"2023","s":0},{"r":"Wilde Beast","p":6,"mf":13,"cat":0,"t":0,"oy":"1981","lr":"2025","s":0},{"r":"Ladybug Coaster","p":38,"mf":12,"cat":5,"t":27,"oy":"2000","lr":"Pre 2010","s":0},{"r":"Lil' Devil","p":1,"mf":12,"cat":23,"t":47,"oy":"1999","lr":"2022","s":0},{"r":"Soarin' Eagle","p":28,"mf":10,"cat":11,"t":44,"oy":"2002","lr":"2022","s":0},{"r":"Frankencoaster","p":46,"mf":39,"cat":5,"t":79,"oy":"2004","lr":"2025","s":0},{"r":"Firebird","p":10,"mf":0,"cat":1,"t":6,"oy":"2018","lr":"2025","s":0},{"r":"Green Lantern","p":1,"mf":0,"cat":1,"t":16,"oy":"1997","lr":"2021","s":1},{"r":"Riddler's Revenge","p":3,"mf":0,"cat":1,"t":16,"oy":"1998","lr":"2022","s":0},{"r":"Flight Deck","p":6,"mf":3,"cat":3,"t":15,"oy":"1995","lr":"2025","s":0},{"r":"Mind Eraser","p":14,"mf":3,"cat":3,"t":15,"oy":"1997","lr":"2025","s":0},{"r":"Wildcat","p":4,"mf":9,"cat":0,"t":0,"oy":"1996","lr":"2021","s":1},{"r":"Shockwave","p":2,"mf":24,"cat":1,"t":16,"oy":"1986","lr":"2006","s":1},{"r":"The Great Nor'Easter","p":47,"mf":3,"cat":3,"t":15,"oy":"1995","lr":"Pre 2010","s":0},{"r":"Escape from Gringotts","p":29,"mf":2,"cat":2,"t":46,"oy":"2014","lr":"2016","s":0},{"r":"Mantis","p":0,"mf":0,"cat":1,"t":16,"oy":"1996","lr":"2013","s":1},{"r":"Kraken","p":40,"mf":0,"cat":1,"t":6,"oy":"2000","lr":"2003","s":0},{"r":"Matterhorn Bobsleds","p":30,"mf":1,"cat":6,"t":49,"oy":"1959","lr":"2012","s":0},{"r":"Space Mountain","p":30,"mf":40,"cat":6,"t":49,"oy":"1977","lr":"2012","s":0},{"r":"Journey to Atlantis","p":40,"mf":4,"cat":24,"t":48,"oy":"1998","lr":"2003","s":0},{"r":"Mean Streak","p":0,"mf":18,"cat":0,"t":0,"oy":"1991","lr":"2013","s":1}];
const coasterBase=_B.map(c=>({Ride:c.r,Park:_P[c.p],Manufacturer:_M[c.mf],Category:_C[c.cat],Type:_T[c.t],"Opening Year":c.oy,"Last Ride":c.lr,Status:_S[c.s]}));
function _eY(a){return a.map(e=>({m:e.m,"New Credit":e.nc||"No","Rating":e.rt||"","Ranking":e.rk||"","Comments":e.ci!=null?_CL[e.ci]:e.c||""}));}
const yearData2026=_eY([{"m":0,"rt":"9.5","rk":"1","c":"She's back at the top. I-P305 has a relentless power and furious pacing that nothing else can touch. The turnaround still sucks out your soul, but the rest of the ride is what earns the gold, starting with that epic ejector hill. Crushing positives, insane whips, and great airtime, marred only by shoulder straps and a frustrating trim. "},{"m":1,"rt":"9.5","rk":"2","ci":129},{"m":2,"rt":"9.25","rk":"3","ci":196},{"m":3,"rt":"9.25","rk":"4","ci":111},{"m":4,"rt":"9.25","rk":"5","ci":130},{"m":5,"rt":"9.25","rk":"6","ci":141},{"m":6,"rt":"9.25","rk":"7","ci":192},{"m":7,"rt":"9.25","rk":"8","ci":15},{"m":8,"rt":"9.25","rk":"9","c":"2025 is marginally smoother than 2024. Probably the best trad first drop in the industry (esp in the back). 4 moments of delicious ejector, esp the Rolling Thunder hill, though there are some weak spots and the turnaround hammers you (less than before but still). I've been sleeping on the front cars, like goddamn. "},{"m":9,"rt":"9.15","rk":"10","ci":78},{"m":10,"rt":"9.15","rk":"11","ci":115},{"m":11,"rt":"9.15","rk":"12","ci":62},{"m":12,"rt":"9.15","rk":"13","ci":260},{"m":13,"rt":"9.15","rk":"14","ci":220},{"m":14,"rt":"9.15","rk":"15","ci":230},{"m":15,"rt":"9","rk":"16","ci":239},{"m":16,"rt":"9","rk":"17","ci":24},{"m":17,"rt":"9","rk":"18","ci":146},{"m":18,"rt":"9","rk":"19","ci":72},{"m":19,"rt":"9","rk":"20","ci":242},{"m":20,"rt":"9","rk":"21","ci":197},{"m":21,"rt":"9","rk":"22","ci":112},{"m":22,"rt":"9","rk":"23","ci":79},{"m":23,"rt":"9","rk":"24","ci":185},{"m":24,"rt":"9","rk":"25","ci":200},{"m":25,"rt":"8.75","rk":"26","c":"I finally got a duel! (Kinda!) But that's not why TC jumped up in the rankings, it was just better than I remembered. It still feels like two half coasters slapped together but the pacing is way better than Timbers and the airtime is just better and more drawn out. "},{"m":26,"rt":"8.75","rk":"27","ci":193},{"m":27,"rt":"8.75","rk":"28","ci":184},{"m":28,"rt":"8.75","rk":"29","ci":61},{"m":29,"rt":"8.75","rk":"30","ci":224},{"m":30,"rt":"8.75","rk":"31","ci":199},{"m":31,"rt":"8.5","rk":"32","ci":117},{"m":32,"rt":"8.5","rk":"33","ci":136},{"m":33,"rt":"8.5","rk":"34","ci":205},{"m":34,"rt":"8.5","rk":"35","ci":253},{"m":35,"rt":"8.5","rk":"36","ci":257},{"m":36,"rt":"8.5","rk":"37","ci":3},{"m":37,"rt":"8.5","rk":"38","ci":214},{"m":38,"rt":"8.25","rk":"39","ci":154},{"m":39,"rt":"8.25","rk":"40","ci":221},{"m":40,"rt":"8.25","rk":"41","ci":210},{"m":41,"rt":"8.25","rk":"42","ci":132},{"m":42,"rt":"8.25","rk":"43","ci":87},{"m":43,"rt":"8.25","rk":"44","ci":142},{"m":44,"rt":"8.25","rk":"45","ci":202},{"m":45,"rt":"8.25","rk":"46","ci":50},{"m":46,"rt":"8.25","rk":"47","ci":68},{"m":47,"rt":"8.25","rk":"48","ci":63},{"m":48,"rt":"8.25","rk":"49","c":"Nitro is still being Nitro, my inconsistently brilliant fave. Each hill gives a pop up, a dead pause, and then okay floater down (opposite in the back). Great first drop, bunny hops are a solid finale, and the helix / turnaround are forceful-ish. Nitro has a great layout but it betrays its age with its lack of power. "},{"m":49,"rt":"8.25","rk":"50","ci":1},{"m":50,"rt":"8.25","rk":"51","ci":137},{"m":51,"rt":"8.25","rk":"52","ci":118},{"m":52,"rt":"8.15","rk":"53","ci":23},{"m":53,"rt":"8.15","rk":"54","ci":53},{"m":54,"rt":"8.15","rk":"55","ci":14},{"m":55,"rt":"8.15","rk":"56","ci":243},{"m":56,"rt":"8","rk":"57","ci":143},{"m":57,"rt":"8","rk":"58","ci":144},{"m":58,"rt":"8","rk":"59","ci":69},{"m":59,"rt":"8","rk":"60","ci":232},{"m":60,"rt":"8","rk":"61","ci":217},{"m":61,"rt":"8","rk":"62","ci":190},{"m":62,"rt":"8","rk":"63","ci":188},{"m":63,"rt":"8","rk":"64","ci":56},{"m":64,"rt":"8","rk":"65","ci":227},{"m":65,"rt":"8","rk":"66","ci":206},{"m":66,"rt":"8","rk":"67","ci":29},{"m":67,"rt":"8","rk":"68","ci":65},{"m":68,"rt":"8","rk":"69","ci":292},{"m":69,"rt":"8","rk":"70","ci":139},{"m":70,"rt":"8","rk":"71","ci":113},{"m":71,"rt":"8","rk":"72","ci":58},{"m":72,"rt":"8","rk":"73","ci":186},{"m":73,"rt":"8","rk":"74","ci":26},{"m":74,"rt":"8","rk":"75","ci":45},{"m":75,"rt":"8","rk":"76","ci":70},{"m":76,"rt":"8","rk":"77","ci":73},{"m":77,"rt":"7.75","rk":"78","ci":47},{"m":78,"rt":"7.75","rk":"79","ci":203},{"m":79,"rt":"7.75","rk":"80","ci":64},{"m":80,"rt":"7.75","rk":"81","ci":187},{"m":81,"rt":"7.75","rk":"82","ci":215},{"m":82,"rt":"7.75","rk":"83","ci":254},{"m":83,"rt":"7.75","rk":"84","ci":148},{"m":84,"rt":"7.75","rk":"85","ci":42},{"m":85,"rt":"7.75","rk":"86","ci":127},{"m":86,"rt":"7.5","rk":"87","ci":204},{"m":87,"rt":"7.5","rk":"88","ci":114},{"m":88,"rt":"7.5","rk":"89","ci":59},{"m":89,"rt":"7.5","rk":"90","ci":244},{"m":90,"rt":"7.5","rk":"91","ci":119},{"m":91,"rt":"7.5","rk":"92","ci":48},{"m":92,"rt":"7.5","rk":"93","ci":18},{"m":93,"rt":"7.5","rk":"94","ci":285},{"m":94,"rt":"7.5","rk":"95","ci":88},{"m":95,"rt":"7.5","rk":"96","ci":133},{"m":96,"rt":"7.25","rk":"97","ci":207},{"m":97,"rt":"7.25","rk":"98","ci":209},{"m":98,"rt":"7.25","rk":"99","ci":106},{"m":99,"rt":"7.25","rk":"100","ci":90},{"m":100,"rt":"7.25","ci":100},{"m":101,"rt":"7.25","ci":194},{"m":102,"rt":"7.25","ci":8},{"m":103,"rt":"7.25","ci":80},{"m":104,"rt":"7.25","ci":122},{"m":105,"rt":"7.25","ci":5},{"m":106,"rt":"7.25","ci":11},{"m":107,"rt":"7.25","ci":240},{"m":108,"rt":"7.25","ci":233},{"m":109,"rt":"7.25","ci":27},{"m":110,"rt":"7.25","ci":172},{"m":111,"rt":"7.25","ci":273},{"m":112,"rt":"7","ci":235},{"m":113,"rt":"7","ci":71},{"m":114,"rt":"7","ci":91},{"m":115,"rt":"7","ci":40},{"m":116,"rt":"7","ci":36},{"m":117,"rt":"7","ci":10},{"m":118,"rt":"7","ci":245},{"m":119,"rt":"7","ci":66},{"m":120,"rt":"7","ci":211},{"m":121,"rt":"7","ci":237},{"m":122,"rt":"7","ci":107},{"m":123,"rt":"7","ci":155},{"m":124,"rt":"7","ci":175},{"m":125,"rt":"7","ci":198},{"m":126,"rt":"7","ci":125},{"m":127,"rt":"7","ci":167},{"m":128,"rt":"7","ci":222},{"m":129,"rt":"7","c":"Though I only got one ride in the middle of the train, Thunderbolt still impressed; it's one of the better old woodies out there. There are a few moments where you get the incredible floor-falls-out airtime only an old woodie can deliver. Solid pacing and laterals too; would love to reevaluate in the back. Ops are horrendous. "},{"m":130,"rt":"7","ci":281},{"m":131,"rt":"6.75","ci":225},{"m":132,"rt":"6.75","ci":21},{"m":133,"rt":"6.75","ci":108},{"m":134,"rt":"6.75","ci":247},{"m":135,"rt":"6.75","ci":86},{"m":136,"rt":"6.75","ci":6},{"m":137,"rt":"6.75","ci":234},{"m":138,"rt":"6.75","ci":22},{"m":139,"rt":"6.75","ci":34},{"m":140,"rt":"6.75","ci":250},{"m":141,"rt":"6.75","ci":77},{"m":142,"rt":"6.75","c":"Seems like it's on death's door in 2024, but still, I can't believe how fun this gimmicky coaster is, especially in the back. It's a one trick pony but it does its trick well. Forceful launch, awesome positive Gs, and the sensation of being yeeted up the backwards spike is absurd. "},{"m":143,"rt":"6.75","ci":19},{"m":144,"rt":"6.75","ci":84},{"m":145,"rt":"6.75","ci":43},{"m":146,"rt":"6.75","ci":76},{"m":147,"rt":"6.75","ci":97},{"m":148,"rt":"6.75","ci":191},{"m":149,"rt":"6.75","ci":241},{"m":150,"rt":"6.5","c":"There's something to be said about the novelty of a bobsled. That \"off the rails\" feeling is fun, but trims neuter the potentially chaotic experience, that you get brief glimpses of in the initial helices and bottom of the ride. Occasionally chaotic, but mostly breezy (in a fun way). "},{"m":151,"rt":"6.5","ci":120},{"m":152,"rt":"6.5","ci":213},{"m":153,"rt":"6.5","ci":169},{"m":154,"rt":"6.5","ci":2},{"m":155,"rt":"6.5","ci":212},{"m":156,"rt":"6.5","ci":37},{"m":157,"rt":"6.5","ci":110},{"m":158,"rt":"6.5","ci":94},{"m":159,"rt":"6.5","ci":105},{"m":160,"rt":"6.5","ci":85},{"m":161,"rt":"6.5","ci":147},{"m":162,"rt":"6.5","ci":216},{"m":163,"rt":"6.5","ci":30},{"m":164,"rt":"6.5","ci":16},{"m":165,"rt":"6.5","ci":57},{"m":166,"rt":"6.5","ci":31},{"m":167,"rt":"6.5","ci":174},{"m":168,"rt":"6.5","ci":101},{"m":169,"rt":"6.5","ci":151},{"m":170,"rt":"6.5","ci":74},{"m":171,"rt":"6.5","ci":41},{"m":172,"rt":"6.5","ci":96},{"m":173,"rt":"6.5","ci":156},{"m":174,"rt":"6.5","ci":231},{"m":175,"rt":"6.5","ci":75},{"m":176,"rt":"6.5","ci":99},{"m":177,"rt":"6.5","ci":12},{"m":178,"rt":"6.5","ci":208},{"m":179,"rt":"6.25","ci":134},{"m":180,"rt":"6.25","ci":81},{"m":181,"rt":"6.25","c":"A fun, if breezy, classic that just slightly ekes out the SooperDooperLooper. Definitely a bit shakier than the former and with worse trains, the first modern looper still provides a long and pleasant (forceless) hillside jaunt with a wicked Schwarzkopf loop thrown right in the middle. "},{"m":182,"rt":"6.25","ci":13},{"m":183,"rt":"6.25","ci":51},{"m":184,"rt":"6.25","ci":289},{"m":185,"rt":"6.25","ci":228},{"m":186,"rt":"6.25","ci":179},{"m":187,"rt":"6.25","ci":246},{"m":188,"rt":"6.25","ci":236},{"m":189,"rt":"6","ci":201},{"m":190,"rt":"6","c":"I'll give the Big Apple Coaster one thing- it's really funny. Beyond the wild twisty dive loop and a semi-solid helix, this ride sucks. The second half is comically limp. And the transitions make Orient Express look masterful. But I can't help but love the last TOGO, because it's so bizarre that it ends up with tons of character. Trains are okay. "},{"m":191,"rt":"6","ci":259},{"m":192,"rt":"6","ci":32},{"m":193,"rt":"6","ci":9},{"m":194,"rt":"6","ci":38},{"m":195,"rt":"6","ci":150},{"m":196,"rt":"6","ci":264},{"m":197,"rt":"6","ci":20},{"m":198,"rt":"6","ci":164},{"m":199,"rt":"6","ci":166},{"m":200,"rt":"6","ci":126},{"m":201,"rt":"6","ci":123},{"m":202,"rt":"6","ci":35},{"m":203,"rt":"6","ci":171},{"m":204,"rt":"6","ci":67},{"m":205,"rt":"6","ci":131},{"m":206,"rt":"6","c":"A completely fine Dinn woodie with two bonkers airtime moments after the first turnaround. The pacing through the banked turns is fun and the ride tracks pretty well, it's just a pretty bland layout after the initial chaos. "},{"m":207,"rt":"6","ci":173},{"m":208,"rt":"6","ci":229},{"m":209,"rt":"6","c":"A Blackpool classic, but unfortunately Big Dipper didn't deliver. Many moments hinted at elite airtime but the majority of the ride was gentle float, with a heap of bounciness added in for good measure. Oozes character though. The best part was watching those 4-benchers round the station turn, sliding around Tokyo Drift style.\u00a0"},{"m":210,"rt":"6","ci":279},{"m":211,"rt":"5.75","ci":178},{"m":212,"rt":"5.75","ci":157},{"m":213,"rt":"5.75","ci":124},{"m":214,"rt":"5.75","ci":55},{"m":215,"rt":"5.5","ci":189},{"m":216,"rt":"5.5","ci":226},{"m":217,"rt":"5.5","ci":278},{"m":218,"rt":"5.5","ci":7},{"m":219,"rt":"5.5","ci":109},{"m":220,"rt":"5.5","ci":52},{"m":221,"rt":"5.5","ci":39},{"m":222,"rt":"5.5","ci":44},{"m":223,"rt":"5.5","ci":152},{"m":224,"rt":"5.5","ci":170},{"m":225,"rt":"5.5","ci":138},{"m":226,"rt":"5.5","ci":116},{"m":227,"rt":"5.5","ci":302},{"m":228,"rt":"5.5","ci":54},{"m":229,"rt":"5.5","ci":182},{"m":230,"rt":"5.5","ci":181},{"m":231,"rt":"5.25","ci":92},{"m":232,"rt":"5.25","ci":168},{"m":233,"rt":"5.25","ci":102},{"m":234,"rt":"5","ci":297},{"m":235,"rt":"5","ci":300},{"m":236,"rt":"5","ci":49},{"m":237,"rt":"5","ci":153},{"m":238,"rt":"5","ci":128},{"m":239,"rt":"5","ci":158},{"m":240,"rt":"5","ci":60},{"m":241,"rt":"5","ci":177},{"m":242,"rt":"5","ci":4},{"m":243,"rt":"4.75","ci":28},{"m":244,"rt":"4.75","ci":25},{"m":245,"rt":"4.75","c":"What do you get when you combine the jank of Adventure Express with the forcelessness of Trailblazer? One of the weakest Arrow mine trains. Not the best on setting either, but it's still cute and relaxing enough. "},{"m":246,"rt":"4.75","ci":82},{"m":247,"rt":"4.5","ci":46},{"m":248,"rt":"4.5","ci":83},{"m":249,"rt":"4.5","ci":256},{"m":250,"rt":"4.25","ci":238},{"m":251,"rt":"4.25","ci":103},{"m":252,"rt":"4.15","ci":17},{"m":253,"rt":"4","ci":295},{"m":254,"rt":"4","ci":160},{"m":255,"rt":"4","ci":223},{"m":256,"rt":"4","ci":33},{"m":257,"rt":"3.75","ci":195},{"m":258,"rt":"3.5","ci":218},{"m":259,"rt":"3.5","ci":145},{"m":260,"rt":"2","ci":104},{"m":261,"ci":0},{"m":262,"ci":0},{"m":263,"ci":0},{"m":264,"ci":0},{"m":265,"ci":0},{"m":266,"ci":0},{"m":267,"ci":0},{"m":268,"ci":0}]);

const _originalBaseNames = new Set(yearData2026.map(e => coasterBase[e.m].Ride + '|||' + coasterBase[e.m].Park));

function registerUserRide(obj) {
    const key = obj.Ride + '|||' + obj.Park;
    const already = yearData2026.find(e => coasterBase[e.m] && (coasterBase[e.m].Ride + '|||' + coasterBase[e.m].Park) === key);
    if (already) return already.m;
    const idx = coasterBase.length;
    coasterBase.push({ Ride: obj.Ride, Park: obj.Park, Manufacturer: obj.Manufacturer, Category: obj.Category, Type: obj.Type, 'Opening Year': obj['Opening Year'], 'Last Ride': obj['Last Ride'], Status: obj.Status });
    const entry = { m: idx };
    if (obj.Rating) entry.Rating = obj.Rating;
    if (obj.Ranking) entry.Ranking = obj.Ranking;
    if (obj.Comments) entry.Comments = obj.Comments;
    if (obj['New Credit']) entry['New Credit'] = obj['New Credit'];
    yearData2026.push(entry);
    return idx;
}

function unregisterUserRide(rideName, parkName) {
    const key = rideName + '|||' + parkName;
    if (_originalBaseNames.has(key)) return;
    const ei = yearData2026.findIndex(e => coasterBase[e.m] && (coasterBase[e.m].Ride + '|||' + coasterBase[e.m].Park) === key);
    if (ei !== -1) yearData2026.splice(ei, 1);
}

function syncRideToYearData(obj) {
    const key = obj.Ride + '|||' + obj.Park;
    const entry = yearData2026.find(e => coasterBase[e.m] && (coasterBase[e.m].Ride + '|||' + coasterBase[e.m].Park) === key);
    if (!entry) return;
    const m = entry.m;
    coasterBase[m].Status = obj.Status; coasterBase[m]['Last Ride'] = obj['Last Ride']; coasterBase[m].Type = obj.Type; coasterBase[m]['Opening Year'] = obj['Opening Year'];
    entry.Rating = obj.Rating || ''; entry.Ranking = obj.Ranking || ''; entry.Comments = obj.Comments || '';
}

function syncAllToYearData() {
    const lookup = new Map();
    AppState.coasters.forEach(c => lookup.set(c.Ride + '|||' + c.Park, c));
    yearData2026.forEach(entry => {
        const base = coasterBase[entry.m];
        if (!base) return;
        const current = lookup.get(base.Ride + '|||' + base.Park);
        if (!current) return;
        entry.Rating = current.Rating || '';
        entry.Ranking = current.Ranking || '';
        entry.Comments = current.Comments || '';
    });
}

const AppState = {
    coasters: [],
    filtered: [],
    editing: null,
    chart: null,
    chartLimit: 5,
    sort: { column: null, direction: 'asc' },
    columns: {
        'Ride': true,
        'Park': true,
        'Manufacturer': true,
        'Category': true,
        'Type': true,
        'Opening Year': true,
        'Last Ride': true,
        'Status': true,
        'New Credit': true,
        'Rating': true,
        'Ranking': true,
        'Weighted Ranking': false,
        'Comments': false
    }
};

const Utils = {
    escapeHtml(text) {
        if (!text) return '';
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    },

    getElement(id) {
        return document.getElementById(id);
    },

    getElements(selector) {
        return document.querySelectorAll(selector);
    },

    getCSSVariable(name) {
        return getComputedStyle(document.documentElement).getPropertyValue(name).trim();
    },

    getRatingColor(rating) {
        const normalized = Math.max(0, Math.min(10, rating));
        if (normalized >= 9) return '#10b981';      // Excellent - Green
        if (normalized >= 8) return '#22c55e';      // Great - Light Green
        if (normalized >= 7) return '#84cc16';      // Good - Lime
        if (normalized >= 6) return '#eab308';      // Above Average - Yellow
        if (normalized >= 5) return '#f97316';      // Average - Orange
        if (normalized >= 4) return '#ef4444';      // Below Average - Red
        return '#dc2626';                           // Poor - Dark Red
    },

    truncateLabel(label, maxLength = 15) {
        if (!label || label.length <= maxLength) return label;
        return label.substring(0, maxLength) + '...';
    },

    buildFilterTitle(limit, statusId, parkId, mfrId, catId, typeId, actualCount = null) {
        const parts = [];
        const status = this.getElement(statusId).value;
        const park   = this.getElement(parkId).value;
        const mfr    = this.getElement(mfrId).value;
        const cat    = this.getElement(catId).value;
        const type   = this.getElement(typeId).value;
        if (status) parts.push(status);
        if (park)   parts.push(park);
        if (mfr)    parts.push(mfr);
        if (cat)    parts.push(cleanCoasterLabel(cat, 'Category'));
        if (type)   parts.push(cleanCoasterLabel(type, 'Type'));
        
        const displayCount = (actualCount !== null && actualCount < limit) ? actualCount : limit;
        
        if (parts.length === 0) return `Top ${displayCount} Coasters`;
        return `Top ${displayCount} ${parts.join(' ')} Coasters`;

    },

    parseRating(value) {
        return parseFloat(value) || 0;
    }
};

const DOM = {
    populateSelect(selectId, options, placeholder = 'Select...') {
        const select = typeof selectId === 'string' ? Utils.getElement(selectId) : selectId;
        if (!select) return;
        
        select.innerHTML = `<option value="">${placeholder}</option>`;
        options.forEach(opt => {
            const option = document.createElement('option');
            option.value = opt;
            option.textContent = opt;
            select.appendChild(option);
        });
    },

    populateSelectByFrequency(selectId, field, placeholder = 'All') {
        const select = Utils.getElement(selectId);
        if (!select) return;
        
        const frequency = {};
        AppState.coasters.forEach(coaster => {
            const value = coaster[field];
            if (value) {
                frequency[value] = (frequency[value] || 0) + 1;
            }
        });
        
        const sorted = Object.keys(frequency).sort((a, b) => frequency[b] - frequency[a]);
        
        select.innerHTML = `<option value="">${placeholder}</option>`;
        sorted.forEach(opt => {
            const option = document.createElement('option');
            option.value = opt;
            const displayLabel = cleanCoasterLabel(opt, field);
            option.textContent = `${displayLabel} (${frequency[opt]})`;
            select.appendChild(option);
        });
    },

    populateYearSelect(selectId, start, end, descending = true) {
        const select = typeof selectId === 'string' ? Utils.getElement(selectId) : selectId;
        if (!select) return;
        
        select.innerHTML = '<option value="">Select Year</option>';
        const years = descending 
            ? Array.from({ length: end - start + 1 }, (_, i) => end - i)
            : Array.from({ length: end - start + 1 }, (_, i) => start + i);
        
        years.forEach(year => {
            const option = document.createElement('option');
            option.value = year.toString();
            option.textContent = year.toString();
            select.appendChild(option);
        });
    },

    populateRatingSelect(selectId) {
        const select = typeof selectId === 'string' ? Utils.getElement(selectId) : selectId;
        if (!select) return;
        
        select.innerHTML = '<option value="">Select Rating</option>';
        for (let rating = 1; rating <= 10; rating += 0.25) {
            const option = document.createElement('option');
            option.value = rating.toFixed(2);
            option.textContent = rating.toFixed(2);
            select.appendChild(option);
        }
    },

    populateRankingSelect(selectId) {
        const select = typeof selectId === 'string' ? Utils.getElement(selectId) : selectId;
        if (!select) return;
        
        select.innerHTML = '<option value="">Not Ranked</option>';
        for (let rank = 1; rank <= 100; rank++) {
            const option = document.createElement('option');
            option.value = rank.toString();
            option.textContent = rank.toString();
            select.appendChild(option);
        }
    }
};

const Render = {
    coasterCard(coaster) {
        const card = document.createElement('div');
        card.className = 'coaster-card';
        
        if (coaster['New Credit'] === 'Yes') card.classList.add('new-credit');
        if (coaster.Status === 'Defunct') card.classList.add('defunct');
        
        const rating = Utils.parseRating(coaster.Rating);
        const ratingPercent = (rating / 10) * 100;
        const ratingColor = Utils.getRatingColor(rating);
        
        const statusClass = coaster.Status === 'Operating' ? 'status-operating' : 
                           coaster.Status === 'SBNO' ? 'status-sbno' : 'status-defunct';
        
        card.innerHTML = `
            <div class="card-header">
                <div class="card-title">${Utils.escapeHtml(coaster.Ride)}</div>
                ${coaster.Ranking ? `<div class="ranking-badge" style="--rating-color: ${ratingColor};">#${coaster.Ranking}</div>` : ''}
            </div>
            <div class="card-park">${Utils.escapeHtml(coaster.Park)}</div>
            <div class="card-details">
                <div class="detail-row">
                    <span class="detail-label">Manufacturer</span>
                    <span class="detail-value">${Utils.escapeHtml(coaster.Manufacturer || '‚Äî')}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Type</span>
                    <span class="detail-value">${Utils.escapeHtml(coaster.Type || '‚Äî')}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status</span>
                    <span class="status-badge ${statusClass}">${Utils.escapeHtml(coaster.Status || 'Unknown')}</span>
                </div>
            </div>
            ${rating > 0 ? `
            <div class="rating-display">
                <div class="rating-stars">
                    <div class="rating-fill" style="width: ${ratingPercent}%; background: ${ratingColor};"></div>
                </div>
                <div class="rating-number" style="color: ${ratingColor};">${rating.toFixed(2)}</div>
            </div>
            ` : ''}
        `;
        
        card.addEventListener('click', () => Modals.showDetail(coaster));
        return card;
    },

    coasters() {
        const grid = Utils.getElement('coasterGrid');
        const noResults = Utils.getElement('noResults');
        
        grid.innerHTML = '';
        
        if (AppState.filtered.length === 0) {
            grid.style.display = 'none';
            noResults.style.display = 'block';
            return;
        }
        
        grid.style.display = 'grid';
        noResults.style.display = 'none';
        
        const fragment = document.createDocumentFragment();
        AppState.filtered.forEach(coaster => {
            fragment.appendChild(Render.coasterCard(coaster));
        });
        grid.appendChild(fragment);
    },

    spreadsheet() {
        const thead = Utils.getElement('tableHead');
        const tbody = Utils.getElement('tableBody');
        
        const headerRow = document.createElement('tr');
        Object.entries(AppState.columns).forEach(([column, visible]) => {
            if (!visible) return;
            const th = document.createElement('th');
            th.textContent = column;
            th.dataset.column = column;
            if (AppState.sort.column === column) {
                th.classList.add(AppState.sort.direction === 'asc' ? 'sorted-asc' : 'sorted-desc');
            }
            th.addEventListener('click', () => Spreadsheet.sortByColumn(column));
            headerRow.appendChild(th);
        });
        thead.innerHTML = '';
        thead.appendChild(headerRow);
        
        const fragment = document.createDocumentFragment();
        const sortedData = Spreadsheet.getSortedData();
        
        sortedData.forEach(coaster => {
            const row = document.createElement('tr');
            if (coaster['New Credit'] === 'Yes') row.classList.add('new-credit-row');
            if (coaster.Status === 'Defunct') row.classList.add('defunct-row');
            
            Object.entries(AppState.columns).forEach(([column, visible]) => {
                if (!visible) return;
                const td = document.createElement('td');
                if (column === 'Rating' && coaster[column]) {
                    td.textContent = parseFloat(coaster[column]).toFixed(2);
                } else if (column === 'Weighted Ranking' && coaster[column]) {
                    td.textContent = parseFloat(coaster[column]).toFixed(2);
                } else {
                    td.textContent = coaster[column] || '‚Äî';
                }
                td.dataset.column = column;
                
                if (column === 'Comments') {
                    td.textContent = '';
                    td.classList.add('comments-cell');
                    const fullText = coaster[column] || '‚Äî';
                    const span = document.createElement('span');
                    span.className = 'comments-inner';
                    if (fullText.length > 75 && fullText !== '‚Äî') {
                        span.textContent = fullText.slice(0, 75) + '...';
                        td.dataset.fullText = fullText;
                        td.dataset.rideName = coaster['Ride'] || '';
                        td.addEventListener('click', function(e) {
                            e.stopPropagation();
                            const modal = Utils.getElement('commentsModal');
                            Utils.getElement('commentsModalTitle').textContent = this.dataset.rideName;
                            Utils.getElement('commentsModalBody').textContent = this.dataset.fullText;
                            modal.classList.add('active');
                            Modals._lockScroll();
                        });
                    } else {
                        span.textContent = fullText;
                    }
                    td.appendChild(span);
                }
                
                row.appendChild(td);
            });
            fragment.appendChild(row);
        });
        
        tbody.innerHTML = '';
        tbody.appendChild(fragment);

    }
};

const Spreadsheet = {
    initialize() {
        const togglesContainer = Utils.getElement('columnToggles');
        Object.keys(AppState.columns).forEach(column => {
            if (column === 'Ride') return;
            const btn = document.createElement('button');
            btn.className = 'column-toggle' + (AppState.columns[column] ? '' : ' inactive');
            btn.textContent = column;
            btn.dataset.column = column;
            btn.addEventListener('click', () => this.toggleColumn(column));
            togglesContainer.appendChild(btn);
        });
    },

    toggleColumn(column) {
        AppState.columns[column] = !AppState.columns[column];
        const btn = document.querySelector(`[data-column="${column}"]`);
        btn.classList.toggle('inactive');
        Render.spreadsheet();
    },

    sortByColumn(column) {
        if (AppState.sort.column === column) {
            AppState.sort.direction = AppState.sort.direction === 'asc' ? 'desc' : 'asc';
        } else {
            AppState.sort.column = column;
            AppState.sort.direction = 'asc';
        }
        Render.spreadsheet();
    },

    getSortedData() {
        const data = AppState.filtered || AppState.coasters;
        if (!AppState.sort.column) return data;
        
        return [...data].sort((a, b) => {
            let aVal = a[AppState.sort.column] || '';
            let bVal = b[AppState.sort.column] || '';
            
            if (['Rating', 'Ranking', 'Weighted Ranking', 'Opening Year'].includes(AppState.sort.column)) {
                aVal = parseFloat(aVal) || 0;
                bVal = parseFloat(bVal) || 0;
            }
            
            if (aVal < bVal) return AppState.sort.direction === 'asc' ? -1 : 1;
            if (aVal > bVal) return AppState.sort.direction === 'asc' ? 1 : -1;
            return 0;
        });
    }
};

const Chart = {
    instance: null,
    mode: 'rating',   // 'rating' | 'ranking'
    useWeightedRanking: false,

    setMode(mode) {
        this.mode = mode;
        const wrap = Utils.getElement('statsWeightedWrap');
        if (mode === 'ranking' && YearData.currentYear !== '2026') {
            wrap.style.display = '';
        } else {
            wrap.style.display = 'none';
            this.useWeightedRanking = false;
            Utils.getElement('statsWeightedCheck').checked = false;
        }
        this.update();
    },

    initialize() {
        const ctx = Utils.getElement('ratingsChart').getContext('2d');
        const textColor = Utils.getCSSVariable('--text');
        const borderColor = Utils.getCSSVariable('--border');
        
        this.instance = new window.Chart(ctx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: 'Rating',
                    data: [],
                    borderWidth: 3,
                    tension: 0.3,
                    fill: false,
                    pointRadius: 6,
                    pointHoverRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                aspectRatio: 16 / 9,
                plugins: {
                    legend: {
                        display: false
                    },
                    title: {
                        display: true,
                        text: 'Top Rated Coasters',
                        font: {
                            family: "'Space Grotesk', sans-serif",
                            size: 20,
                            weight: 'bold'
                        },
                        color: textColor
                    },
                    tooltip: {
                        titleFont: { family: "'Space Grotesk', sans-serif", size: 16 },
                        bodyFont: { family: "'Space Grotesk', sans-serif", size: 15 },
                        callbacks: {
                            title: (tooltipItems) => {
                                const index = tooltipItems[0].dataIndex;
                                const chartData = this.getFilteredData();
                                return chartData[index]?.Ride || tooltipItems[0].label;
                            },
                            label: (context) => {
                                const val = context.parsed.y;
                                if (this.mode === 'rating') {
                                    return `Rating: ${val.toFixed(2)}`;
                                }
                                return this.useWeightedRanking
                                    ? `Weighted Ranking: #${val.toFixed(2)}`
                                    : `Ranking: #${val}`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 10,
                        grid: {
                            color: borderColor
                        },
                        afterBuildTicks: function(axis) {
                            if (axis.options.reverse && axis.ticks.length && !axis.ticks.some(t => t.value === 1)) {
                                axis.ticks.push({ value: 1 });
                                axis.ticks.sort((a, b) => a.value - b.value);
                            }
                        },
                        title: {
                            display: true,
                            text: 'Rating',
                            font: {
                                family: "'Space Grotesk', sans-serif",
                                size: 16,
                                weight: 'bold'
                            },
                            color: textColor
                        },
                        ticks: {
                            font: {
                                family: "'Space Grotesk', sans-serif",
                                size: 14
                            },
                            color: textColor,
                            callback: function(value) {
                                return Number(value.toFixed(2));
                            }
                        }
                    },
                    x: {
                        grid: {
                            color: borderColor
                        },
                        ticks: {
                            font: {
                                family: "'Space Grotesk', sans-serif",
                                size: 13,
                                weight: '600'
                            },
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: false,
                            color: textColor
                        }
                    }
                }
            }
        });
        
        this.update();
    },

    getFilteredData() {
        const park = Utils.getElement('statsPark').value;
        const manufacturer = Utils.getElement('statsManufacturer').value;
        const category = Utils.getElement('statsCategory').value;
        const type = Utils.getElement('statsType').value;
        const status = Utils.getElement('statsStatus').value;
        const isRanking = this.mode === 'ranking';
        const isWeighted = isRanking && this.useWeightedRanking;
        
        return AppState.coasters.filter(c => {
            if (isWeighted) {
                const wr = parseFloat(c['Weighted Ranking']);
                if (!c['Weighted Ranking'] || isNaN(wr) || wr <= 0) return false;
            } else if (isRanking) {
                const rank = parseInt(c.Ranking);
                if (!c.Ranking || isNaN(rank) || rank <= 0) return false;
            } else {
                if (!c.Rating || Utils.parseRating(c.Rating) === 0) return false;
            }
            if (park && c.Park !== park) return false;
            if (manufacturer && c.Manufacturer !== manufacturer) return false;
            if (category && c.Category !== category) return false;
            if (type && c.Type !== type) return false;
            if (status && c.Status !== status) return false;
            return true;
        }).sort((a, b) => {
            if (isWeighted) return parseFloat(a['Weighted Ranking']) - parseFloat(b['Weighted Ranking']);
            if (isRanking) return parseInt(a.Ranking) - parseInt(b.Ranking); // best (lowest) first
            return Utils.parseRating(b.Rating) - Utils.parseRating(a.Rating);
        }).slice(0, AppState.chartLimit);
    },

    update() {
        if (!this.instance) return;
        
        const chartData = this.getFilteredData();
        const isRanking = this.mode === 'ranking';
        const isWeighted = isRanking && this.useWeightedRanking;
        
        const labels = chartData.map(c => Utils.truncateLabel(c.Ride, 15));
        
        let dataValues, colors;
        if (isWeighted) {
            dataValues = chartData.map(c => parseFloat(c['Weighted Ranking']));
            colors = dataValues.map(() => '#6366f1');
        } else if (isRanking) {
            dataValues = chartData.map(c => parseInt(c.Ranking));
            colors = dataValues.map(() => '#6366f1');  // uniform purple for ranking
        } else {
            dataValues = chartData.map(c => Utils.parseRating(c.Rating));
            colors = dataValues.map(r => Utils.getRatingColor(r));
        }
        
        const textColor = Utils.getCSSVariable('--text');
        const borderColor = Utils.getCSSVariable('--border');
        
        this.instance.options.plugins.title.color = textColor;
        this.instance.options.plugins.title.text  = Utils.buildFilterTitle(AppState.chartLimit, 'statsStatus', 'statsPark', 'statsManufacturer', 'statsCategory', 'statsType', chartData.length);
        
        this.instance.options.scales.y.title.text = isWeighted ? 'Weighted Ranking' : (isRanking ? 'Ranking' : 'Rating');
        this.instance.options.scales.y.title.color = textColor;
        this.instance.options.scales.y.ticks.color = textColor;
        this.instance.options.scales.y.grid.color = borderColor;
        
        if (isRanking) {
            this.instance.options.scales.y.reverse = true;
            this.instance.options.scales.y.beginAtZero = false;
            delete this.instance.options.scales.y.max;
            this.instance.options.scales.y.min = 0.5;
            delete this.instance.options.scales.y.ticks.stepSize;
            if (isWeighted) {
                this.instance.options.scales.y.ticks.callback = function(value) { return value >= 1 ? '#' + Number(value.toFixed(1)) : ''; };
            } else {
                this.instance.options.scales.y.ticks.callback = function(value) { return (Number.isInteger(value) && value >= 1) ? '#' + value : ''; };
            }
        } else {
            this.instance.options.scales.y.reverse = false;
            this.instance.options.scales.y.beginAtZero = true;
            this.instance.options.scales.y.max = 10;
            delete this.instance.options.scales.y.min;
            delete this.instance.options.scales.y.ticks.stepSize;
            this.instance.options.scales.y.ticks.callback = function(value) { return Number(value.toFixed(2)); };
        }
        
        this.instance.options.scales.x.ticks.color = textColor;
        this.instance.options.scales.x.grid.color = borderColor;
        
        this.instance.data.labels = labels;
        this.instance.data.datasets[0].label = isWeighted ? 'Weighted Ranking' : (isRanking ? 'Ranking' : 'Rating');
        this.instance.data.datasets[0].data = dataValues;
        this.instance.data.datasets[0].borderColor = colors[0] || '#3b82f6';
        this.instance.data.datasets[0].pointBackgroundColor = colors;
        this.instance.data.datasets[0].pointBorderColor = colors;
        this.instance.update();
    }
};

const OverTimeChart = {
    instance: null,
    mode: 'rating',             // 'rating' | 'ranking'
    sourceMode: 'ride',         // 'ride' | 'filters'
    selectedRideIndex: null,    // coasterBase index when a ride is selected; null ‚Üí averages
    useWeightedRanking: false,  // when true, show Weighted Ranking instead of Ranking
    otLimit: 5,                 // Top N used in filters mode
    _colorOverrides: {},        // { coasterBase index ‚Üí color }

    colors: [
        '#6366f1','#f59e0b','#10b981','#ef4444','#8b5cf6',
        '#3b82f6','#ec4899','#14b8a6','#f97316','#06b6d4',
        '#84cc16','#e11d48','#7c3aed','#0ea5e9','#d946ef'
    ],

    initialize() {
        const ctx = Utils.getElement('overTimeChart').getContext('2d');
        const textColor   = Utils.getCSSVariable('--text');
        const borderColor = Utils.getCSSVariable('--border');

        this.instance = new window.Chart(ctx, {
            type: 'line',
            data: { labels: [], datasets: [] },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                aspectRatio: 16 / 9,
                plugins: {
                    legend: {
                        display: false,
                        position: 'right',
                        align: 'center',
                        labels: {
                            font: { family: "'Space Grotesk', sans-serif", size: 11 },
                            color: textColor,
                            boxWidth: 12,
                            boxHeight: 12,
                            padding: 10,
                            usePointStyle: true,
                            pointStyle: 'circle',
                            pointStyleWidth: 10,
                            maxWidth: 140
                        }
                    },
                    title: {
                        display: true,
                        text: 'Average Rating Over Time',
                        font: {
                            family: "'Space Grotesk', sans-serif",
                            size: 20,
                            weight: 'bold'
                        },
                        color: textColor
                    },
                    tooltip: {
                        titleFont: { family: "'Space Grotesk', sans-serif", size: 16 },
                        bodyFont: { family: "'Space Grotesk', sans-serif", size: 15 },
                        callbacks: {
                            label: (context) => {
                                const ds    = context.dataset;
                                const val   = ds._originalData ? ds._originalData[context.dataIndex] : context.parsed.y;
                                const label = ds.label;
                                if (val === null || val === undefined) return '';
                                if (this.sourceMode === 'filters') {
                                    return this.mode === 'rating'
                                        ? `${label}: ${val.toFixed(2)}`
                                        : `${label}: #${this.useWeightedRanking ? val.toFixed(2) : val}`;
                                } else if (this.selectedRideIndex !== null) {
                                    return this.mode === 'rating'
                                        ? `Rating: ${val.toFixed(2)}`
                                        : `${this.useWeightedRanking ? 'Weighted Ranking' : 'Ranking'}: #${this.useWeightedRanking ? val.toFixed(2) : val}`;
                                } else {
                                    return this.mode === 'rating'
                                        ? `Avg Rating: ${val.toFixed(2)}`
                                        : `${this.useWeightedRanking ? 'Avg Weighted Ranking' : 'Avg Ranking'}: #${val.toFixed(1)}`;
                                }
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        min: 0, max: 10, reverse: false,
                        grid:  { color: borderColor },
                        afterBuildTicks: function(axis) {
                            if (axis.options.reverse && axis.ticks.length && !axis.ticks.some(t => t.value === 1)) {
                                axis.ticks.push({ value: 1 });
                                axis.ticks.sort((a, b) => a.value - b.value);
                            }
                        },
                        title: {
                            display: true,
                            text: 'Rating',
                            font: { family: "'Space Grotesk', sans-serif", size: 16, weight: 'bold' },
                            color: textColor
                        },
                        ticks: {
                            font: { family: "'Space Grotesk', sans-serif", size: 14 },
                            color: textColor
                        }
                    },
                    x: {
                        grid: { color: borderColor },
                        ticks: {
                            font: { family: "'Space Grotesk', sans-serif", size: 13, weight: '600' },
                            color: textColor
                        }
                    }
                }
            }
        });

        this.update();
    },

    getYearlyAverages() {
        const years = Object.keys(YearData.datasets).sort();
        return years.map(year => {
            const coasters = YearData.mergeWithBase(YearData.datasets[year]);
            const rated  = coasters.filter(c => c.Rating && Utils.parseRating(c.Rating) > 0);
            const ranked = coasters.filter(c => c.Ranking && parseInt(c.Ranking) > 0);
            const weightedRanked = year === '2026'
                ? ranked
                : coasters.filter(c => c['Weighted Ranking'] && parseFloat(c['Weighted Ranking']) > 0);
            const avgWR = weightedRanked.length
                ? weightedRanked.reduce((s, c) => s + (year === '2026' ? parseInt(c.Ranking) : parseFloat(c['Weighted Ranking'])), 0) / weightedRanked.length
                : null;
            return {
                year,
                avgRating  : rated.length  ? rated.reduce((s, c) => s + Utils.parseRating(c.Rating), 0) / rated.length : null,
                avgRanking : ranked.length ? ranked.reduce((s, c) => s + parseInt(c.Ranking), 0) / ranked.length        : null,
                avgWeightedRanking : avgWR
            };
        });
    },

    getRideDataByIndex(baseIndex) {
        const years = Object.keys(YearData.datasets).sort();
        return years.map(year => {
            const entry = YearData.datasets[year].find(e => e.m === baseIndex);
            if (!entry) return { year, rating: null, ranking: null, weightedRanking: null };
            const r = Utils.parseRating(entry.Rating);
            const k = parseInt(entry.Ranking);
            const w = entry['Weighted Ranking'] ? parseFloat(entry['Weighted Ranking'])
                    : (year === '2026' && k > 0 ? k : null);
            return { year, rating: r > 0 ? r : null, ranking: k > 0 ? k : null, weightedRanking: w };
        });
    },

    getFilteredTopRides() {
        const park   = Utils.getElement('otPark').value;
        const mfr    = Utils.getElement('otManufacturer').value;
        const cat    = Utils.getElement('otCategory').value;
        const type   = Utils.getElement('otType').value;
        const status = Utils.getElement('otStatus').value;

        const refYear = YearData.currentYear;
        const entries = YearData.datasets[refYear] || [];
        let candidates = [];

        entries.forEach(entry => {
            const base = coasterBase[entry.m];
            if (!base) return;
            if (park   && base.Park         !== park)   return;
            if (mfr    && base.Manufacturer !== mfr)    return;
            if (cat    && base.Category     !== cat)    return;
            if (type   && base.Type         !== type)   return;
            if (status && base.Status       !== status) return;

            const rating  = Utils.parseRating(entry.Rating);
            const ranking = parseInt(entry.Ranking);

            if (this.mode === 'rating'  && rating  > 0) candidates.push({ idx: entry.m, rating, ranking });
            if (this.mode === 'ranking' && ranking > 0) candidates.push({ idx: entry.m, rating, ranking });
        });

        candidates.sort((a, b) =>
            this.mode === 'rating'
                ? b.rating  - a.rating    // highest rating first
                : a.ranking - b.ranking   // lowest (best) ranking first
        );

        return candidates.slice(0, this.otLimit).map(c => c.idx);
    },

    selectRide(baseIndex) {
        this.selectedRideIndex = baseIndex;
        Utils.getElement('otRideSearch').value = coasterBase[baseIndex].Ride;
        Utils.getElement('otRideClear').style.display = 'inline-flex';
        Utils.getElement('otRideDropdown').style.display = 'none';
        this.update();
    },

    clearRide() {
        this.selectedRideIndex = null;
        Utils.getElement('otRideSearch').value = '';
        Utils.getElement('otRideClear').style.display = 'none';
        this.update();
    },

    setMode(mode) {
        this.mode = mode;
        const wrap = Utils.getElement('otWeightedWrap');
        if (mode === 'ranking') {
            wrap.style.display = '';
        } else {
            wrap.style.display = 'none';
            this.useWeightedRanking = false;
            Utils.getElement('otWeightedCheck').checked = false;
        }
        this.update();
    },

    setSource(src) {
        this.sourceMode = src;
        if (src === 'filters') {
            this.selectedRideIndex = null;
            Utils.getElement('otRideSearch').value = '';
            Utils.getElement('otRideClear').style.display = 'none';
        }
        Utils.getElement('otRidePanel').style.display     = (src === 'ride')    ? 'block' : 'none';
        Utils.getElement('otFiltersPanel').style.display   = (src === 'filters') ? 'block' : 'none';
        this.update();
    },

    update() {
        if (!this.instance) return;

        const textColor   = Utils.getCSSVariable('--text');
        const borderColor = Utils.getCSSVariable('--border');
        const years       = Object.keys(YearData.datasets).sort().filter(y => parseInt(y) <= parseInt(YearData.currentYear));
        const opts        = this.instance.options;
        const yOpts       = opts.scales.y;

        const applyYAxis = (label, min, max, reverse, beginAtZero) => {
            yOpts.title.text  = label;
            if (min !== null) { yOpts.min = min; } else { delete yOpts.min; }
            if (max !== null) { yOpts.max = max; } else { delete yOpts.max; }
            yOpts.reverse     = reverse;
            yOpts.beginAtZero = beginAtZero;
            yOpts.title.color = textColor;
            yOpts.ticks.color = textColor;
            yOpts.grid.color  = borderColor;
            opts.scales.x.ticks.color = textColor;
            opts.scales.x.grid.color  = borderColor;
            opts.plugins.title.color  = textColor;
        };

        if (this.sourceMode === 'filters') {
            const topIndices = this.getFilteredTopRides();

            this.instance.data.labels = years;
            this.instance.data.datasets = topIndices.map((idx, i) => {
                const rideData = this.getRideDataByIndex(idx);
                const color = this._colorOverrides[idx] || this.colors[i % this.colors.length];
                return {
                    label: coasterBase[idx].Ride,
                    _baseIdx: idx,
                    data: this.mode === 'rating'
                        ? rideData.map(d => d.rating)
                        : (this.useWeightedRanking ? rideData.map(d => d.weightedRanking) : rideData.map(d => d.ranking)),
                    _originalData: this.mode === 'rating'
                        ? rideData.map(d => d.rating)
                        : (this.useWeightedRanking ? rideData.map(d => d.weightedRanking) : rideData.map(d => d.ranking)),
                    borderColor:            color,
                    pointBackgroundColor:   color,
                    pointBorderColor:       color,
                    borderWidth: 2.5,
                    tension: 0.3,
                    fill: false,
                    pointRadius: 4,
                    pointHoverRadius: 6,
                    spanGaps: true
                };
            });

            // Stagger overlapping points so clusters are visible
            const datasets = this.instance.data.datasets;
            const STAGGER_NORMAL = 0.02;
            const STAGGER_TIGHT = 0.01;
            for (let yi = 0; yi < years.length; yi++) {
                const groups = {};
                datasets.forEach((ds, di) => {
                    const v = ds.data[yi];
                    if (v === null || v === undefined) return;
                    const key = String(v);
                    if (!groups[key]) groups[key] = [];
                    groups[key].push(di);
                });
                Object.values(groups).forEach(indices => {
                    if (indices.length < 2) return;
                    const stagger = indices.length > 3 ? STAGGER_TIGHT : STAGGER_NORMAL;
                    const mid = (indices.length - 1) / 2;
                    indices.forEach((di, pos) => {
                        datasets[di].data[yi] = datasets[di]._originalData[yi] + (pos - mid) * stagger;
                    });
                });
            }

            opts.plugins.legend.display       = false;
            opts.plugins.legend.labels.color  = textColor;
            opts.plugins.title.text = Utils.buildFilterTitle(this.otLimit, 'otStatus', 'otPark', 'otManufacturer', 'otCategory', 'otType', topIndices.length);

            if (this.mode === 'rating') {
                const allRatings  = this.instance.data.datasets.flatMap(ds => ds.data).filter(v => v !== null);
                const minRating   = allRatings.length ? Math.min(...allRatings) : 0;
                const maxRating   = allRatings.length ? Math.max(...allRatings) : 10;
                applyYAxis('Rating', minRating - 0.2, maxRating + 0.2, false, false);
            } else {
                const axisLabel = this.useWeightedRanking ? 'Weighted Ranking' : 'Ranking';
                const allRankings = this.instance.data.datasets.flatMap(ds => ds.data).filter(v => v !== null);
                const maxRank     = allRankings.length ? Math.max(...allRankings) : 20;
                applyYAxis(axisLabel, 0.5, Math.max(Math.ceil(maxRank * 1.25), 10), true, false);
            }

            const isWeightedF = this.useWeightedRanking;
            yOpts.ticks.callback = function(value, index, ticks) {
                if (index === 0 || index === ticks.length - 1) return null;
                if (yOpts.reverse) {
                    if (isWeightedF) return value >= 1 ? '#' + Number(value.toFixed(1)) : '';
                    return (Number.isInteger(value) && value >= 1) ? '#' + value : '';
                }
                return Number(value.toFixed(2));
            };

        } else {
            const isRide = this.selectedRideIndex !== null;
            const data   = isRide
                ? this.getRideDataByIndex(this.selectedRideIndex)
                : this.getYearlyAverages();

            let values, color, title;
            if (this.mode === 'rating') {
                values = isRide
                    ? data.map(d => d.rating  !== null ? Math.round(d.rating  * 10) / 10 : null)
                    : data.map(d => d.avgRating !== null ? Math.round(d.avgRating * 10) / 10 : null);
                color = Utils.getCSSVariable('--primary');
                title = isRide
                    ? `${coasterBase[this.selectedRideIndex].Ride} ‚Äî Rating`
                    : 'Average Rating Over Time';
            } else if (this.useWeightedRanking) {
                values = isRide
                    ? data.map(d => d.weightedRanking !== null ? Math.round(d.weightedRanking * 100) / 100 : null)
                    : data.map(d => d.avgWeightedRanking !== null ? Math.round(d.avgWeightedRanking * 100) / 100 : null);
                color = Utils.getCSSVariable('--accent');
                title = isRide
                    ? `${coasterBase[this.selectedRideIndex].Ride} ‚Äî Weighted Ranking`
                    : 'Average Weighted Ranking Over Time';
            } else {
                values = isRide
                    ? data.map(d => d.ranking !== null ? d.ranking : null)
                    : data.map(d => d.avgRanking !== null ? Math.round(d.avgRanking * 10) / 10 : null);
                color = Utils.getCSSVariable('--accent');
                title = isRide
                    ? `${coasterBase[this.selectedRideIndex].Ride} ‚Äî Ranking`
                    : 'Average Ranking Over Time';
            }

            this.instance.data.labels = data.map(d => d.year);
            this.instance.data.datasets = [{
                label: this.mode === 'rating'
                    ? (isRide ? 'Rating'  : 'Average Rating')
                    : (isRide
                        ? (this.useWeightedRanking ? 'Weighted Ranking' : 'Ranking')
                        : (this.useWeightedRanking ? 'Average Weighted Ranking' : 'Average Ranking')),
                data: values,
                borderColor: color,
                pointBackgroundColor: color,
                pointBorderColor: color,
                borderWidth: 3,
                tension: 0.3,
                fill: false,
                pointRadius: 6,
                pointHoverRadius: 8,
                spanGaps: isRide
            }];

            opts.plugins.legend.display = false;
            opts.plugins.title.text     = title;

            if (this.mode === 'rating') {
                const allRatings  = this.instance.data.datasets.flatMap(ds => ds.data).filter(v => v !== null);
                const minRating   = allRatings.length ? Math.min(...allRatings) : 0;
                const maxRating   = allRatings.length ? Math.max(...allRatings) : 10;
                applyYAxis('Rating', minRating - 0.2, maxRating + 0.2, false, false);
            } else {
                const axisLabel = this.useWeightedRanking ? 'Weighted Ranking' : 'Ranking';
                const allRankings = this.instance.data.datasets.flatMap(ds => ds.data).filter(v => v !== null);
                const maxRank     = allRankings.length ? Math.max(...allRankings) : 20;
                applyYAxis(axisLabel, 0.5, Math.max(Math.ceil(maxRank * 1.25), 10), true, false);
            }

            const isWeighted = this.useWeightedRanking;
            yOpts.ticks.callback = function(value) {
                if (yOpts.reverse) {
                    if (isWeighted) return value >= 1 ? '#' + Number(value.toFixed(1)) : '';
                    return (Number.isInteger(value) && value >= 1) ? '#' + value : '';
                }
                return Number(value.toFixed(2));
            };
        }

        this.renderLegend();
        this.instance.update();
    },

    _palette: [
        '#ef4444','#f97316','#f59e0b','#eab308','#84cc16','#22c55e','#10b981','#14b8a6',
        '#06b6d4','#0ea5e9','#3b82f6','#6366f1','#8b5cf6','#a855f7','#d946ef','#ec4899',
        '#dc2626','#ea580c','#d97706','#ca8a04','#65a30d','#16a34a','#059669','#0d9488',
        '#0891b2','#0284c7','#2563eb','#4f46e5','#7c3aed','#9333ea','#c026d3','#db2777',
        '#991b1b','#9a3412','#92400e','#854d0e','#3f6212','#166534','#065f46','#115e59',
        '#155e75','#075985','#1e40af','#3730a3','#5b21b6','#6b21a8','#86198f','#9d174d',
        '#fca5a5','#fdba74','#fcd34d','#fde047','#bef264','#86efac','#6ee7b7','#5eead4',
        '#67e8f9','#7dd3fc','#93c5fd','#a5b4fc','#c4b5fd','#d8b4fe','#f0abfc','#f9a8d4'
    ],

    renderLegend() {
        const container = document.getElementById('otLegend');
        if (!container || !this.instance) return;

        if (this.sourceMode !== 'filters' || this.instance.data.datasets.length === 0) {
            container.innerHTML = '';
            return;
        }

        container.innerHTML = this.instance.data.datasets.map((ds, i) => {
            const color = ds.borderColor;
            const full  = ds.label;
            const short = full.length > 15 ? full.slice(0, 15) + '...' : full;
            return '<div class="ot-legend-item" title="' + full + '">'
                 + '<span class="ot-legend-swatch" data-ds-index="' + i + '" style="background-color:' + color + ';"></span>'
                 + '<span class="ot-legend-label">' + short + '</span>'
                 + '</div>';
        }).join('');

        container.querySelectorAll('.ot-legend-swatch').forEach(swatch => {
            swatch.addEventListener('click', (e) => {
                e.stopPropagation();
                this._openColorPicker(swatch, parseInt(swatch.dataset.dsIndex));
            });
        });
    },

    _openColorPicker(swatch, dsIndex) {
        const existing = document.querySelector('.ot-color-picker');
        if (existing) existing.remove();

        const picker = document.createElement('div');
        picker.className = 'ot-color-picker';
        picker.innerHTML = this._palette.map(c =>
            '<div class="ot-color-picker-cell" data-color="' + c + '" style="background-color:' + c + ';"></div>'
        ).join('');

        document.body.appendChild(picker);

        const swatchRect = swatch.getBoundingClientRect();
        const pickerW = picker.offsetWidth;
        const pickerH = picker.offsetHeight;
        let left = swatchRect.left + swatchRect.width / 2 - pickerW / 2;
        let top = swatchRect.bottom + 6;

        if (left < 4) left = 4;
        if (left + pickerW > window.innerWidth - 4) left = window.innerWidth - pickerW - 4;
        if (top + pickerH > window.innerHeight - 4) top = swatchRect.top - pickerH - 6;

        picker.style.left = left + 'px';
        picker.style.top = top + 'px';
        picker.style.position = 'fixed';

        picker.querySelectorAll('.ot-color-picker-cell').forEach(cell => {
            cell.addEventListener('click', (e) => {
                e.stopPropagation();
                const color = cell.dataset.color;
                this._applyColor(dsIndex, color);
                swatch.style.backgroundColor = color;
                picker.remove();
            });
        });

        const dismiss = (e) => {
            if (!picker.contains(e.target)) {
                picker.remove();
                document.removeEventListener('click', dismiss, true);
            }
        };
        setTimeout(() => document.addEventListener('click', dismiss, true), 0);
    },

    _applyColor(dsIndex, color) {
        const ds = this.instance.data.datasets[dsIndex];
        if (!ds) return;
        if (ds._baseIdx !== undefined) this._colorOverrides[ds._baseIdx] = color;
        ds.borderColor = color;
        ds.pointBackgroundColor = Array.isArray(ds.pointBackgroundColor)
            ? ds.pointBackgroundColor.map(() => color)
            : color;
        ds.pointBorderColor = Array.isArray(ds.pointBorderColor)
            ? ds.pointBorderColor.map(() => color)
            : color;
        this.instance.update();
    }
};

const Modals = {
    _savedScroll: 0,
    _lockScroll() {
        this._savedScroll = window.scrollY;
        document.body.classList.add('modal-open');
        document.body.style.top = `-${this._savedScroll}px`;
    },
    _unlockScroll() {
        document.body.classList.remove('modal-open');
        document.body.style.top = '';
        window.scrollTo(0, this._savedScroll);
    },
    showDetail(coaster) {
        AppState.editing = coaster;
        
        const modal = Utils.getElement('detailModal');
        const title = Utils.getElement('detailTitle');
        const content = Utils.getElement('detailContent');
        
        title.textContent = coaster.Ride;
        
        const rating = Utils.parseRating(coaster.Rating);
        const ratingPercent = (rating / 10) * 100;
        const ratingColor = Utils.getRatingColor(rating);
        
        const statusClass = coaster.Status === 'Operating' ? 'status-operating' : 
                           coaster.Status === 'SBNO' ? 'status-sbno' : 'status-defunct';
        
        content.innerHTML = `
            <div class="detail-modal-grid">
                <div class="detail-modal-two-col">
                    <div class="detail-modal-row">
                        <span class="detail-modal-label">Park</span>
                        <span class="detail-modal-value">${Utils.escapeHtml(coaster.Park)}</span>
                    </div>
                    <div class="detail-modal-row">
                        <span class="detail-modal-label">Manufacturer</span>
                        <span class="detail-modal-value">${Utils.escapeHtml(coaster.Manufacturer || '‚Äî')}</span>
                    </div>
                    <div class="detail-modal-row">
                        <span class="detail-modal-label">Category</span>
                        <span class="detail-modal-value">${Utils.escapeHtml(coaster.Category || '‚Äî')}</span>
                    </div>
                    <div class="detail-modal-row">
                        <span class="detail-modal-label">Type</span>
                        <span class="detail-modal-value">${Utils.escapeHtml(coaster.Type || '‚Äî')}</span>
                    </div>
                    <div class="detail-modal-row">
                        <span class="detail-modal-label">Opening Year</span>
                        <span class="detail-modal-value">${Utils.escapeHtml(coaster['Opening Year'] || '‚Äî')}</span>
                    </div>
                    <div class="detail-modal-row">
                        <span class="detail-modal-label">Last Ride</span>
                        <span class="detail-modal-value">${Utils.escapeHtml(coaster['Last Ride'] || '‚Äî')}</span>
                    </div>
                    <div class="detail-modal-row">
                        <span class="detail-modal-label">Status</span>
                        <span class="status-badge ${statusClass}">${Utils.escapeHtml(coaster.Status || 'Unknown')}</span>
                    </div>
                    <div class="detail-modal-row">
                        <span class="detail-modal-label">Ranking</span>
                        <span class="detail-modal-value">${coaster.Ranking ? '#' + coaster.Ranking : 'Not Ranked'}</span>
                    </div>
                </div>
                ${rating > 0 ? `
                <div class="detail-modal-row">
                    <span class="detail-modal-label">Rating</span>
                    <div class="rating-display" style="margin: 0;">
                        <div class="rating-stars">
                            <div class="rating-fill" style="width: ${ratingPercent}%; background: ${ratingColor};"></div>
                        </div>
                        <div class="rating-number" style="color: ${ratingColor};">${rating.toFixed(2)}</div>
                    </div>
                </div>
                ` : ''}
            </div>
            ${coaster.Comments ? `
            <div class="comments-section">
                <div class="comments-label">Comments</div>
                <div class="comments-text">${Utils.escapeHtml(coaster.Comments)}</div>
            </div>
            ` : ''}
        `;
        
        Utils.getElement('editCoasterBtn').style.display = YearData.currentYear === '2026' ? '' : 'none';
        Utils.getElement('deleteCoasterBtn').style.display = YearData.currentYear === '2026' ? '' : 'none';
        modal.classList.add('active');
        this._lockScroll();
    },

    closeDetail() {
        Utils.getElement('detailModal').classList.remove('active');
        AppState.editing = null;
        this._unlockScroll();
    },

    showAddCoaster() {
        Utils.getElement('addModalTitle').textContent = 'Add New Credit';
        Utils.getElement('coasterForm').reset();
        Utils.getElement('charCount').textContent = '0 / 350';
        ['rideName', 'parkName', 'manufacturer', 'category', 'type', 'openingYear', 'lastRide'].forEach(id => {
            Utils.getElement(id).disabled = false;
        });
        Utils.getElement('newCredit').closest('.form-group').style.display = '';
        Utils.getElement('addCoasterModal').classList.add('active');
        this._lockScroll();
    },

    closeAddCoaster() {
        Utils.getElement('addCoasterModal').classList.remove('active');
        this._unlockScroll();
    },

    editCoasterDetails() {
        if (!AppState.editing) return;
        
        const coaster = AppState.editing;
        this.closeDetail();
        AppState.editing = coaster;
        Utils.getElement('addModalTitle').textContent = 'Edit Credit';
        Utils.getElement('rideName').value = coaster.Ride || '';
        Utils.getElement('parkName').value = coaster.Park || '';
        Utils.getElement('manufacturer').value = coaster.Manufacturer || '';
        Utils.getElement('category').value = coaster.Category || '';
        Utils.getElement('type').value = coaster.Type || '';
        Utils.getElement('openingYear').value = coaster['Opening Year'] || '';
        Utils.getElement('lastRide').value = coaster['Last Ride'] || '';
        Utils.getElement('status').value = coaster.Status || '';
        const ratingVal = coaster.Rating ? parseFloat(coaster.Rating).toFixed(2) : '';
        Utils.getElement('rating').value = ratingVal;
        Utils.getElement('ranking').value = coaster.Ranking || '';
        Utils.getElement('newCredit').checked = coaster['New Credit'] === 'Yes';
        Utils.getElement('comments').value = coaster.Comments || '';
        
        const charCount = (coaster.Comments || '').length;
        Utils.getElement('charCount').textContent = `${charCount} / 350`;
        
        ['rideName', 'parkName', 'manufacturer', 'category'].forEach(id => {
            Utils.getElement(id).disabled = true;
        });
        Utils.getElement('type').disabled = false;
        Utils.getElement('openingYear').disabled = false;
        Utils.getElement('lastRide').disabled = false;
        Utils.getElement('newCredit').closest('.form-group').style.display = 'none';

        Utils.getElement('addCoasterModal').classList.add('active');
    }
};

const Filters = {
    apply() {
        const searchTerm = Utils.getElement('searchInput').value.toLowerCase();
        const park = Utils.getElement('filterPark').value;
        const manufacturer = Utils.getElement('filterManufacturer').value;
        const category = Utils.getElement('filterCategory').value;
        const type = Utils.getElement('filterType').value;
        const status = Utils.getElement('filterStatus').value;
        const minRating = Utils.parseRating(Utils.getElement('filterRating').value);
        
        AppState.filtered = AppState.coasters.filter(coaster => {
            if (searchTerm) {
                const searchableText = `${coaster.Ride} ${coaster.Park} ${coaster.Manufacturer}`.toLowerCase();
                if (!searchableText.includes(searchTerm)) return false;
            }
            if (park && coaster.Park !== park) return false;
            if (manufacturer && coaster.Manufacturer !== manufacturer) return false;
            if (category && coaster.Category !== category) return false;
            if (type && coaster.Type !== type) return false;
            if (status && coaster.Status !== status) return false;
            if (minRating > 0 && Utils.parseRating(coaster.Rating) < minRating) return false;
            return true;
        });
        
        this.sortCards();
        Render.coasters();
    },

    sortCards() {
        const ranked = [];
        const unranked = [];
        
        AppState.filtered.forEach(c => {
            const rank = parseInt(c.Ranking);
            if (c.Ranking && !isNaN(rank)) {
                ranked.push(c);
            } else {
                unranked.push(c);
            }
        });
        
        ranked.sort((a, b) => parseInt(a.Ranking) - parseInt(b.Ranking));
        
        unranked.sort((a, b) => Utils.parseRating(b.Rating) - Utils.parseRating(a.Rating));
        
        AppState.filtered = [...ranked, ...unranked];
    },

    togglePanel() {
        Utils.getElement('filterPanel').classList.toggle('active');
    }
};

const Tabs = {
    switch(tabName) {
        Utils.getElements('.tab-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.tab === tabName);
        });
        
        Utils.getElement('creditsTab').classList.toggle('hidden', tabName !== 'credits');
        Utils.getElement('statisticsTab').classList.toggle('hidden', tabName !== 'statistics');
        Utils.getElement('spreadsheetTab').classList.toggle('hidden', tabName !== 'spreadsheet');
        
        if (tabName === 'statistics') {
            Chart.update();
        } else if (tabName === 'spreadsheet') {
            Render.spreadsheet();
        }
    }
};

const Forms = {
    handleSubmit(e) {
        e.preventDefault();
        
        const formData = {
            Ride: Utils.getElement('rideName').value,
            Park: Utils.getElement('parkName').value,
            Manufacturer: Utils.getElement('manufacturer').value,
            Category: Utils.getElement('category').value,
            Type: Utils.getElement('type').value,
            'Opening Year': Utils.getElement('openingYear').value,
            'Last Ride': Utils.getElement('lastRide').value,
            Status: Utils.getElement('status').value,
            Rating: Utils.getElement('rating').value,
            Ranking: Utils.getElement('ranking').value,
            'New Credit': Utils.getElement('newCredit').checked ? 'Yes' : 'No',
            Comments: Utils.getElement('comments').value
        };
        
        if (AppState.editing) {
            const index = AppState.coasters.findIndex(c => c === AppState.editing);
            if (index !== -1) {
                const oldRanking = AppState.coasters[index].Ranking;
                const newRanking = formData.Ranking;

                this.adjustRankingsOnEdit(oldRanking, newRanking, AppState.coasters[index]);

                AppState.coasters[index].Status = formData.Status;
                AppState.coasters[index].Rating = formData.Rating;
                AppState.coasters[index].Ranking = formData.Ranking;
                AppState.coasters[index]['Last Ride'] = formData['Last Ride'];
                AppState.coasters[index].Type = formData.Type;
                AppState.coasters[index]['Opening Year'] = formData['Opening Year'];
                AppState.coasters[index].Comments = formData.Comments;
                syncRideToYearData(AppState.coasters[index]);
            }
        } else {
            if (formData.Ranking) {
                this.adjustRankings(formData.Ranking);
            }
            AppState.coasters.push(formData);
            registerUserRide(formData);
        }
        syncAllToYearData();
        
        AppState.editing = null;
        
        Modals.closeAddCoaster();
        Filters.apply();
        Stats.updateCreditCount();
        Stats.updateAverageRating();
        Render.spreadsheet();
        YearData.refreshDropdowns();
        Chart.update();
        if (OverTimeChart.instance) OverTimeChart.update();
        
        if (YearData.currentYear === '2026') {
            Persistence.save();
            Persistence.applyToCoasterBase();
            YearData.recalculateWeightedRankings();
        }
    },

    adjustRankings(newRanking) {
        if (!newRanking) return;
        const newRank = parseInt(newRanking);
        
        AppState.coasters.forEach(coaster => {
            const currentRank = coaster.Ranking ? parseInt(coaster.Ranking) : null;
            if (currentRank && currentRank >= newRank) {
                coaster.Ranking = (currentRank + 1).toString();
            }
        });
    },

    adjustRankingsOnEdit(oldRanking, newRanking, editedCoaster) {
        const oldRank = oldRanking ? parseInt(oldRanking) : null;
        const newRank = newRanking ? parseInt(newRanking) : null;

        if (oldRank && !newRank) {
            AppState.coasters.forEach(c => {
                if (c === editedCoaster) return;
                const r = c.Ranking ? parseInt(c.Ranking) : null;
                if (r && r > oldRank) {
                    c.Ranking = (r - 1).toString();
                }
            });
            return;
        }

        if (!oldRank && newRank) {
            AppState.coasters.forEach(c => {
                if (c === editedCoaster) return;
                const r = c.Ranking ? parseInt(c.Ranking) : null;
                if (r && r >= newRank) {
                    c.Ranking = (r + 1).toString();
                }
            });
            return;
        }

        if (!oldRank || !newRank || oldRank === newRank) return;

        if (newRank > oldRank) {
            AppState.coasters.forEach(c => {
                if (c === editedCoaster) return;
                const r = c.Ranking ? parseInt(c.Ranking) : null;
                if (r && r > oldRank && r <= newRank) {
                    c.Ranking = (r - 1).toString();
                }
            });
            return;
        }

        if (newRank < oldRank) {
            AppState.coasters.forEach(c => {
                if (c === editedCoaster) return;
                const r = c.Ranking ? parseInt(c.Ranking) : null;
                if (r && r >= newRank && r < oldRank) {
                    c.Ranking = (r + 1).toString();
                }
            });
        }
    },

    updateCharCount() {
        const comments = Utils.getElement('comments');
        Utils.getElement('charCount').textContent = `${comments.value.length} / 350`;
    }
};

const Persistence = {
    KEY: 'coasterCredits2026',
    OVERRIDES_KEY: 'coasterOverrides2026',
    EDITABLE_FIELDS: ['Rating', 'Ranking', 'Comments'],
    _originalBase: {},

    snapshotBase() {
        this._originalBase = {};
        yearData2026.forEach(e => {
            const base = coasterBase[e.m];
            if (base) {
                this._originalBase[e.m] = {
                    Status: base.Status,
                    'Last Ride': base['Last Ride'],
                    Type: base.Type,
                    'Opening Year': base['Opening Year']
                };
            }
        });
    },

    save() {
        const userAdded = AppState.coasters.filter(c => !_originalBaseNames.has(c.Ride + '|||' + c.Park));
        try {
            localStorage.setItem(this.KEY, JSON.stringify(userAdded));
        } catch (e) { /* ignore quota errors */ }

        const overrides = {};
        yearData2026.forEach(e => {
            const base = coasterBase[e.m];
            const ride = base.Ride;
            const park = base.Park;
            const current = AppState.coasters.find(c => c.Ride === ride && c.Park === park);
            if (!current) return;
            const changed = {};
            this.EDITABLE_FIELDS.forEach(field => {
                if (current[field] !== e[field]) {
                    changed[field] = current[field];
                }
            });
            if (current.Status !== (this._originalBase[e.m] || {}).Status) {
                changed.Status = current.Status;
            }
            if (current['Last Ride'] !== (this._originalBase[e.m] || {})['Last Ride']) {
                changed['Last Ride'] = current['Last Ride'];
            }
            if (current.Type !== (this._originalBase[e.m] || {}).Type) {
                changed.Type = current.Type;
            }
            if (current['Opening Year'] !== (this._originalBase[e.m] || {})['Opening Year']) {
                changed['Opening Year'] = current['Opening Year'];
            }
            if (Object.keys(changed).length) {
                overrides[e.m] = changed;
            }
        });
        try {
            localStorage.setItem(this.OVERRIDES_KEY, JSON.stringify(overrides));
        } catch (e) { /* ignore */ }
    },

    load() {
        try {
            const raw = localStorage.getItem(this.KEY);
            return raw ? JSON.parse(raw) : [];
        } catch (e) {
            return [];
        }
    },

    applyOverrides() {
        try {
            const legacyRaw = localStorage.getItem('coasterRankings2026');
            if (legacyRaw && !localStorage.getItem(this.OVERRIDES_KEY)) {
                const legacyRankings = JSON.parse(legacyRaw);
                const migrated = {};
                Object.keys(legacyRankings).forEach(ride => {
                    const entry = yearData2026.find(e => coasterBase[e.m].Ride === ride);
                    if (entry) migrated[entry.m] = { Ranking: legacyRankings[ride] };
                });
                localStorage.setItem(this.OVERRIDES_KEY, JSON.stringify(migrated));
                localStorage.removeItem('coasterRankings2026');
            }

            const raw = localStorage.getItem(this.OVERRIDES_KEY);
            if (!raw) return;
            const overrides = JSON.parse(raw);
            const yearFields = new Set(['Rating', 'Ranking', 'Comments']);
            Object.keys(overrides).forEach(mStr => {
                const m = parseInt(mStr);
                const base = coasterBase[m];
                if (!base) return;
                const coaster = AppState.coasters.find(
                    c => c.Ride === base.Ride && c.Park === base.Park
                );
                if (!coaster) return;
                const fields = overrides[mStr];
                const yearEntry = yearData2026.find(e => e.m === m);
                Object.keys(fields).forEach(field => {
                    coaster[field] = fields[field];
                    if (yearEntry && yearFields.has(field)) {
                        yearEntry[field] = fields[field];
                    }
                });
            });
        } catch (e) { /* ignore */ }
    },

    applyToCoasterBase() {
        try {
            const raw = localStorage.getItem(this.OVERRIDES_KEY);
            if (!raw) return;
            const overrides = JSON.parse(raw);
            const baseFields = ['Status', 'Last Ride', 'Type', 'Opening Year'];
            Object.keys(overrides).forEach(mStr => {
                const m = parseInt(mStr);
                if (!coasterBase[m]) return;
                const fields = overrides[mStr];
                baseFields.forEach(f => {
                    if (f in fields) coasterBase[m][f] = fields[f];
                });
            });
        } catch (e) { /* ignore */ }
    },

    clear() {
        try { localStorage.removeItem(this.KEY); } catch (e) { /* ignore */ }
        try { localStorage.removeItem(this.OVERRIDES_KEY); } catch (e) { /* ignore */ }
        try { localStorage.removeItem('coasterRankings2026'); } catch (e) { /* ignore */ }
        try { localStorage.removeItem(this.DELETED_KEY); } catch (e) { /* ignore */ }
    },

    DELETED_KEY: 'coasterDeleted2026',

    saveDeleted(rideName) {
        const deleted = this.loadDeleted();
        deleted.add(rideName);
        try {
            localStorage.setItem(this.DELETED_KEY, JSON.stringify([...deleted]));
        } catch (e) { /* ignore */ }
    },

    loadDeleted() {
        try {
            const raw = localStorage.getItem(this.DELETED_KEY);
            return raw ? new Set(JSON.parse(raw)) : new Set();
        } catch (e) {
            return new Set();
        }
    },

    filterDeleted() {
        const deleted = this.loadDeleted();
        if (deleted.size === 0) return;
        AppState.coasters = AppState.coasters.filter(c => !deleted.has(c.Ride));
    },

    exportData() {
        const payload = {
            _version: 1,
            _exported: new Date().toISOString(),
            userAdded: this.load(),
            overrides: (() => { try { const r = localStorage.getItem(this.OVERRIDES_KEY); return r ? JSON.parse(r) : {}; } catch(e) { return {}; } })(),
            deleted: [...this.loadDeleted()]
        };
        const blob = new Blob([JSON.stringify(payload, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'coaster-tracker-data_' + new Date().toISOString().slice(0, 10) + '.json';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    },

    importData(file) {
        const reader = new FileReader();
        reader.onload = (e) => {
            try {
                const payload = JSON.parse(e.target.result);
                if (!payload._version) { alert('Invalid file: not a Coaster Tracker export.'); return; }

                const addedCount = (payload.userAdded || []).length;
                const overrideCount = Object.keys(payload.overrides || {}).length;
                const deletedCount = (payload.deleted || []).length;
                const summary = `Import will apply:\n‚Ä¢ ${addedCount} user-added ride${addedCount !== 1 ? 's' : ''}\n‚Ä¢ ${overrideCount} edited ride${overrideCount !== 1 ? 's' : ''}\n‚Ä¢ ${deletedCount} deleted ride${deletedCount !== 1 ? 's' : ''}\n\nThis will overwrite your current local changes. Continue?`;
                if (!confirm(summary)) return;

                if (payload.userAdded) {
                    localStorage.setItem(this.KEY, JSON.stringify(payload.userAdded));
                }
                if (payload.overrides) {
                    localStorage.setItem(this.OVERRIDES_KEY, JSON.stringify(payload.overrides));
                }
                if (payload.deleted && payload.deleted.length) {
                    localStorage.setItem(this.DELETED_KEY, JSON.stringify(payload.deleted));
                } else {
                    localStorage.removeItem(this.DELETED_KEY);
                }

                location.reload();
            } catch (err) {
                alert('Failed to import: ' + err.message);
            }
        };
        reader.readAsText(file);
    }
};

const Stats = {
    updateCreditCount() {
        const count = AppState.coasters.length;
        Utils.getElement('creditCount').textContent = `${count} Credit${count !== 1 ? 's' : ''}`;
        this.autoFitStatBoxes();
    },

    updateAverageRating() {
        const ratedCoasters = AppState.coasters.filter(c => c.Rating && Utils.parseRating(c.Rating) > 0);
        
        if (ratedCoasters.length === 0) {
            Utils.getElement('averageRating').textContent = 'Avg: ‚Äî';
            this.autoFitStatBoxes();
            return;
        }
        
        const sum = ratedCoasters.reduce((acc, c) => acc + Utils.parseRating(c.Rating), 0);
        const average = sum / ratedCoasters.length;
        
        Utils.getElement('averageRating').textContent = `Avg: ${average.toFixed(2)}`;
        this.autoFitStatBoxes();
    },

    autoFitStatBoxes() {
        const boxes = [Utils.getElement('creditCount'), Utils.getElement('averageRating')];
        const isMobileStats = window.innerWidth <= 768;
        const maxFontSize = isMobileStats ? 16 : 20;
        const minFontSize = 10;
        const sizes = boxes.map(box => {
            box.style.fontSize = maxFontSize + 'px';
            let fontSize = maxFontSize;
            while (fontSize > minFontSize && box.scrollWidth > box.clientWidth) {
                fontSize -= 0.5;
                box.style.fontSize = fontSize + 'px';
            }
            return fontSize;
        });
        const syncedSize = Math.min(...sizes);
        boxes.forEach(box => box.style.fontSize = syncedSize + 'px');
    }
};

function cleanCoasterLabel(value, field) {
    if (field !== 'Category' && field !== 'Type') return value;
    
    let cleaned = value;
    
    if (cleaned.endsWith(' Coaster')) {
        cleaned = cleaned.slice(0, -8); // Remove last 8 characters (" Coaster")
    }
    
    if (cleaned === 'Hypercoaster') {
        cleaned = 'Hyper';
    }
    
    return cleaned;
}

async function downloadChart(chartInstance, isOverTime = false) {
    if (!chartInstance) return;
    
    const chartTitle = chartInstance.options.plugins.title.text || 'chart';
    const filename = chartTitle
        .toLowerCase()
        .replace(/\s+/g, '-')
        .replace(/[^a-z0-9-]/g, '')
        + (isOverTime ? '-over-time' : '')
        + '.png';
    
    const isMobile = window.innerWidth <= 768;
    const originalAspectRatio = chartInstance.options.aspectRatio;
    
    if (isOverTime) {
        try {
            const legend = document.getElementById('otLegend');
            const chartCanvas = chartInstance.canvas;
            const chartContainer = chartCanvas.parentElement;
            
            const originalContainerWidth = chartContainer.style.width;
            const originalContainerMaxWidth = chartContainer.style.maxWidth;
            
            const originalColors = {
                titleColor: chartInstance.options.plugins.title.color,
                yTitleColor: chartInstance.options.scales.y.title.color,
                yTicksColor: chartInstance.options.scales.y.ticks.color,
                yGridColor: chartInstance.options.scales.y.grid.color,
                xTicksColor: chartInstance.options.scales.x.ticks.color,
                xGridColor: chartInstance.options.scales.x.grid.color,
                xTitleColor: chartInstance.options.scales.x.title?.color,
                legendColor: chartInstance.options.plugins.legend.labels.color
            };
            
            const originalFontSizes = {
                titleSize: chartInstance.options.plugins.title.font.size,
                yTitleSize: chartInstance.options.scales.y.title.font.size,
                yTicksSize: chartInstance.options.scales.y.ticks.font.size,
                xTicksSize: chartInstance.options.scales.x.ticks.font.size
            };
            
            const desktopFontSizes = {
                title: 20,
                yTitle: 16,
                yTicks: 14,
                xTicks: 13
            };
            
            chartInstance.options.plugins.title.color = '#000000';
            chartInstance.options.scales.y.title.color = '#000000';
            chartInstance.options.scales.y.ticks.color = '#000000';
            chartInstance.options.scales.y.grid.color = '#808080';
            chartInstance.options.scales.x.ticks.color = '#000000';
            chartInstance.options.scales.x.grid.color = '#808080';
            if (chartInstance.options.scales.x.title) {
                chartInstance.options.scales.x.title.color = '#000000';
            }
            chartInstance.options.plugins.legend.labels.color = '#000000';
            
            const originalPixelRatio = chartInstance.options.devicePixelRatio;
            chartInstance.options.devicePixelRatio = 4;
            chartInstance.options.aspectRatio = 16 / 9;
            
            if (isMobile) {
                chartContainer.style.width = '1600px';
                chartContainer.style.maxWidth = '1600px';
            }
            
            chartInstance.options.plugins.title.font.size = desktopFontSizes.title * 2;
            chartInstance.options.scales.y.title.font.size = desktopFontSizes.yTitle * 2;
            chartInstance.options.scales.y.ticks.font.size = desktopFontSizes.yTicks * 2;
            chartInstance.options.scales.x.ticks.font.size = desktopFontSizes.xTicks * 2;
            
            chartInstance.resize();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            let legendCanvas = null;
            let legendScale = 4; // Match devicePixelRatio for consistency
            
            if (legend && legend.children.length > 0) {
                const originalLegendWidth = legend.style.width;
                const originalLegendMaxWidth = legend.style.maxWidth;
                
                if (isMobile) {
                    legend.style.width = '1600px';
                    legend.style.maxWidth = '1600px';
                }
                
                const originalLegendStyle = {
                    background: legend.style.background,
                    border: legend.style.border,
                    boxShadow: legend.style.boxShadow,
                    justifyContent: legend.style.justifyContent,
                    padding: legend.style.padding,
                    display: legend.style.display,
                    flexWrap: legend.style.flexWrap,
                    gap: legend.style.gap
                };
                
                legend.style.background = 'transparent';
                legend.style.border = 'none';
                legend.style.boxShadow = 'none';
                legend.style.padding = '12px 0';
                
                const legendItems = Array.from(legend.querySelectorAll('.ot-legend-item'));
                const originalItemStyles = [];
                const originalLabelStyles = [];
                
                legendItems.forEach((item, i) => {
                    originalItemStyles[i] = {
                        color: item.style.color,
                        flexBasis: item.style.flexBasis,
                        maxWidth: item.style.maxWidth
                    };
                    item.style.color = '#000000';
                    item.style.flexBasis = 'auto';
                    item.style.maxWidth = 'none';
                });
                
                const legendLabels = legend.querySelectorAll('.ot-legend-label');
                legendLabels.forEach((label, i) => {
                    originalLabelStyles[i] = {
                        color: label.style.color,
                        fontSize: label.style.fontSize
                    };
                    label.style.color = '#000000';
                    label.style.fontSize = '34px';
                });
                
                const legendSwatches = legend.querySelectorAll('.ot-legend-swatch');
                const originalSwatchStyles = [];
                legendSwatches.forEach((swatch, i) => {
                    originalSwatchStyles[i] = {
                        width: swatch.style.width,
                        height: swatch.style.height
                    };
                    swatch.style.width = '24px';
                    swatch.style.height = '24px';
                });
                
                legend.style.display = 'flex';
                legend.style.flexWrap = 'wrap';
                legend.style.justifyContent = 'center';
                legend.style.gap = '10px 50px';
                
                legendCanvas = await html2canvas(legend, {
                    backgroundColor: null,
                    scale: legendScale
                });
                
                if (legendCanvas.width > chartCanvas.width) {
                    legendScale = (chartCanvas.width / legend.offsetWidth) * 0.95;
                    legendCanvas = await html2canvas(legend, {
                        backgroundColor: null,
                        scale: legendScale
                    });
                }
                
                legend.style.background = originalLegendStyle.background;
                legend.style.border = originalLegendStyle.border;
                legend.style.boxShadow = originalLegendStyle.boxShadow;
                legend.style.justifyContent = originalLegendStyle.justifyContent;
                legend.style.padding = originalLegendStyle.padding;
                legend.style.display = originalLegendStyle.display;
                legend.style.flexWrap = originalLegendStyle.flexWrap;
                legend.style.gap = originalLegendStyle.gap;
                
                if (isMobile) {
                    legend.style.width = originalLegendWidth;
                    legend.style.maxWidth = originalLegendMaxWidth;
                }
                
                legendItems.forEach((item, i) => {
                    item.style.color = originalItemStyles[i].color;
                    item.style.flexBasis = originalItemStyles[i].flexBasis;
                    item.style.maxWidth = originalItemStyles[i].maxWidth;
                });
                
                legendLabels.forEach((label, i) => {
                    label.style.color = originalLabelStyles[i].color;
                    label.style.fontSize = originalLabelStyles[i].fontSize;
                });
                
                legendSwatches.forEach((swatch, i) => {
                    swatch.style.width = originalSwatchStyles[i].width;
                    swatch.style.height = originalSwatchStyles[i].height;
                });
            }
            
            const exportCanvas = document.createElement('canvas');
            const padding = 80; // 20px padding * 4 for scale
            const legendHeight = legendCanvas ? legendCanvas.height + 60 : 0;
            
            exportCanvas.width = chartCanvas.width + (padding * 2);
            exportCanvas.height = chartCanvas.height + (padding * 2) + legendHeight;
            
            const ctx = exportCanvas.getContext('2d');
            
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, exportCanvas.width, exportCanvas.height);
            
            ctx.drawImage(chartCanvas, padding, padding);
            
            if (legendCanvas) {
                const legendX = (exportCanvas.width - legendCanvas.width) / 2;
                ctx.drawImage(legendCanvas, legendX, chartCanvas.height + padding + 60);
            }
            
            const link = document.createElement('a');
            link.download = filename;
            link.href = exportCanvas.toDataURL('image/png');
            link.click();
            
            chartInstance.options.devicePixelRatio = originalPixelRatio;
            chartInstance.options.plugins.title.color = originalColors.titleColor;
            chartInstance.options.scales.y.title.color = originalColors.yTitleColor;
            chartInstance.options.scales.y.ticks.color = originalColors.yTicksColor;
            chartInstance.options.scales.y.grid.color = originalColors.yGridColor;
            chartInstance.options.scales.x.ticks.color = originalColors.xTicksColor;
            chartInstance.options.scales.x.grid.color = originalColors.xGridColor;
            if (chartInstance.options.scales.x.title) {
                chartInstance.options.scales.x.title.color = originalColors.xTitleColor;
            }
            chartInstance.options.plugins.legend.labels.color = originalColors.legendColor;
            
            chartInstance.options.plugins.title.font.size = originalFontSizes.titleSize;
            chartInstance.options.scales.y.title.font.size = originalFontSizes.yTitleSize;
            chartInstance.options.scales.y.ticks.font.size = originalFontSizes.yTicksSize;
            chartInstance.options.scales.x.ticks.font.size = originalFontSizes.xTicksSize;
            
            if (isMobile) {
                chartInstance.options.aspectRatio = originalAspectRatio;
                chartContainer.style.width = originalContainerWidth;
                chartContainer.style.maxWidth = originalContainerMaxWidth;
            }
            
            chartInstance.resize();
        } catch (error) {
            console.error('Error downloading chart with legend:', error);
            simpleDownload(chartInstance, filename, isMobile, originalAspectRatio);
        }
    } else {
        simpleDownload(chartInstance, filename, isMobile, originalAspectRatio);
    }
}

function simpleDownload(chartInstance, filename, isMobile, originalAspectRatio) {
    const originalPixelRatio = chartInstance.options.devicePixelRatio;
    const chartContainer = chartInstance.canvas.parentElement;
    
    const originalContainerWidth = chartContainer.style.width;
    const originalContainerMaxWidth = chartContainer.style.maxWidth;
    
    const originalColors = {
        titleColor: chartInstance.options.plugins.title.color,
        yTitleColor: chartInstance.options.scales.y.title.color,
        yTicksColor: chartInstance.options.scales.y.ticks.color,
        yGridColor: chartInstance.options.scales.y.grid.color,
        xTicksColor: chartInstance.options.scales.x.ticks.color,
        xGridColor: chartInstance.options.scales.x.grid.color,
        xTitleColor: chartInstance.options.scales.x.title?.color,
        legendColor: chartInstance.options.plugins.legend.labels.color
    };
    
    const originalFontSizes = {
        titleSize: chartInstance.options.plugins.title.font.size,
        yTitleSize: chartInstance.options.scales.y.title.font.size,
        yTicksSize: chartInstance.options.scales.y.ticks.font.size,
        xTicksSize: chartInstance.options.scales.x.ticks.font.size
    };
    
    const desktopFontSizes = {
        title: 20,
        yTitle: 16,
        yTicks: 14,
        xTicks: 13
    };
    
    chartInstance.options.plugins.title.color = '#000000';
    chartInstance.options.scales.y.title.color = '#000000';
    chartInstance.options.scales.y.ticks.color = '#000000';
    chartInstance.options.scales.y.grid.color = '#808080';
    chartInstance.options.scales.x.ticks.color = '#000000';
    chartInstance.options.scales.x.grid.color = '#808080';
    if (chartInstance.options.scales.x.title) {
        chartInstance.options.scales.x.title.color = '#000000';
    }
    chartInstance.options.plugins.legend.labels.color = '#000000';
    
    chartInstance.options.plugins.title.font.size = desktopFontSizes.title * 2;
    chartInstance.options.scales.y.title.font.size = desktopFontSizes.yTitle * 2;
    chartInstance.options.scales.y.ticks.font.size = desktopFontSizes.yTicks * 2;
    chartInstance.options.scales.x.ticks.font.size = desktopFontSizes.xTicks * 2;
    
    chartInstance.options.devicePixelRatio = 4;
    chartInstance.options.aspectRatio = 16 / 9;
    
    if (isMobile) {
        chartContainer.style.width = '1600px';
        chartContainer.style.maxWidth = '1600px';
    }
    
    chartInstance.resize();
    
    setTimeout(() => {
        const originalCanvas = chartInstance.canvas;
        
        const exportCanvas = document.createElement('canvas');
        exportCanvas.width = originalCanvas.width;
        exportCanvas.height = originalCanvas.height;
        const ctx = exportCanvas.getContext('2d');
        
        ctx.fillStyle = '#ffffff';
        ctx.fillRect(0, 0, exportCanvas.width, exportCanvas.height);
        
        ctx.drawImage(originalCanvas, 0, 0);
        
        const link = document.createElement('a');
        link.download = filename;
        link.href = exportCanvas.toDataURL('image/png');
        link.click();
        
        chartInstance.options.devicePixelRatio = originalPixelRatio;
        chartInstance.options.plugins.title.color = originalColors.titleColor;
        chartInstance.options.scales.y.title.color = originalColors.yTitleColor;
        chartInstance.options.scales.y.ticks.color = originalColors.yTicksColor;
        chartInstance.options.scales.y.grid.color = originalColors.yGridColor;
        chartInstance.options.scales.x.ticks.color = originalColors.xTicksColor;
        chartInstance.options.scales.x.grid.color = originalColors.xGridColor;
        if (chartInstance.options.scales.x.title) {
            chartInstance.options.scales.x.title.color = originalColors.xTitleColor;
        }
        chartInstance.options.plugins.legend.labels.color = originalColors.legendColor;
        
        chartInstance.options.plugins.title.font.size = originalFontSizes.titleSize;
        chartInstance.options.scales.y.title.font.size = originalFontSizes.yTitleSize;
        chartInstance.options.scales.y.ticks.font.size = originalFontSizes.yTicksSize;
        chartInstance.options.scales.x.ticks.font.size = originalFontSizes.xTicksSize;
        
        if (isMobile) {
            chartInstance.options.aspectRatio = originalAspectRatio;
            chartContainer.style.width = originalContainerWidth;
            chartContainer.style.maxWidth = originalContainerMaxWidth;
        }
        
        chartInstance.resize();
    }, 500);
}

function updateCascadingFilters(parkId, mfrId, catId, typeId, statusId) {
    const park = Utils.getElement(parkId).value;
    const mfr = Utils.getElement(mfrId).value;
    const cat = Utils.getElement(catId).value;
    const type = Utils.getElement(typeId).value;
    
    const repopulate = (selectId, field, placeholder, currentValue, filterFn) => {
        const select = Utils.getElement(selectId);
        if (!select) return;
        
        const subset = filterFn(AppState.coasters).filter(c => c.Rating && Utils.parseRating(c.Rating) > 0);
        
        const frequency = {};
        subset.forEach(coaster => {
            const value = coaster[field];
            if (value) frequency[value] = (frequency[value] || 0) + 1;
        });
        
        const sorted = Object.keys(frequency).sort((a, b) => frequency[b] - frequency[a]);
        select.innerHTML = `<option value="">${placeholder}</option>`;
        sorted.forEach(opt => {
            const option = document.createElement('option');
            option.value = opt;
            const displayLabel = cleanCoasterLabel(opt, field);
            option.textContent = `${displayLabel} (${frequency[opt]})`;
            select.appendChild(option);
        });
        
        if (currentValue && sorted.includes(currentValue)) {
            select.value = currentValue;
        }
    };
    
    repopulate(
        mfrId,
        'Manufacturer',
        'All Manufacturers',
        mfr,
        (coasters) => park ? coasters.filter(c => c.Park === park) : coasters
    );
    
    repopulate(
        catId, 
        'Category', 
        'All Categories', 
        cat,
        (coasters) => {
            let filtered = coasters;
            if (park) filtered = filtered.filter(c => c.Park === park);
            if (mfr) filtered = filtered.filter(c => c.Manufacturer === mfr);
            return filtered;
        }
    );
    
    repopulate(
        typeId,
        'Type',
        'All Types',
        type,
        (coasters) => {
            let filtered = coasters;
            if (park) filtered = filtered.filter(c => c.Park === park);
            if (mfr) filtered = filtered.filter(c => c.Manufacturer === mfr);
            if (cat) filtered = filtered.filter(c => c.Category === cat);
            return filtered;
        }
    );
    
    const statusSelect = Utils.getElement(statusId);
    if (statusSelect) {
        let filtered = AppState.coasters.filter(c => c.Rating && Utils.parseRating(c.Rating) > 0);
        if (park) filtered = filtered.filter(c => c.Park === park);
        if (mfr) filtered = filtered.filter(c => c.Manufacturer === mfr);
        if (cat) filtered = filtered.filter(c => c.Category === cat);
        if (type) filtered = filtered.filter(c => c.Type === type);
        
        const statusValues = [...new Set(filtered.map(c => c.Status).filter(Boolean))];
        const currentStatus = statusSelect.value;
        statusSelect.innerHTML = '<option value="">All Statuses</option>';
        ['Operating', 'SBNO', 'Defunct'].forEach(status => {
            if (statusValues.includes(status)) {
                const count = filtered.filter(c => c.Status === status).length;
                const option = document.createElement('option');
                option.value = status;
                option.textContent = `${status} (${count})`;
                statusSelect.appendChild(option);
            }
        });
        if (currentStatus && statusValues.includes(currentStatus)) {
            statusSelect.value = currentStatus;
        }
    }
}

function setupEventListeners() {
    Utils.getElement('exportDataBtn').addEventListener('click', () => Persistence.exportData());
    Utils.getElement('importDataBtn').addEventListener('click', () => Utils.getElement('importDataFile').click());
    Utils.getElement('importDataFile').addEventListener('change', (e) => {
        if (e.target.files.length) Persistence.importData(e.target.files[0]);
        e.target.value = '';
    });

    Utils.getElements('.tab-btn').forEach(btn => {
        btn.addEventListener('click', () => Tabs.switch(btn.dataset.tab));
    });
    
    Utils.getElements('.chart-limit-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            AppState.chartLimit = parseInt(btn.dataset.limit);
            Utils.getElements('.chart-limit-btn').forEach(b => {
                b.classList.remove('btn-primary', 'active');
                b.classList.add('btn-secondary');
            });
            btn.classList.remove('btn-secondary');
            btn.classList.add('btn-primary', 'active');
            Chart.update();
        });
    });
    
    Utils.getElements('[data-chart-type]').forEach(btn => {
        btn.addEventListener('click', () => {
            Utils.getElements('[data-chart-type]').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            const type = btn.dataset.chartType;
            Utils.getElement('comparisonView').style.display = (type === 'comparison') ? 'block' : 'none';
            Utils.getElement('overTimeView').style.display   = (type === 'overTime')    ? 'block' : 'none';

            if (type === 'overTime' && !OverTimeChart.instance) {
                OverTimeChart.initialize();
                window._syncChartAspect();
            }
        });
    });

    Utils.getElements('[data-ot-mode]').forEach(btn => {
        btn.addEventListener('click', () => {
            Utils.getElements('[data-ot-mode]').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            OverTimeChart.setMode(btn.dataset.otMode);
        });
    });

    Utils.getElement('otWeightedCheck').addEventListener('change', function() {
        OverTimeChart.useWeightedRanking = this.checked;
        OverTimeChart.update();
    });

    Utils.getElements('[data-stats-mode]').forEach(btn => {
        btn.addEventListener('click', () => {
            Utils.getElements('[data-stats-mode]').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            Chart.setMode(btn.dataset.statsMode);
        });
    });

    Utils.getElement('statsWeightedCheck').addEventListener('change', function() {
        Chart.useWeightedRanking = this.checked;
        Chart.update();
    });

    Utils.getElements('[data-ot-source]').forEach(btn => {
        btn.addEventListener('click', () => {
            Utils.getElements('[data-ot-source]').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            OverTimeChart.setSource(btn.dataset.otSource);
        });
    });

    (function initRideSearch() {
        const input    = Utils.getElement('otRideSearch');
        const dropdown = Utils.getElement('otRideDropdown');
        const clearBtn = Utils.getElement('otRideClear');

        function showMatches(query) {
            const q = query.trim().toLowerCase();
            if (!q) { dropdown.style.display = 'none'; return; }

            const hits = [];
            for (let i = 0; i < coasterBase.length; i++) {
                const ride = coasterBase[i];
                if (ride.Ride.toLowerCase().includes(q) || ride.Park.toLowerCase().includes(q)) {
                    hits.push({ ride, idx: i });
                    if (hits.length >= 14) break;   // cap visible results
                }
            }

            if (hits.length === 0) {
                dropdown.innerHTML = '<div class="ot-dropdown-none">No rides found</div>';
            } else {
                dropdown.innerHTML = hits.map(({ ride, idx }) =>
                    `<div class="ot-dropdown-item" data-idx="${idx}">${ride.Ride}<span class="ride-park">${ride.Park}</span></div>`
                ).join('');

                dropdown.querySelectorAll('.ot-dropdown-item').forEach(item => {
                    item.addEventListener('click', () => OverTimeChart.selectRide(parseInt(item.dataset.idx)));
                });
            }
            dropdown.style.display = 'block';
        }

        input.addEventListener('input', () => {
            if (OverTimeChart.selectedRideIndex !== null) {
                OverTimeChart.selectedRideIndex = null;
                clearBtn.style.display = 'none';
                OverTimeChart.update();
            }
            showMatches(input.value);
        });

        input.addEventListener('focus', () => {
            if (OverTimeChart.selectedRideIndex === null && input.value.trim()) {
                showMatches(input.value);
            }
        });

        clearBtn.addEventListener('click', () => OverTimeChart.clearRide());

        document.addEventListener('click', (e) => {
            if (!e.target.closest('.ot-ride-search')) {
                dropdown.style.display = 'none';
            }
        });

        input.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') dropdown.style.display = 'none';
        });
    })();

    Utils.getElements('[data-ot-source]').forEach(btn => {
        btn.addEventListener('click', () => {
            Utils.getElements('[data-ot-source]').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            OverTimeChart.setSource(btn.dataset.otSource);
        });
    });

    ['otPark', 'otManufacturer', 'otCategory', 'otType', 'otStatus'].forEach(id => {
        Utils.getElement(id)?.addEventListener('change', () => {
            updateCascadingFilters('otPark', 'otManufacturer', 'otCategory', 'otType', 'otStatus');
            if (OverTimeChart.sourceMode === 'filters') OverTimeChart.update();
        });
    });

    Utils.getElements('.ot-chart-limit-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            OverTimeChart.otLimit = parseInt(btn.dataset.limit);
            Utils.getElements('.ot-chart-limit-btn').forEach(b => {
                b.classList.remove('btn-primary', 'active');
                b.classList.add('btn-secondary');
            });
            btn.classList.remove('btn-secondary');
            btn.classList.add('btn-primary', 'active');
            if (OverTimeChart.sourceMode === 'filters') OverTimeChart.update();
        });
    });

    ['statsPark', 'statsManufacturer', 'statsCategory', 'statsType', 'statsStatus'].forEach(id => {
        Utils.getElement(id)?.addEventListener('change', () => {
            updateCascadingFilters('statsPark', 'statsManufacturer', 'statsCategory', 'statsType', 'statsStatus');
            Chart.update();
        });
    });
    
    Utils.getElement('downloadComparisonChart')?.addEventListener('click', () => {
        downloadChart(Chart.instance, false);
    });
    
    Utils.getElement('downloadOverTimeChart')?.addEventListener('click', () => {
        downloadChart(OverTimeChart.instance, true);
    });
    
    Utils.getElement('editCoasterBtn').addEventListener('click', () => Modals.editCoasterDetails());
    
    Utils.getElement('deleteCoasterBtn').addEventListener('click', () => {
        const coaster = AppState.editing;
        if (!coaster) return;
        
        if (!confirm(`Are you sure you want to delete "${coaster.Ride}"? This cannot be undone.`)) return;
        
        const isBase = _originalBaseNames.has(coaster.Ride + '|||' + coaster.Park);
        
        if (!isBase) {
            unregisterUserRide(coaster.Ride, coaster.Park);
        }
        
        AppState.coasters = AppState.coasters.filter(c => c !== coaster);
        
        // Shift rankings up for coasters ranked below the deleted one
        const deletedRank = coaster.Ranking ? parseInt(coaster.Ranking) : null;
        if (deletedRank) {
            AppState.coasters.forEach(c => {
                const r = c.Ranking ? parseInt(c.Ranking) : null;
                if (r && r > deletedRank) {
                    c.Ranking = (r - 1).toString();
                }
            });
            syncAllToYearData();
        }
        
        if (isBase) {
            Persistence.saveDeleted(coaster.Ride);
        }
        Persistence.save();
        YearData.recalculateWeightedRankings();
        
        Modals.closeDetail();
        DOM.populateSelectByFrequency('filterPark', 'Park', 'All Parks');
        DOM.populateSelectByFrequency('filterManufacturer', 'Manufacturer', 'All Manufacturers');
        DOM.populateSelectByFrequency('filterCategory', 'Category', 'All Categories');
        DOM.populateSelectByFrequency('filterType', 'Type', 'All Types');
        DOM.populateSelectByFrequency('statsPark', 'Park', 'All Parks');
        DOM.populateSelectByFrequency('statsManufacturer', 'Manufacturer', 'All Manufacturers');
        DOM.populateSelectByFrequency('statsCategory', 'Category', 'All Categories');
        DOM.populateSelectByFrequency('statsType', 'Type', 'All Types');
        DOM.populateSelectByFrequency('otPark', 'Park', 'All Parks');
        DOM.populateSelectByFrequency('otManufacturer', 'Manufacturer', 'All Manufacturers');
        DOM.populateSelectByFrequency('otCategory', 'Category', 'All Categories');
        DOM.populateSelectByFrequency('otType', 'Type', 'All Types');
        Filters.apply();
        Stats.updateCreditCount();
        Stats.updateAverageRating();
        Chart.update();
        if (OverTimeChart.instance) OverTimeChart.update();
    });
    
    Utils.getElement('searchInput').addEventListener('input', () => Filters.apply());
    
    Utils.getElement('filterToggle').addEventListener('click', () => Filters.togglePanel());
    
    ['filterPark', 'filterManufacturer', 'filterCategory', 'filterType', 'filterStatus', 'filterRating'].forEach(id => {
        Utils.getElement(id)?.addEventListener('change', () => Filters.apply());
    });
    
    Utils.getElement('addCoasterBtn').addEventListener('click', () => Modals.showAddCoaster());
    
    Utils.getElement('closeDetailModal').addEventListener('click', () => Modals.closeDetail());
    Utils.getElement('closeAddModal').addEventListener('click', () => Modals.closeAddCoaster());
    Utils.getElement('cancelAddBtn').addEventListener('click', () => Modals.closeAddCoaster());
    
    Utils.getElement('coasterForm').addEventListener('submit', (e) => Forms.handleSubmit(e));

    Utils.getElement('tableRefreshBtn').addEventListener('click', () => {
        AppState.sort = { column: null, direction: 'asc' };
        const defaults = {
            'Ride': true, 'Park': true, 'Manufacturer': true, 'Category': true,
            'Type': true, 'Opening Year': true, 'Last Ride': true, 'Status': true,
            'New Credit': true, 'Rating': true, 'Ranking': true,
            'Weighted Ranking': false, 'Comments': false
        };
        Object.keys(defaults).forEach(col => {
            AppState.columns[col] = defaults[col];
        });
        document.querySelectorAll('#columnToggles .column-toggle').forEach(btn => {
            const col = btn.dataset.column;
            if (col) btn.classList.toggle('inactive', !AppState.columns[col]);
        });
        Render.spreadsheet();
    });
    
    Utils.getElement('comments').addEventListener('input', () => Forms.updateCharCount());

    // Type autocomplete
    (() => {
        const input = Utils.getElement('type');
        const dropdown = Utils.getElement('typeDropdown');
        let activeIdx = -1;

        function showMatches() {
            const val = input.value.trim().toLowerCase();
            dropdown.innerHTML = '';
            activeIdx = -1;
            if (!val) { dropdown.classList.remove('visible'); return; }
            const allTypes = [...new Set([..._T, ...AppState.coasters.map(c => c.Type).filter(Boolean)])];
            const matches = allTypes.filter(t => t.toLowerCase().includes(val));
            if (!matches.length) { dropdown.classList.remove('visible'); return; }
            matches.forEach(t => {
                const div = document.createElement('div');
                div.className = 'type-autocomplete-item';
                div.textContent = t;
                div.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    input.value = t;
                    dropdown.classList.remove('visible');
                });
                dropdown.appendChild(div);
            });
            dropdown.classList.add('visible');
        }

        input.addEventListener('input', showMatches);
        input.addEventListener('focus', showMatches);
        input.addEventListener('blur', () => dropdown.classList.remove('visible'));
        input.addEventListener('keydown', (e) => {
            const items = dropdown.querySelectorAll('.type-autocomplete-item');
            if (!items.length) return;
            if (e.key === 'ArrowDown') {
                e.preventDefault();
                activeIdx = Math.min(activeIdx + 1, items.length - 1);
                items.forEach((it, i) => it.classList.toggle('active', i === activeIdx));
                items[activeIdx].scrollIntoView({ block: 'nearest' });
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                activeIdx = Math.max(activeIdx - 1, 0);
                items.forEach((it, i) => it.classList.toggle('active', i === activeIdx));
                items[activeIdx].scrollIntoView({ block: 'nearest' });
            } else if (e.key === 'Enter' && activeIdx >= 0) {
                e.preventDefault();
                input.value = items[activeIdx].textContent;
                dropdown.classList.remove('visible');
            }
        });
    })();

    // Park autocomplete
    (() => {
        const input = Utils.getElement('parkName');
        const dropdown = Utils.getElement('parkDropdown');
        let activeIdx = -1;

        function showMatches() {
            const val = input.value.trim().toLowerCase();
            dropdown.innerHTML = '';
            activeIdx = -1;
            if (!val) { dropdown.classList.remove('visible'); return; }
            const allParks = [...new Set([..._P, ...AppState.coasters.map(c => c.Park).filter(Boolean)])];
            const matches = allParks.filter(p => p.toLowerCase().includes(val));
            if (!matches.length) { dropdown.classList.remove('visible'); return; }
            matches.forEach(p => {
                const div = document.createElement('div');
                div.className = 'type-autocomplete-item';
                div.textContent = p;
                div.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    input.value = p;
                    dropdown.classList.remove('visible');
                });
                dropdown.appendChild(div);
            });
            dropdown.classList.add('visible');
        }

        input.addEventListener('input', showMatches);
        input.addEventListener('focus', showMatches);
        input.addEventListener('blur', () => dropdown.classList.remove('visible'));
        input.addEventListener('keydown', (e) => {
            const items = dropdown.querySelectorAll('.type-autocomplete-item');
            if (!items.length) return;
            if (e.key === 'ArrowDown') {
                e.preventDefault();
                activeIdx = Math.min(activeIdx + 1, items.length - 1);
                items.forEach((it, i) => it.classList.toggle('active', i === activeIdx));
                items[activeIdx].scrollIntoView({ block: 'nearest' });
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                activeIdx = Math.max(activeIdx - 1, 0);
                items.forEach((it, i) => it.classList.toggle('active', i === activeIdx));
                items[activeIdx].scrollIntoView({ block: 'nearest' });
            } else if (e.key === 'Enter' && activeIdx >= 0) {
                e.preventDefault();
                input.value = items[activeIdx].textContent;
                dropdown.classList.remove('visible');
            }
        });
    })();
    
    Utils.getElement('detailModal').addEventListener('click', (e) => {
        if (e.target.id === 'detailModal') Modals.closeDetail();
    });
    
    Utils.getElement('addCoasterModal').addEventListener('click', (e) => {
        if (e.target.id === 'addCoasterModal') Modals.closeAddCoaster();
    });
    
    Utils.getElement('closeCommentsModal').addEventListener('click', () => {
        Utils.getElement('commentsModal').classList.remove('active');
        Modals._unlockScroll();
    });
    Utils.getElement('commentsModal').addEventListener('click', (e) => {
        if (e.target.id === 'commentsModal') { Utils.getElement('commentsModal').classList.remove('active'); Modals._unlockScroll(); }
    });
    
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            Modals.closeDetail();
            Modals.closeAddCoaster();
            Utils.getElement('commentsModal').classList.remove('active');
            Modals._unlockScroll();
        }
    });
    
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
        Chart.update();
        OverTimeChart.update();
    });
}

const yearData2021=_eY([{"m":4,"rt":"10","rk":"1","c":"Hard to deny after riding it that this is the best roller coaster in the world. Incredibly long with absurdly strong airtime throughout, a great first drop, and those floaty zero-G rolls that RMC makes so well. Maybe better in the front? Lives up to the hype tho a bit uncomfortable at the end."},{"m":0,"nc":"Yes","rt":"9.5","rk":"2","c":"Most intense coaster in the world? Probably, and it's amazing. Obviously the positive Gs are crushing, but the whips are probably the best element; smooth and wild! There's even decent airtime! Only fault is the trim on that second airtime hill; a pretty big buzzkill."},{"m":21,"rt":"9.35","rk":"3","c":"They call it \"Millennium Forceless\" but a good night ride can change that tune pretty quick. I305 tries to kill you more but nothing nails the feeling of speed as well as Millie. Awesome drop, great positive Gs, and even great airtime in the front. Still amazing after all these years."},{"m":1,"nc":"Yes","rt":"9.35","rk":"4","c":"The most singular coaster experience on this list. Rough, short, and less forceful than I was expecting (how?) but sooo much fun. The backwards pre-drop, raven turns, and zero-G-spinny-roll thingy are highlights. Eejanaika is probably a ten if it really fixes X2's flaws."},{"m":5,"rt":"9.35","rk":"5","c":"The Thigh Crush memes are real but damn this ride is good. Great positive Gs + first drop, and the airtime is absurd through this nonstop blitz of a hyper. Just a little short and damnit Intamin, fix the restraints."},{"m":9,"nc":"Yes","rt":"9.35","rk":"6","ci":283},{"m":8,"rt":"9.25","rk":"7","c":"Back seat ride is orgasmic. Probably the best first drop in the industry. 4 moments of delicious ejector, esp the Rolling Thunder hill, though there are some more dead moments peppered around. Would be a 10 if it were a little more consistent."},{"m":2,"rt":"9.25","rk":"8","c":"Truly unique in the realm of hypers due to Arrow, with its jank leading to absurd airtime. The magic seat is real, and glorious. Third hill (best airtime hill ever?) and triangle hills offer nearly unmatched ejector, and the rest of the layout is solid, janky in a good way. Long may it live."},{"m":25,"nc":"Yes","rt":"9.25","rk":"9","c":"Another RMC banger. TT has more strong and consistent airtime but two rides for the price of one is a nice bonus. Too small to top El Toro, but great first drop(s!), ejector hills, stalls, and turns. I'd like it better if it actually dueled."},{"m":34,"nc":"Yes","rt":"9.25","rk":"10","c":"Good job Alan. Size and some stupid / painful trick track stop this from being a 10.  But it's brilliantly controlled chaos, from the zero-G drop through the airtime assault that is the rest of the ride. And the zero-G roll in the middle\u2026 Punches far above its weight."},{"m":10,"rt":"9","rk":"11","ci":162},{"m":36,"nc":"Yes","rt":"9","rk":"12","ci":3},{"m":38,"rt":"8.5","rk":"13","c":"I do really like Storm Runner. As with almost every launch coaster, it's too damn short. But it's very unique with weird elements and the launch is great. Nice to see an accelerator actually do something post-launch."},{"m":3,"nc":"Yes","rt":"8.35","rk":"14","c":"The last Mega Looper is a mega experience. Janky, but in a charming way (it's smooth-ish!), not painful if you brace for it. First drop is fierce, loops are absurdly forceful, and the bowtie is magic. Elite hangtime on the way in before you get absolutely DRAGGED down. Pure chaos."},{"m":49,"nc":"Yes","rt":"8.35","rk":"15","ci":1},{"m":45,"nc":"Yes","rt":"8.35","rk":"16","c":"Like a mini-El Toro, in a park that already has El Toro. Great airtime on the first drop, the stall is cool, but the intensity is really hit or miss (MUCH better at night, it's practically a 9 then). Restraints suck. Good but, it's an RMC! I expected more."},{"m":47,"rt":"8.25","rk":"17","ci":294},{"m":37,"nc":"Yes","rt":"8.25","rk":"18","c":"Unique, inimitable, and a blast. Blows Superman out of the water. Surprisingly comfortable, not too rough, the forces are amazing (loop) and the sheer whipping intensity throughout the layout is awesome. Old, and short but it shouldn't go, it's the best ride at SFA."},{"m":72,"rt":"8.25","rk":"19","c":"Better in the front! Great restraints, the helix has good laterals and feels FAST, the trims don't hit hard! First drop is wild, nice hang time in the front and 2 ejector pops in the back. Not as refined as a B&M (but comparable airtime) and feels like a kiddie ride next to Magnum; still great."},{"m":48,"rt":"8.25","rk":"20","c":"I do like this thing. (Only in the back rows though.) Airtime is on the weaker side but consistent, great first drop, bunny hops are a solid finale, and the helix is super forceful. Maybe it's just sentiment but Nitro is still my #1 B&M Hyper, tho my opinion of it has fallen."},{"m":111,"nc":"Yes","rt":"8.25","rk":"21","ci":275},{"m":68,"rt":"8.25","rk":"22","ci":98},{"m":85,"nc":"Yes","rt":"8","rk":"23","c":"SHOCKINGLY good. Blows Bizarro and Hydra out of the water. First drop has great whip, the positive Gs are wild (esp in the overbanked turns) and it's so much more intense / smooth than other B&M floorless coasters! Wish it were closer."},{"m":70,"nc":"Yes","rt":"8","rk":"24","ci":270},{"m":56,"rt":"8","rk":"25","ci":299},{"m":66,"nc":"Yes","rt":"8","rk":"26","ci":29},{"m":73,"nc":"Yes","rt":"8","rk":"27","ci":26},{"m":74,"rt":"8","rk":"28","ci":45},{"m":32,"nc":"Yes","rt":"8","rk":"29","c":"Good, but I'm not blown away. Very short for a hyper and a lot of speed is scrubbed off by HEAVY trims. Which suck. But first drop is great, as is first half airtime, and the helix, tho no Nitro, is solid. So much potential wasted in this layout tbh."},{"m":95,"rt":"8","rk":"30","ci":183},{"m":46,"rt":"7.75","rk":"31","c":"The first half is incredible, absolute madness, especially the cobra roll. The trims are BRUTAL and murder the second half though. First drop is also weaker than expected. I thought this was better but Alpy still rocks; a trimless ride could push this much higher."},{"m":98,"nc":"Yes","rt":"7.75","rk":"32","c":"A slightly bigger Batman the Ride, in a good way. Not as relentless but great positive Gs throughout, awesome first drop, STRONG helixes. Smaller but much more consistent than Alpengeist, which leads to them equaling out in my opinion."},{"m":84,"nc":"Yes","rt":"7.75","rk":"33","c":"It's a dive coaster, and I like dive coasters. That said, I enjoyed Griffon more. Maybe it was my seating but Valravn just felt more drawn out and less forceful. A great ride, but one that is overshadowed at a park like Cedar Point."},{"m":94,"rt":"7.5","rk":"34","c":"Kingda Ka. But slightly smoother and slightly less exciting (shame about that missing second hill). Future evaluation will see if this really is better than Ka like some claim. If that day ever comes."},{"m":99,"rt":"7.5","rk":"35","ci":290},{"m":93,"rt":"7.5","rk":"36","ci":93},{"m":42,"rt":"7.5","rk":"37","c":"A middle-of-the-road B&M invert. Forceful and snappy like all great OG B&Ms, but with plenty of meandering and dead spots. Still a lot of fun but could have used more elements / better pacing."},{"m":80,"nc":"Yes","rt":"7.5","rk":"38","c":"The weirdest, and the weakest, hyper. Helixes are pretty meh and the layout is utterly bizarre but there are great airtime moments and some tasty ejector around. Let's not forget the final break run, which throws you into the sucky restraints. What is this layout?"},{"m":105,"nc":"Yes","rt":"7.5","rk":"39","ci":5},{"m":168,"rt":"7.5","rk":"40","c":"My God these vest restraints are a game changer. So much more comfortable, it's fun now! Track is still a little rough and the forces can be dizzying. Still, I'm shocked how much this turned around, so forceful and enjoyable."},{"m":114,"nc":"Yes","rt":"7.5","rk":"41","ci":298},{"m":67,"rt":"7.25","rk":"42","c":"Classic and intense, if short and generic. The more inverts I ride, the more I realize how much B&M nailed the formula on the first try. I honestly prefer it to the Great Bear, and almost Alpengeist!"},{"m":43,"rt":"7.25","rk":"43","c":"It's too damn short! The Gs are great (especially, and shockingly, on that first helix), and no inversion is wasted. But with the layout there are some dead spots and filler track. There's more potential in this one, sadly."},{"m":100,"nc":"Yes","rt":"7.25","rk":"44","c":"Pleasant surprise! Maybe I would like Eurofighters actually. There are certain dead spots and it's very compact obviously but the first drop is a lot of ejector-y fun, there are great positives (the loop), and then the jojo roll at the end offers stellar hangtime. I dig it."},{"m":102,"rt":"7.25","rk":"45","ci":8},{"m":136,"nc":"Yes","rt":"7","rk":"46","ci":6},{"m":122,"rt":"7","rk":"47","ci":107},{"m":118,"rt":"7","rk":"48","c":"Here's my most controversial coaster opinion. Anaconda rocks! A back seat ride is totally wild, as you whip through the first half with great intensity. The hangtime on the corkscrews is awesome, though I understand why people think it has pacing issues. Guess I do like Arrow loopers."},{"m":115,"rt":"7","rk":"49","ci":40},{"m":113,"rt":"7","rk":"50","ci":276},{"m":147,"rt":"7","ci":287},{"m":135,"rt":"7","ci":86},{"m":63,"rt":"7","ci":301},{"m":142,"nc":"Yes","rt":"7","ci":180},{"m":116,"rt":"7","c":"A special place in my heart, and the launch and music are great. The layout post-the initial inversion is disappointingly bland and forceless, though the theming somewhat makes up for it. Smooth for a Vekoma. Just not intense enough for me anymore."},{"m":124,"rt":"6.75","ci":288},{"m":164,"nc":"Yes","rt":"6.75","c":"The jojo roll leaving the station is absolutely incredible. The rest of the ride though? Aight. There are good elements but it's too small and it could be more forceful. Has some bad B&M rattle. Still fun; nice and whippy at points, though too small scale to make more of an impression."},{"m":145,"nc":"Yes","rt":"6.75","c":"Nice job GCI! BGW's only woodie is a solid addition to the park. Glass smooth and great laterals / decent airtime. If this were twice the size it would be absolutely top tier, it's just too small / weak."},{"m":87,"nc":"Yes","rt":"6.75","c":"What a pleasant little surprise! A terrain coaster in the best way, except the long lift back to the station is a small buzzkill. Some dead spots and it's gotten pretty rough but there are some REAL forceful moments and I forgot how fun the swinging is! These need to stick around."},{"m":141,"rt":"6.75","c":"Taller and twistier than Possessed, but slightly worse. The straight vertical spike is definitely better than the twist, and the pullouts aren't as strong on Wicked Twister. Ah well, still a good time. Hope it lives a long life at a low-tier Cedar Fair park."},{"m":158,"nc":"Yes","rt":"6.5","ci":94},{"m":176,"rt":"6.5","ci":296},{"m":154,"rt":"6.5","ci":2},{"m":167,"rt":"6.5","ci":174},{"m":188,"rt":"6.5","c":"Not super intense but the racing does get me hyped every time. The layout is cool. Yes it's a bit forceless but it's always been smooth as butter. This ride is a great nostalgia trip."},{"m":172,"rt":"6.5","ci":96},{"m":173,"nc":"Yes","rt":"6.5","ci":293},{"m":163,"nc":"Yes","rt":"6.5","c":"For a standup conversion, Rougarou does well. The first 2/3 of the ride are pretty awesome, forceful (with no airtime ofc) but B&M rattle-y. And good whips? Absolutely dies at the midcourse. Somehow this is better than Bizarro lol."},{"m":139,"rt":"6.5","c":"What is there to add about Space Mountain? This incredibly slow coaster is made fun by patented Arrow jank leading to surprisingly forceful airtime, a solid layout, and the awesome indoor setting. It's dated but it's still the best coaster in Magic Kingdom... ugh."},{"m":179,"rt":"6.5","ci":134},{"m":199,"rt":"6","ci":166},{"m":202,"rt":"6","ci":35},{"m":119,"rt":"6","c":"The B&M rattle is getting really rough, and it's starting to feel pretty bland and somewhat forceless compared to newer rides. Solid but not mind blowing, and showing its age."},{"m":207,"rt":"6","ci":173},{"m":193,"rt":"6","ci":9},{"m":195,"nc":"Yes","rt":"6","ci":150},{"m":40,"rt":"6","c":"An old, janky homebuilt woodie. But a quite good one at that. It's very rough and there's a really painful jackhammer spot but the Grizzly is frenetic and fun. A retrack would be amazing."},{"m":204,"rt":"6","c":"Not that I remember this one very well, but I remember being satisfied, if not very impressed. Can\u2019t imagine it being worth the 2 hour waits it usually garners"},{"m":160,"rt":"6","c":"This one holds a lot of sentimental value for obvious reasons. The loops are great, though the middle of the ride is HORRIBLY paced and it's a bit forceless / 'bad' janky with stupid Arrow trims (2nd drop). A sentimental ride, if not the world's greatest (or close to Arrow's greatest) looper."},{"m":196,"rt":"6","ci":95},{"m":222,"rt":"5.5","ci":44},{"m":228,"rt":"5.5","ci":54},{"m":218,"rt":"5.5","ci":7},{"m":166,"rt":"5.5","c":"Super mild but the loop actually slaps, nice positive Gs at the bottom and good back-row hangtime at the top. The rest of the ride is\u2026 relaxing to say the least."},{"m":246,"rt":"5.5","c":"Of the Arrow mine trains I have ridden, this is one of the best. Not like it's a thrill machine though, but it's comfortable with nice helixes."},{"m":110,"rt":"5.5","c":"Bog-standard but fun wild mouse."},{"m":233,"rt":"5","c":"Slightly worse than the wild mouse at Hersheypark, which is odd because the layout says otherwise. As Steven Rouzer says, \"the world's most meh wild mouse.\""},{"m":238,"rt":"5","c":"This ancient Arrow certainly feels its age. The trains are uncomfortable, the transitions suck. But the airtime is comically strong and the loop is great. Corkscrews have good hangtime depending where you are. Not elite, barely good, but much better than what people claim."},{"m":225,"rt":"5","ci":163},{"m":157,"nc":"Yes","rt":"5","ci":159},{"m":237,"rt":"5","ci":153},{"m":203,"rt":"5","c":"Why is the airtime on the first drop so good? Besides that it's very\u2026 casual."},{"m":240,"rt":"5","ci":60},{"m":130,"nc":"Yes","rt":"5","c":"Ouch. One of the roughest coasters I've ever been on, BUT it is over 100 years old so it gets some slack. The layout is good, esp strong-ish airtime moments and the ending helix. But it's so painful that it seriously detracts from the experience. Ride in the front / off a wheel seat."},{"m":242,"nc":"Yes","rt":"5","ci":4},{"m":231,"nc":"Yes","rt":"4.75","ci":92},{"m":239,"rt":"4.5","ci":176},{"m":254,"nc":"Yes","rt":"4.5","c":"Meh, it wasn't as bad as Stephen claims but it's pretty forgettable, with a few Arrow-level transitions thrown in there. Pretty forceless but lacking the smoothness you'd expect from a B&M. I'd still ride it no regrets, but Dominator exists\u2026"},{"m":208,"nc":"Yes","rt":"4.5","c":"Hey it's better than Wildcat! Layout is better but there is no airtime. Rough on the level of Grizzly, so it's on the brink of ridebreaking. It would be a good RMC but a retrack / slightly faster trains would go a loooong way."},{"m":247,"rt":"4.5","ci":46},{"m":205,"rt":"4.5","c":"A pretty bland wild mouse. Theming is kinda cheap. Also wtf is that inconsistent and loud horn at the end? Wild mouse turns are always fun but it's a usual skip."},{"m":241,"rt":"4.25","ci":165},{"m":255,"rt":"4","c":"I gave it another shot, and it still sucks. It's tolerable off the great first drop and loop but even if you set yourself up right to save your nuts, standing up through these strong positive Gs isn't pleasant. As is standing on the brake run. Layout is good (see Rougarou) but it's still a skip."},{"m":236,"rt":"4","c":"A kiddie coaster."},{"m":250,"rt":"4","ci":238},{"m":201,"rt":"4","c":"Unfortunately I'm a little too old for this one. Man this has BRUTAL Arrow transitions, and it's extremely uncomfortable, especially in the second helix. But there are some okay moments with some funny airtime in the right spots, and the scenery is nice."},{"m":259,"rt":"3.5","c":"Every time I come to Hershey I think to myself, \"the Wildcat can't be as rough as I remember, right?\" And then it is. Not in a charming way either. Layout is pretty meh too, esp compared to contemporaries (Roar). Would make a great RMC hybrid."},{"m":260,"rt":"2","ci":104},{"m":150,"ci":0},{"m":262,"ci":0},{"m":267,"ci":0},{"m":264,"ci":0},{"m":263,"ci":0},{"m":265,"ci":0},{"m":268,"ci":0},{"m":266,"ci":0},{"m":261,"ci":0}]);
const yearData2022=_eY([{"m":4,"rt":"9.5","rk":"1","c":"Hard to deny after riding it that this is the best roller coaster in the world. Incredibly long with absurdly strong airtime throughout, a great first drop, and those floaty zero-G rolls that RMC makes so well. Lives up to the hype; tho uninspired and gratuitous at the end, the first two laps are perfect."},{"m":0,"rt":"9.5","rk":"2","ci":271},{"m":1,"rt":"9.35","rk":"3","c":"A singular experience. The horrendous raven turn transition and some \"dead ish\" spots hurt it but what a rush. First drop in the last row is a trip, the airtime pushing you into your seat as you stare at the ground. The flips are \"wrong\" in the best way, and you feel like you're flying at points."},{"m":7,"nc":"Yes","rt":"9.35","rk":"4","ci":15},{"m":5,"rt":"9.25","rk":"5","c":"Uneven but the highlights are so batshit insane that I can't not love this thing. First drop in the back gives strong ejector and you get an insane YANK halfway, into a strong pullout and amazing ejector hill. All the hills hit but some turnarounds are meh and the lateral whip is weaker than expected."},{"m":9,"rt":"9.25","rk":"6","ci":283},{"m":8,"rt":"9.25","rk":"7","c":"Back seat ride is orgasmic. Probably the best trad first drop in the industry. 4 moments of delicious ejector, esp the Rolling Thunder hill, though there are some more dead moments peppered around. Would be a 10 if it were a little more consistent, and it's getting rough. Stop breaking down!"},{"m":16,"nc":"Yes","rt":"9.25","rk":"8","ci":24},{"m":2,"rt":"9.25","rk":"9","c":"Truly unique in the realm of hypers due to its age and construction.The magic seat is real, and glorious, but the back is the place to be. First drop is still furious, third hill (best airtime hill ever?) and triangle hills offer unmatched ejector, and the rest of the layout is janky in a good way. Long may it live."},{"m":21,"rt":"9.15","rk":"10","ci":261},{"m":3,"rt":"9.15","rk":"11","c":"Just wow, you can't get a ride like this anymore. The relentless savagery of the forceful first half (esp in the front) is unmatched (ejector going into the midcourse?) and the godly hangtime in the second half for the back car is glorious. Even smoother than I remembered. I hope this never closes."},{"m":34,"rt":"9.15","rk":"12","ci":249},{"m":25,"rt":"9.15","rk":"13","c":"Another RMC banger. TT has stronger, more consistent airtime but two (short) rides for the price of one is a nice bonus. Great first drop(s!), ejector hills, stalls, and turns, though like most RMCs there are gratuitous painful hills. I'd like it better if it actually dueled; maybe then it would beat TT."},{"m":10,"rt":"9","rk":"14","ci":162},{"m":35,"nc":"Yes","rt":"8.9","rk":"15","ci":262},{"m":30,"nc":"Yes","rt":"8.75","rk":"16","ci":258},{"m":37,"rt":"8.5","rk":"17","c":"A ride on Tatsu makes Batwing look even better. The forces are on another level compared to B&M flyers; you feel like your eyes are getting ripped out of your skull. Rolls are v whippy, the helix in the back rips, and the loop combines pretzel-loop positives with whip and a pinch of hangtime."},{"m":32,"rt":"8.5","rk":"18","ci":263},{"m":36,"rt":"8.5","rk":"19","ci":3},{"m":49,"rt":"8.35","rk":"20","ci":1},{"m":31,"nc":"Yes","rt":"8.35","rk":"21","c":"Nickelodeon-ass color scheme aside, Tatsu shows how good a B&M flyer could be. The setting is awesome and you feel like you're flying (esp on the inline twists). The pretzel loop is less forceful than Superman but way more sustained. Awesome final helix. Still not as good as Batwing."},{"m":42,"rt":"8.25","rk":"22","c":"I slept on Raptor tbh. You can tell it's an older model, but for the majority of the time, that\u2019s a good thing. Just some straight track elements hurt this insanely whippy invert, which packs some super forceful elements (final helix, cobra roll) with unique jank. That first drop in the back right? Incredible."},{"m":47,"rt":"8.25","rk":"23","ci":294},{"m":72,"rt":"8.25","rk":"24","c":"Better in the front? IDK. Great restraints, the helix has good laterals and feels FAST, the trims don't hit (too) hard! First drop is wild, nice hanging in the front and 2 great pops in the back. Not as refined as a B&M (but comparable airtime) and feels like a kiddie ride next to Magnum; still great."},{"m":43,"rt":"8.25","rk":"25","c":"Great Bear is running like a bat out of hell in 2022. Only Raptor and Batman can match its power. There are legit airtime pops throughout, but positives dominate, with the forceful helix, whippy loop, insane zero-G roll, and that wild corkscrew finale. More than enough to forgive the few dead spots."},{"m":38,"rt":"8.25","rk":"26","ci":265},{"m":111,"rt":"8.25","rk":"27","ci":275},{"m":85,"rt":"8.25","rk":"28","ci":267},{"m":48,"rt":"8.25","rk":"29","c":"The home hyper has an iffy reputation with me. Normally, each hill gives a pop up, a dead pause, and then okay floater down (opposite in the back). Great first drop, bunny hops are a solid finale, and the helix is forceful-ish. Nitro has a great layout but it betrays its age with its lack of power."},{"m":45,"rt":"8.25","rk":"30","c":"Like a mini-El Toro, in a park that already has El Toro. Great airtime on the insane first drop, the stall is cool, but the intensity is really hit or miss (better at night) and the rest of the layout is uninspired. Restraints suck, and it's gotten ROUGH, like, ride breaking. Good but I expect more from RMC."},{"m":68,"rt":"8.15","rk":"31","ci":98},{"m":52,"nc":"Yes","rt":"8.15","rk":"32","ci":23},{"m":54,"nc":"Yes","rt":"8.15","rk":"33","ci":14},{"m":55,"nc":"Yes","rt":"8.15","rk":"34","ci":266},{"m":56,"rt":"8","rk":"35","ci":299},{"m":70,"rt":"8","rk":"36","ci":270},{"m":66,"rt":"8","rk":"37","ci":29},{"m":73,"rt":"8","rk":"38","ci":26},{"m":74,"rt":"8","rk":"39","ci":45},{"m":95,"rt":"8","rk":"40","ci":183},{"m":46,"rt":"7.75","rk":"41","c":"The first half is incredible, absolute madness, especially the cobra roll. The trims are BRUTAL and murder the second half though. First drop is also weaker than expected. I have fonder memories of this ride in its full glory but even neutered Alpy rocks; a trimless ride could push this much higher."},{"m":58,"nc":"Yes","rt":"7.75","rk":"42","c":"I won't lie, I expected more. Afterburn starts off strong with a solid first drop and somewhat strong loop, but the Jet Coaster misses a few times, with the nothing immelman and the bizarre dead spot. These are balanced out by the great (if not Viper-godly) batwing and solid corkscrew / helix finale."},{"m":98,"rt":"7.75","rk":"43","c":"A middling but underrated B&M invert, which makes it a great ride. Not as relentless as others but great positive Gs throughout, awesome first drop in the back, strong helixes. Immelman gives float. Smaller than Alpy and weaker than Afterburn but more consistent than both."},{"m":67,"rt":"7.75","rk":"44","c":"Classic and intense, if short and generic. The more inverts I ride, the more I realize how much B&M nailed the formula on the first try. The repaint breathed even more fury into this powerful layout; Batman wants to rip your head off in the best possible way. Still stands strong among its siblings."},{"m":76,"nc":"Yes","rt":"7.75","rk":"45","c":"Yeah it's hella short. And the trim brakes at the end are killer. But it's just a fun ride. The hangtime on that first loop was not overhyped; launches have decent power too (especially the awesome backwards launch). And I feel how good the airtime COULD be on the top hat. Need a back row ride."},{"m":84,"rt":"7.75","rk":"46","ci":42},{"m":63,"rt":"7.75","rk":"47","ci":301},{"m":94,"rt":"7.5","rk":"48","ci":88},{"m":59,"nc":"Yes","rt":"7.5","rk":"49","ci":255},{"m":178,"nc":"Yes","rt":"7.5","rk":"50","ci":135},{"m":99,"rt":"7.5","rk":"51","ci":290},{"m":92,"nc":"Yes","rt":"7.5","rk":"52","ci":18},{"m":93,"rt":"7.5","rk":"53","ci":93},{"m":80,"rt":"7.5","rk":"54","ci":140},{"m":105,"rt":"7.5","rk":"55","ci":5},{"m":104,"nc":"Yes","rt":"7.5","rk":"56","c":"A tad underwhelming. WCR specializes in hangtime, and every inversion delivers on it in spades. There are also some decent airtime pops, and the dueling is cool, but the rest of the coaster is meh (launches, helixes, etc.). The launches build up slowly, which is a weird sensation."},{"m":168,"rt":"7.5","rk":"57","c":"Still the best Vekoma Boomerang, even if I didn't get a whiff of Smell-O-Vision. Vest restraints make headbanging a thing of the past, but this thing just tracks so smoothly. It allows you to enjoy the forceful and disorienting layout. Still better in the back."},{"m":114,"rt":"7.5","rk":"58","ci":298},{"m":106,"nc":"Yes","rt":"7.25","rk":"59","ci":11},{"m":100,"rt":"7.25","rk":"60","c":"Pleasant surprise! Maybe I would like Eurofighters actually. There are certain dead spots and it's very compact obviously but the first drop is a lot of ejector-y fun, there are great positives (the loop), and then the roll at the end offers stellar hangtime. I dig it."},{"m":109,"nc":"Yes","rt":"7.25","rk":"61","ci":27},{"m":102,"rt":"7.25","rk":"62","ci":8},{"m":136,"rt":"7","rk":"63","ci":6},{"m":117,"nc":"Yes","rt":"7","rk":"64","ci":10},{"m":124,"rt":"7","rk":"65","ci":288},{"m":122,"rt":"7","rk":"66","ci":107},{"m":113,"rt":"7","rk":"67","ci":276},{"m":87,"rt":"7","rk":"68","c":"What a pleasant little surprise! A terrain coaster in the best way, if the long lift back to the station is a small buzzkill. Some dead spots and it's gotten pretty rough but there are some REAL forceful moments and I forgot how fun the swinging is! These need to stick around."},{"m":115,"rt":"7","rk":"69","ci":40},{"m":118,"rt":"7","rk":"70","ci":274},{"m":116,"rt":"7","rk":"71","ci":36},{"m":142,"rt":"6.75","rk":"72","ci":180},{"m":133,"nc":"Yes","rt":"6.75","rk":"73","ci":268},{"m":145,"rt":"6.75","rk":"74","ci":43},{"m":143,"nc":"Yes","rt":"6.75","rk":"75","ci":19},{"m":141,"rt":"6.75","rk":"76","ci":77},{"m":135,"rt":"6.75","rk":"77","ci":86},{"m":119,"rt":"6.75","rk":"78","c":"Maybe it's the repaint, maybe it's my biases, but the new old Medusa surprised me in a very good way. The first half was far more forceful, especially the whippy cobra roll and zero-G roll, with a pinch of hangtime on the loop. Then the midcourse murders it. Still has some rattle but it's manageable."},{"m":164,"rt":"6.65","rk":"79","ci":16},{"m":147,"rt":"6.65","rk":"80","ci":287},{"m":138,"nc":"Yes","rt":"6.65","rk":"81","ci":22},{"m":132,"nc":"Yes","rt":"6.65","rk":"82","ci":21},{"m":159,"nc":"Yes","rt":"6.65","rk":"83","ci":105},{"m":188,"rt":"6.65","rk":"84","c":"It felt a bit faster in 2022, which meant that there were hints of airtime over the first drop and a few of the camelbacks. Still pleasant, relatively smooth, and consistently duels. Tho the intensity needs to be kicked up a notch (or two, or three) to be an elite GCI."},{"m":173,"rt":"6.65","rk":"85","ci":293},{"m":139,"rt":"6.5","rk":"86","ci":34},{"m":154,"rt":"6.5","rk":"87","ci":2},{"m":160,"rt":"6.5","rk":"88","c":"This one holds a lot of sentimental value for obvious reasons. The loops are great, though the middle of the ride is HORRIBLY paced and it's a bit forceless / 'bad' janky with stupid Arrow trims (2nd drop). A sentimental fave, if not the world's greatest (or close to Arrow's greatest) looper."},{"m":163,"rt":"6.5","rk":"89","ci":30},{"m":158,"rt":"6.5","rk":"90","ci":94},{"m":156,"nc":"Yes","rt":"6.5","rk":"91","ci":37},{"m":182,"nc":"Yes","rt":"6.5","rk":"92","ci":13},{"m":150,"rt":"6.5","rk":"93","ci":89},{"m":171,"nc":"Yes","rt":"6.5","rk":"94","ci":41},{"m":176,"rt":"6.5","rk":"95","ci":296},{"m":166,"rt":"6.5","rk":"96","ci":31},{"m":167,"rt":"6.5","rk":"97","ci":174},{"m":177,"rt":"6.5","rk":"98","ci":12},{"m":172,"rt":"6.5","rk":"99","ci":96},{"m":130,"rt":"6.25","rk":"100","c":"I still owe this a front row ride but I got a much better ride in 2022. Still shaky but definitely manageable, now I can actually appreciate the solid few airtime hills, crazy lateral jolts, and history. Final helix was inexplicably trimmed but gave good laterals throughout. Front + trimless would be stellar."},{"m":179,"rt":"6.25","ci":134},{"m":149,"nc":"Yes","rt":"6.25","c":"Some decent airtime pops are to be found on this bog-standard but classic out-and-back woodie. Shame we couldn't get a duel but this ride is certainly fun, if not statistically or forcefully impressive."},{"m":199,"rt":"6","ci":166},{"m":202,"rt":"6","ci":35},{"m":207,"rt":"6","ci":173},{"m":193,"rt":"6","ci":9},{"m":195,"rt":"6","ci":150},{"m":40,"rt":"6","c":"An old, janky homebuilt woodie. But a quite good one at that. It's very rough and there's a really painful jackhammer spot but the Grizzly is frenetic and fun. A retrack is pretty desperately needed but it would be amazing."},{"m":204,"rt":"6","c":"Not that I remember this one very well, but I remember being satisfied, if not very impressed. Can\u2019t imagine it being worth the 2 hour waits it usually garners\u2026"},{"m":197,"nc":"Yes","rt":"6","ci":20},{"m":192,"nc":"Yes","rt":"6","ci":32},{"m":196,"rt":"6","ci":95},{"m":194,"nc":"Yes","rt":"5.85","ci":38},{"m":200,"nc":"Yes","rt":"5.75","ci":282},{"m":210,"rt":"5.75","ci":272},{"m":201,"rt":"5.75","c":"No, no, stop liking this. The Runaway Mine Train is charming as hell, and that damn airtime hill at the end\u2026 Really feels like you're on Magnum for a second. The jank is ever-present but tolerable if you know how to ride it, and leads to some hilariously forceful moments. Magic seat baby."},{"m":203,"rt":"5.75","ci":303},{"m":205,"rt":"5.75","c":"A kinda wild mouse, that runs much faster now. Theming is kinda cheap. Also wtf is that inconsistent and loud horn at the end (Maybe gone forever, finally)? Wild mouse turns are always fun, maybe I slept on this a bit."},{"m":214,"nc":"Yes","rt":"5.75","ci":55},{"m":221,"nc":"Yes","rt":"5.5","ci":39},{"m":238,"rt":"5.5","ci":269},{"m":222,"rt":"5.5","ci":44},{"m":225,"rt":"5.5","ci":163},{"m":228,"rt":"5.5","ci":54},{"m":218,"rt":"5.5","ci":7},{"m":246,"rt":"5.5","c":"Of the Arrow mine trains I have ridden, this one feels a lot more modern, and that's not necessarily a good thing. Comfortable with nice helixes, and nearly absent of jank, but it feels far less exciting than most other mine trains. A great family coaster."},{"m":110,"rt":"5.5","ci":304},{"m":233,"rt":"5.25","ci":102},{"m":239,"rt":"5","ci":176},{"m":236,"rt":"5","ci":49},{"m":157,"rt":"5","ci":159},{"m":237,"rt":"5","ci":153},{"m":240,"rt":"5","ci":60},{"m":153,"nc":"Yes","rt":"5","ci":251},{"m":242,"rt":"5","ci":4},{"m":245,"nc":"Yes","rt":"4.75","ci":121},{"m":243,"nc":"Yes","rt":"4.75","ci":28},{"m":231,"rt":"4.75","ci":92},{"m":244,"nc":"Yes","rt":"4.75","ci":25},{"m":254,"rt":"4.5","ci":286},{"m":247,"rt":"4.5","ci":46},{"m":250,"rt":"4.25","ci":238},{"m":251,"nc":"Yes","rt":"4.25","ci":103},{"m":241,"rt":"4.25","ci":165},{"m":252,"nc":"Yes","rt":"4.15","ci":17},{"m":255,"rt":"4","ci":149},{"m":256,"nc":"Yes","rt":"4","ci":33},{"m":259,"rt":"3.5","ci":277},{"m":208,"rt":"3.45","c":"Okay, now I get why this ride is so hated. Even up front, and with retracking, Roar is a pain train. Thankfully, you do get some decent airtime going into the turnarounds (none on the hills lol), but the PTC trains do not work with this layout and it's a constant jackhammering mess. RMC plz."},{"m":260,"rt":"2","ci":104},{"m":262,"ci":0},{"m":267,"ci":0},{"m":264,"ci":0},{"m":263,"ci":0},{"m":265,"ci":0},{"m":268,"ci":0},{"m":266,"ci":0},{"m":261,"ci":0}]);
const yearData2023=_eY([{"m":1,"rt":"9.5","rk":"1","c":"Even better than before. Night rides turn X2 into a spiritual experience; back row whip over the drop is a gut punch every time, while the rest of the ride deftly mixes surprisingly strong positives with disorienting and just fun float. Still short tho. The new head pads even eliminate the headbanging!"},{"m":0,"rt":"9.5","rk":"2","ci":271},{"m":4,"rt":"9.35","rk":"3","c":"Hard to deny after riding it that this is absolutely god-tier. Incredibly long with absurdly strong airtime throughout, a stellar first drop, wild pacing, and those floaty zero-G rolls that RMC makes so well. Lives up to the hype; tho uninspired and gratuitous at the end, the first two laps are perfect."},{"m":2,"rt":"9.35","rk":"4","c":"Trimless Magnum, what more can I say? I don't think anything can top the unhinged fury of a trimless return run. The airtime is sensational, the positives are crushing and hilarious. Even the turnaround was wild. Ofc the first drop (back) is still great, and when the third hill hits, it HITS. My bb."},{"m":7,"rt":"9.35","rk":"5","ci":15},{"m":5,"rt":"9.25","rk":"6","c":"First ride was a bit weak this year but once it warmed up Skyrush HIT like usual. First drop in the back gives strong ejector and you get an insane YANK, headed into a strong pullout and amazing ejector hill. Hills are batshit but some turnarounds are meh and the lateral whip is weaker than expected."},{"m":9,"rt":"9.25","rk":"7","ci":78},{"m":8,"rt":"9.25","rk":"8","c":"OK, it's back again, we'll see for how long. Probably the best trad first drop in the industry (esp in the back). 4 moments of delicious ejector, esp the Rolling Thunder hill, though there are some weak spots and the turnaround hammers you. Not consistent enough to go higher but I'm glad it's back."},{"m":16,"rt":"9.25","rk":"9","ci":24},{"m":11,"nc":"Yes","rt":"9.25","rk":"10","ci":62},{"m":3,"rt":"9.15","rk":"11","c":"Wow, you can't get a ride like this anymore. The relentless savagery of the forceful first half (front for loops, back for crazy drop) is unmatched (ejector going into the midcourse?) and the godly hangtime in the back car second half is glorious. Even smoother than I remembered. I hope this never closes."},{"m":21,"rt":"9.15","rk":"12","ci":261},{"m":12,"nc":"Yes","rt":"9","rk":"13","c":"Not the second coming of Christ, but I still love Phantom. The clacky boi oozes character, great and funny trains. The ejector finale is great (no Magnum) but underrated POSITIVES! They're pummeling the whole start. 2nd drop starts with ejector, then kick your legs to float the whole way down."},{"m":10,"rt":"9","rk":"14","ci":162},{"m":18,"nc":"Yes","rt":"9","rk":"15","ci":72},{"m":22,"nc":"Yes","rt":"9","rk":"16","ci":79},{"m":34,"rt":"9","rk":"17","ci":249},{"m":35,"rt":"9","rk":"18","ci":262},{"m":30,"rt":"8.75","rk":"19","ci":258},{"m":25,"rt":"8.75","rk":"20","c":"Man they can't get this thing to duel, at least when I'm riding it. My previous perceptions about TC were pretty much on point; it's two fun short RMCs for the price of one. It lacks the big airtime hills that make something like SteVe really special, but the turnarounds are surprisingly sustained."},{"m":31,"rt":"8.5","rk":"21","c":"OK I was wrong, this is better than Batwing. In fact, this is incredible. Ride it front / back row, and the forces are on another level; now this pleasant romp around the mountain tries to rip your face off. Still has one of the best settings on any coaster. Every inversion hits, pretzel loop is glorious."},{"m":32,"rt":"8.5","rk":"22","ci":263},{"m":36,"rt":"8.5","rk":"23","ci":3},{"m":28,"nc":"Yes","rt":"8.5","rk":"24","ci":61},{"m":37,"rt":"8.5","rk":"25","c":"Still one of the best flyers out there. The forces are on another level compared to B&M flyers; you feel like your eyes are getting ripped out of your skull at multiple points. Rolls are v whippy, the helix in the back rips, and the loop combines pretzel-loop positives with whip and a pinch of hangtime."},{"m":41,"nc":"Yes","rt":"8.5","rk":"26","c":"I only got cold morning rides, but it seems that the French Fry coaster just ekes out my home park counterpart. Feels the same in the back but front / middle rides offer slightly more whip into elements and the ride feels faster. Like JD though, there are random bumps. New elements add nothing."},{"m":45,"rt":"8.5","rk":"27","ci":50},{"m":42,"rt":"8.25","rk":"28","ci":87},{"m":49,"rt":"8.25","rk":"29","ci":1},{"m":47,"rt":"8.25","rk":"30","ci":63},{"m":72,"rt":"8.25","rk":"31","c":"Better in the front? IDK. Great restraints, the helix has good laterals and feels FAST, the trims don't hit (too) hard! First drop is solid, nice hangover in the front and 2 great pops in the back. Not as refined as a B&M (but comparable airtime) and feels like a kiddie ride next to Magnum; still great."},{"m":43,"rt":"8.25","rk":"32","c":"Great Bear is running like a bat out of hell in 2022. Only Montu and Batman can match its power. There are legit airtime pops throughout, but positives dominate, with the forceful helix, whippy loop, insane zero-G roll, and that wild corkscrew finale. More than enough to forgive the few awkward spots."},{"m":38,"rt":"8.25","rk":"33","ci":265},{"m":70,"rt":"8.25","rk":"34","c":"I had one middle row ride, but I could tell Phoenix was bringing it in 2023. The laterals were on another level this year. Buzz bar airtime with no seatbelt is as ridiculous as advertised, almost to its detriment. But yes, the airtime is hilarious. Beats Twister now but Toro et al. still embarrass it."},{"m":46,"rt":"8.25","rk":"35","ci":68},{"m":85,"rt":"8.25","rk":"36","ci":267},{"m":48,"rt":"8.25","rk":"37","c":"The blue trains change nothing. Nitro feels the same; each hill gives a pop up, a dead pause, and then okay floater down (opposite in the back). Great first drop, bunny hops are a solid finale, and the helix / turnaround are forceful-ish. Nitro has a great layout but it betrays its age with its lack of power."},{"m":52,"rt":"8.15","rk":"38","ci":23},{"m":53,"nc":"Yes","rt":"8.15","rk":"39","ci":53},{"m":54,"rt":"8.15","rk":"40","ci":14},{"m":55,"rt":"8.15","rk":"41","ci":266},{"m":68,"rt":"8.15","rk":"42","ci":98},{"m":63,"rt":"8.15","rk":"43","ci":56},{"m":56,"rt":"8","rk":"44","c":"A post-breakdown launch absoutely sent me in 2023, but don't expect that every time. Still the wildest ten seconds of your life. A little rough, especially in the back, Dragster is smoother. Kinda dig the pulsating launch. And the feeling of speed is obviously unmatched."},{"m":111,"rt":"8","rk":"45","c":"Unfortunately the airtime I so cherished up front was a lot weaker this time, but still. Wherever you are the laterals are INSANE. Strong and consistent the entire ride, it never lets up, you have to hold the side of the train! Glass smooth after the unnecessary retracking. Phoenix pips it now though."},{"m":58,"rt":"8","rk":"46","ci":69},{"m":67,"rt":"8","rk":"47","ci":65},{"m":66,"rt":"8","rk":"48","ci":29},{"m":73,"rt":"8","rk":"49","ci":26},{"m":71,"nc":"Yes","rt":"8","rk":"50","ci":58},{"m":74,"rt":"8","rk":"51","ci":45},{"m":75,"nc":"Yes","rt":"8","rk":"52","ci":70},{"m":95,"rt":"8","rk":"53","ci":183},{"m":76,"rt":"7.75","rk":"54","ci":73},{"m":80,"rt":"7.75","rk":"55","ci":140},{"m":84,"rt":"7.75","rk":"56","ci":42},{"m":79,"nc":"Yes","rt":"7.75","rk":"57","ci":64},{"m":98,"rt":"7.75","rk":"58","c":"A middling but underrated B&M invert, Talon is a great ride. Not as relentless or whippy as its older siblings but good positive Gs throughout, solid first drop in the back, strong helixes. Immelman gives float. Its biggest strength is its consistency, but it can't match the highs of Montu or even a Bat clone."},{"m":77,"nc":"Yes","rt":"7.75","rk":"59","ci":47},{"m":94,"rt":"7.5","rk":"60","ci":88},{"m":59,"rt":"7.5","rk":"61","ci":255},{"m":178,"rt":"7.5","rk":"62","ci":135},{"m":99,"rt":"7.5","rk":"63","ci":90},{"m":91,"nc":"Yes","rt":"7.5","rk":"64","ci":48},{"m":92,"rt":"7.5","rk":"65","ci":18},{"m":93,"rt":"7.5","rk":"66","ci":93},{"m":105,"rt":"7.5","rk":"67","ci":5},{"m":88,"nc":"Yes","rt":"7.5","rk":"68","ci":59},{"m":103,"nc":"Yes","rt":"7.25","rk":"69","ci":80},{"m":109,"rt":"7.25","rk":"70","ci":27},{"m":106,"rt":"7.25","rk":"71","ci":11},{"m":100,"rt":"7.25","rk":"72","ci":100},{"m":102,"rt":"7.25","rk":"73","ci":8},{"m":104,"rt":"7.25","rk":"74","c":"It's just\u2026 kinda boring. There is good hangtime on the inversions but the launches are weak sauce (first is super slow and second kicks for .1 seconds) and there's not much whip anywhere. On the bright side, it consistently duels, you get decent positives in places, and the layout is solid and fun."},{"m":117,"rt":"7","rk":"75","ci":10},{"m":119,"rt":"7","rk":"76","ci":66},{"m":136,"rt":"7","rk":"77","ci":6},{"m":124,"rt":"7","rk":"78","c":"\u2026It's okay? Far too graceful for it's own good, barring the spectacular and whippy first drop, and solid positive Gs abound to add to the awesome near misses. It's not \"forceless\" like some say but the pacing could really get taken up a few notches. A whippy wing coaster would be a riot."},{"m":122,"rt":"7","rk":"79","ci":107},{"m":113,"rt":"7","rk":"80","ci":71},{"m":168,"rt":"7","rk":"81","ci":101},{"m":115,"rt":"7","rk":"82","ci":40},{"m":118,"rt":"7","rk":"83","ci":274},{"m":114,"rt":"7","rk":"84","ci":91},{"m":116,"rt":"7","rk":"85","ci":36},{"m":142,"rt":"6.75","rk":"86","ci":180},{"m":133,"rt":"6.75","rk":"87","ci":268},{"m":145,"rt":"6.75","rk":"88","ci":43},{"m":143,"rt":"6.75","rk":"89","ci":19},{"m":87,"rt":"6.75","rk":"90","c":"This was slightly overrated in my head from the first trip but Ninja is still a good ride. Doesn't pull great Gs until the ending helix, which brings some legitimate force. Can also confirm it is as shaky as I remembered. That said, the terrain is awesome and the swinging gimmick makes Ninja good fun."},{"m":141,"rt":"6.75","rk":"91","ci":77},{"m":135,"rt":"6.75","rk":"92","ci":86},{"m":146,"nc":"Yes","rt":"6.75","rk":"93","ci":76},{"m":144,"nc":"Yes","rt":"6.75","rk":"94","ci":84},{"m":164,"rt":"6.65","rk":"95","ci":16},{"m":147,"rt":"6.65","rk":"96","ci":97},{"m":138,"rt":"6.65","rk":"97","ci":22},{"m":132,"rt":"6.65","rk":"98","ci":21},{"m":159,"rt":"6.65","rk":"99","ci":105},{"m":139,"rt":"6.5","rk":"100","ci":34},{"m":150,"rt":"6.5","ci":89},{"m":154,"rt":"6.5","ci":2},{"m":156,"rt":"6.5","ci":37},{"m":158,"rt":"6.5","ci":94},{"m":160,"rt":"6.5","ci":85},{"m":166,"rt":"6.5","ci":31},{"m":181,"nc":"Yes","rt":"6.5","ci":161},{"m":182,"rt":"6.5","ci":13},{"m":163,"rt":"6.5","ci":30},{"m":165,"nc":"Yes","rt":"6.5","ci":57},{"m":201,"rt":"6.5","c":"Still falling in love with this janky masterpiece. The Runaway Mine Train is so charming, and that airtime hill at the end\u2026 Really feels like you're on Magnum for a second. Even beyond that there are some hilariously forceful moments (back row drop before the Magnum hill slaps). Magic seat baby."},{"m":167,"rt":"6.5","ci":174},{"m":170,"nc":"Yes","rt":"6.5","ci":74},{"m":172,"rt":"6.5","ci":96},{"m":173,"rt":"6.5","c":"We got a REAL good, spinny ride here AGAIN. It's not luck I swear there's something different about this one. It's basically Primeval Whirl, which was a good reminder that these spinning mice are pretty damn fun. Still very ride-dependent though, and no airtime, hence the somewhat lower score."},{"m":171,"rt":"6.5","ci":41},{"m":188,"rt":"6.5","ci":252},{"m":176,"rt":"6.5","ci":99},{"m":175,"nc":"Yes","rt":"6.5","ci":75},{"m":130,"rt":"6.5","c":"Finally got the back row ride Wild One deserved. Shaky but definitely manageable, I can appreciate the solid few airtime hills, crazy lateral jolts, and old school charm. Final helix was inexplicably trimmed but gave good laterals throughout (like GhostRider but worse). Trimless would be stellar."},{"m":177,"rt":"6.5","ci":12},{"m":179,"rt":"6.25","ci":134},{"m":180,"nc":"Yes","rt":"6.25","ci":81},{"m":183,"nc":"Yes","rt":"6.25","ci":51},{"m":186,"nc":"Yes","rt":"6.25","c":"There is a single airtime moment about 2/3rds of the way through the ride but otherwise Racer is light on thrills. It does bring the charm though, and the racing element is pretty damn well executed given its age."},{"m":149,"rt":"6.25","c":"(Red) Some decent airtime pops are to be found on this bog-standard but classic out-and-back woodie. Shame we couldn't get a duel but this ride is certainly fun, if not statistically or forcefully impressive."},{"m":193,"rt":"6","ci":9},{"m":195,"rt":"6","ci":150},{"m":192,"rt":"6","ci":32},{"m":197,"rt":"6","ci":20},{"m":196,"rt":"6","ci":95},{"m":199,"rt":"6","ci":166},{"m":202,"rt":"6","ci":35},{"m":204,"rt":"6","ci":67},{"m":205,"rt":"6","ci":131},{"m":207,"rt":"6","ci":173},{"m":40,"rt":"6","c":"An old, janky homebuilt woodie. But a quite good one at that. It's very rough and there's a really painful jackhammer spot but the Grizzly is frenetic and fun. Time to see what a retrack can do to this great layout."},{"m":194,"rt":"5.85","ci":38},{"m":200,"rt":"5.75","ci":282},{"m":203,"rt":"5.75","ci":303},{"m":210,"rt":"5.75","ci":272},{"m":214,"rt":"5.75","ci":55},{"m":218,"rt":"5.5","ci":7},{"m":238,"rt":"5.5","ci":269},{"m":220,"nc":"Yes","rt":"5.5","ci":52},{"m":221,"rt":"5.5","ci":39},{"m":222,"rt":"5.5","ci":44},{"m":225,"rt":"5.5","ci":163},{"m":110,"rt":"5.5","ci":304},{"m":228,"rt":"5.5","ci":54},{"m":233,"rt":"5.25","ci":102},{"m":153,"rt":"5","ci":251},{"m":157,"rt":"5","ci":159},{"m":237,"rt":"5","ci":153},{"m":239,"rt":"5","ci":176},{"m":236,"rt":"5","ci":49},{"m":240,"rt":"5","ci":60},{"m":242,"rt":"5","ci":4},{"m":243,"rt":"4.75","ci":28},{"m":244,"rt":"4.75","ci":25},{"m":245,"rt":"4.75","ci":121},{"m":246,"rt":"4.75","ci":82},{"m":231,"rt":"4.75","ci":92},{"m":254,"rt":"4.5","ci":286},{"m":247,"rt":"4.5","ci":46},{"m":248,"nc":"Yes","rt":"4.5","ci":83},{"m":250,"rt":"4.25","ci":238},{"m":251,"rt":"4.25","ci":103},{"m":241,"rt":"4.25","ci":165},{"m":252,"rt":"4.15","ci":17},{"m":255,"rt":"4","ci":149},{"m":256,"rt":"4","ci":33},{"m":208,"rt":"4","c":"Roar vacillates between a smooth, boring experience and the worst pain imaginable. Thankfully, you do get some decent airtime going into the turnarounds (none on the hills lol), but the PTC trains do not work with this layout and it's a jackhammering snoozefest. RMC plz."},{"m":259,"rt":"3.5","ci":277},{"m":260,"rt":"2","ci":104},{"m":261,"ci":0},{"m":262,"ci":0},{"m":264,"ci":0},{"m":263,"ci":0},{"m":265,"ci":0},{"m":266,"ci":0},{"m":267,"ci":0},{"m":268,"ci":0}]);
const yearData2024=_eY([{"m":0,"rt":"9.5","rk":"1","ci":219},{"m":1,"rt":"9.5","rk":"2","ci":129},{"m":3,"rt":"9.25","rk":"3","ci":111},{"m":2,"rt":"9.25","rk":"4","c":"Wish I were less inebriated for that trimless summer nighttime zen ride, but ah well, I still remember trimless Magnum v well. The airtime is sensational, the positives are crushing and hilarious. Even the turnaround was wild. There are some dead spots but the first drop is solid, and when the third hill hits, it HITS. My bb."},{"m":4,"rt":"9.25","rk":"5","ci":130},{"m":5,"rt":"9.25","rk":"6","ci":141},{"m":7,"rt":"9.25","rk":"7","ci":15},{"m":8,"rt":"9.25","rk":"8","c":"2024 is marginally smoother than 2023. Probably the best trad first drop in the industry (esp in the back). 4 moments of delicious ejector, esp the Rolling Thunder hill, though there are some weak spots and the turnaround hammers you (less than before but still). I've been sleeping on the front cars, like goddamn."},{"m":6,"nc":"Yes","rt":"9.25","rk":"9","c":"The fanboys were right, Voyage is incredible. First 2/3rds are great, from the (bouncy) B&M hyper-esque start to the savage middle, which feels like an actually forceful GCI. The ending is a bit weak but the Voyage finishes its long layout with a chaotic station surround. I see how good a night ride could be."},{"m":9,"rt":"9","rk":"10","ci":78},{"m":11,"rt":"9","rk":"11","ci":62},{"m":10,"rt":"9","rk":"12","ci":115},{"m":12,"rt":"9","rk":"13","c":"Night rides live up to the hype; Phantom is still a riot. The clacky boi oozes character, great and funny trains. The ejector finale is frenetic (even if they trim too haird) but underrated POSITIVES still! They're pummeling the whole start. 2nd drop starts with ejector, then honestly a bit weak after."},{"m":16,"rt":"9","rk":"14","ci":24},{"m":17,"nc":"Yes","rt":"9","rk":"15","ci":146},{"m":21,"rt":"9","rk":"16","ci":112},{"m":18,"rt":"9","rk":"17","ci":72},{"m":22,"rt":"9","rk":"18","ci":79},{"m":25,"rt":"9","rk":"19","ci":284},{"m":24,"nc":"Yes","rt":"8.75","rk":"20","c":"The Legend's display of prodigious lateral force makes Twister look like child's play. What a machine, with unrivaled pacing, a long ride, and some of the greatest laterals in the world (the helix!). Throw in a few great airtime moments too. If this had more consistent airtime it could be top 10 material."},{"m":28,"rt":"8.75","rk":"21","ci":61},{"m":30,"rt":"8.75","rk":"22","c":"I was a bit more impressed than I was back in 2021, but I still feel like Orion is missing that little something. It just feels like a 300-foot-tall Candymonium with less airtime, though the borderline ejector on the speed hill and following camelback are the highlights of the ride. Fast but not forceful."},{"m":31,"rt":"8.5","rk":"23","ci":117},{"m":34,"rt":"8.5","rk":"24","c":"Eh, Storm Chaser really makes Timbers feel a bit outclassed. The barrel roll drop is pure chaos, and the three airtime hills right after are awesome. Second half is gratuitous, and less fun than Storm Chaser's insanity. Still, it's an RMC hybrid, and a pretty damn good one, even if it's not at the top of my list anymore."},{"m":35,"rt":"8.5","rk":"25","c":"Really sad to see this one drop down, but it's time for Dback to face its reckoning. Everything was running fast and Diamondback still delivered great airtime, but not the borderline ejector I expect. The finale was also pretty subdued. The longboi trains and their whip still keep this at the top of my B&M hyper list."},{"m":32,"rt":"8.5","rk":"26","ci":136},{"m":36,"rt":"8.5","rk":"27","ci":3},{"m":37,"rt":"8.5","rk":"28","c":"It's running well this year, even if it literally trapped me. The forces are on another level compared to B&M flyers; your eyes are getting ripped out of your skull at multiple points. Rolls are v whippy, the helix in the back rips, and the loop combines pretzel-loop positives with whip and a pinch of hangtime."},{"m":41,"rt":"8.35","rk":"29","ci":132},{"m":38,"rt":"8.25","rk":"30","ci":154},{"m":42,"rt":"8.25","rk":"31","ci":87},{"m":43,"rt":"8.25","rk":"32","ci":142},{"m":45,"rt":"8.25","rk":"33","ci":50},{"m":46,"rt":"8.25","rk":"34","ci":68},{"m":47,"rt":"8.25","rk":"35","ci":63},{"m":72,"rt":"8.15","rk":"40","c":"The updates make a definite difference but aren't completely transformative. First drop is better but still no ejector pop; the first half is all faster now. Trims hit about as hard as last year, which gives great flow-jector on the return. Still feels like a kiddie ride next to Magnum, but it's even beter than before."},{"m":49,"rt":"8.25","rk":"37","ci":1},{"m":50,"nc":"Yes","rt":"8.25","rk":"38","ci":137},{"m":51,"nc":"Yes","rt":"8.25","rk":"39","ci":118},{"m":52,"rt":"8.15","rk":"41","ci":23},{"m":53,"rt":"8.15","rk":"42","ci":53},{"m":54,"rt":"8.15","rk":"43","ci":14},{"m":55,"rt":"8.15","rk":"44","c":"Finally, the first half brought the airtime. No ejector, but much better than before. That all dies in the back half, unfortunately, where the airtime is just meh. Layout is pure chaos, great pacing / laterals throughout a gorgeous setting. Stereotypical GCI, for better and worse. I kinda like the shed."},{"m":39,"nc":"Yes","rt":"8","rk":"45","c":"Utterly charming, the Raven backs its character with a solid layout chock full of airtime and laterals. 1st drop and legendary 5th plunge really stand out, as does the gorgeous lake turnaround. Back half feels like the Beast with actually strong forces, a sweet terrain layout. It's a tad rough and over too soon."},{"m":56,"rt":"8","rk":"46","ci":143},{"m":57,"nc":"Yes","rt":"8","rk":"47","ci":144},{"m":58,"rt":"8","rk":"48","ci":69},{"m":63,"rt":"8","rk":"49","ci":56},{"m":67,"rt":"8","rk":"51","ci":65},{"m":66,"rt":"8","rk":"50","ci":29},{"m":68,"rt":"8","rk":"52","ci":98},{"m":85,"rt":"8","rk":"53","ci":127},{"m":69,"nc":"Yes","rt":"8","rk":"54","ci":139},{"m":48,"rt":"8.25","rk":"36","ci":248},{"m":70,"rt":"8","rk":"55","ci":113},{"m":71,"rt":"8","rk":"56","ci":58},{"m":73,"rt":"8","rk":"57","ci":26},{"m":74,"rt":"8","rk":"58","ci":45},{"m":75,"rt":"8","rk":"59","ci":70},{"m":76,"rt":"8","rk":"60","ci":73},{"m":77,"rt":"7.75","rk":"61","ci":47},{"m":79,"rt":"7.75","rk":"62","ci":64},{"m":80,"rt":"7.75","rk":"63","ci":140},{"m":83,"nc":"Yes","rt":"7.75","rk":"64","ci":148},{"m":84,"rt":"7.75","rk":"65","ci":42},{"m":87,"rt":"7.5","rk":"66","ci":114},{"m":88,"rt":"7.5","rk":"67","ci":59},{"m":178,"rt":"7.5","rk":"68","ci":135},{"m":90,"nc":"Yes","rt":"7.5","rk":"69","ci":119},{"m":59,"rt":"7.5","rk":"70","c":"New-school B&M, to a fault, but it ran so fast this year that I could not help but respect it. Maybe the best invert layout; the inversionshave no whip but the positives are nuts. Vests are not noticeable, but the ride def rattles pretty bad. The ending inline twist into a forceful helix is the undeniable highlight."},{"m":91,"rt":"7.5","rk":"71","ci":48},{"m":92,"rt":"7.5","rk":"72","ci":18},{"m":93,"rt":"7.5","rk":"73","ci":93},{"m":98,"rt":"7.5","rk":"74","ci":106},{"m":94,"rt":"7.5","rk":"75","ci":88},{"m":95,"rt":"7.5","rk":"76","ci":133},{"m":40,"rt":"7.25","rk":"77","c":"Gravity Group did a great job with the Beast's little bro, and the resultant airtime is awesome. It's not consistent, but when it hits, it HITS. That first drop sends you FLYING out of your seat with a comical amount of restraint room. Some hills are dead and the retrack stops at the end, but the bouncy airtime is a benefit by then."},{"m":100,"rt":"7.25","rk":"78","ci":100},{"m":60,"nc":"Yes","rt":"7.25","rk":"79","c":"A really fun wing coaster. Launch has a strong initial kick, and some elements have great whip on the right side (immelman, zero-G roll, the surprisingly tasty S hill). A slow hangtime filled roll to end is always a treat. Rest of the ride feels rather pointless, and it's rough enough to negatively impact the ride."},{"m":102,"rt":"7.25","rk":"80","ci":8},{"m":99,"rt":"7.25","rk":"81","ci":90},{"m":104,"rt":"7.25","rk":"82","ci":122},{"m":103,"rt":"7.25","rk":"83","ci":80},{"m":106,"rt":"7.25","rk":"84","ci":11},{"m":109,"rt":"7.25","rk":"85","ci":27},{"m":111,"rt":"7.25","rk":"86","c":"Feeling slower every year, unfortunately. Legend rides really make Twister look flighty in comparison. That said, wherever you are the laterals are still good. Strong and consistent the entire ride, it never lets up, but it's not as savage as Legend. It's been usurped as the lateral king."},{"m":105,"rt":"7.25","rk":"87","ci":5},{"m":118,"rt":"7","rk":"88","c":"Anaconda is, in fact, good, and I'm happy to be one of the few supporters. It's better slow; fast rides don't come close to touching Viper, but slow rides give you B&M style hangtime on the two initial inversions and absolutely glorious slow corkscrews. It's a bit shaky but totally tolerable, and only has one bad transition."},{"m":124,"rt":"7","rk":"89","ci":175},{"m":127,"nc":"Yes","rt":"7","rk":"90","ci":167},{"m":119,"rt":"7","rk":"91","ci":66},{"m":113,"rt":"7","rk":"92","ci":71},{"m":117,"rt":"7","rk":"93","ci":10},{"m":114,"rt":"7","rk":"94","ci":91},{"m":123,"nc":"Yes","rt":"7","rk":"95","ci":155},{"m":115,"rt":"7","rk":"96","ci":40},{"m":116,"rt":"7","rk":"97","ci":36},{"m":122,"rt":"7","rk":"98","ci":107},{"m":133,"rt":"6.75","rk":"99","ci":108},{"m":161,"rt":"6.75","rk":"100","ci":147},{"m":146,"rt":"6.75","ci":76},{"m":135,"rt":"6.75","ci":86},{"m":143,"rt":"6.75","ci":19},{"m":145,"rt":"6.75","ci":43},{"m":142,"rt":"6.75","ci":280},{"m":144,"rt":"6.75","ci":84},{"m":136,"rt":"6.75","ci":6},{"m":149,"rt":"6.75","c":"With the retracking, the Racer is running better than ever, and now it has some great airtime on that outward leg. The solid consistent floater elevates the ride above its dueling schtick, and gives a much stronger showing than Rebel Yell. Basically as smooth as a new woodie."},{"m":141,"rt":"6.75","ci":77},{"m":159,"rt":"6.65","ci":105},{"m":147,"rt":"6.65","ci":97},{"m":138,"rt":"6.65","ci":22},{"m":132,"rt":"6.65","ci":21},{"m":164,"rt":"6.65","ci":16},{"m":126,"nc":"Yes","rt":"6.65","ci":125},{"m":139,"rt":"6.65","ci":34},{"m":150,"rt":"6.5","ci":89},{"m":158,"rt":"6.5","ci":94},{"m":176,"rt":"6.5","ci":99},{"m":156,"rt":"6.5","ci":37},{"m":170,"rt":"6.5","ci":74},{"m":154,"rt":"6.5","ci":2},{"m":167,"rt":"6.5","ci":174},{"m":151,"nc":"Yes","rt":"6.5","ci":120},{"m":175,"rt":"6.5","ci":75},{"m":168,"rt":"6.5","ci":101},{"m":188,"rt":"6.5","ci":252},{"m":160,"rt":"6.5","ci":85},{"m":172,"rt":"6.5","ci":96},{"m":157,"rt":"6.5","ci":110},{"m":173,"rt":"6.5","ci":156},{"m":171,"rt":"6.5","ci":41},{"m":163,"rt":"6.5","ci":30},{"m":165,"rt":"6.5","ci":57},{"m":169,"nc":"Yes","rt":"6.5","ci":151},{"m":166,"rt":"6.5","ci":31},{"m":153,"rt":"6.5","ci":169},{"m":110,"rt":"6.5","ci":172},{"m":177,"rt":"6.5","ci":12},{"m":183,"rt":"6.25","ci":51},{"m":180,"rt":"6.25","ci":81},{"m":186,"rt":"6.25","ci":179},{"m":179,"rt":"6.25","ci":134},{"m":181,"rt":"6.25","ci":161},{"m":182,"rt":"6.25","ci":13},{"m":200,"rt":"6","ci":126},{"m":199,"rt":"6","ci":166},{"m":202,"rt":"6","ci":35},{"m":207,"rt":"6","ci":173},{"m":193,"rt":"6","ci":9},{"m":194,"rt":"6","ci":38},{"m":195,"rt":"6","ci":150},{"m":204,"rt":"6","ci":67},{"m":197,"rt":"6","ci":20},{"m":201,"rt":"6","ci":123},{"m":203,"rt":"6","ci":171},{"m":192,"rt":"6","ci":32},{"m":198,"nc":"Yes","rt":"6","ci":164},{"m":205,"rt":"6","ci":131},{"m":196,"rt":"6","ci":95},{"m":130,"rt":"6","c":"Finally got the back row ride Wild One deserved. Shaky but definitely manageable, I can appreciate the solid few airtime hills, crazy lateral jolts, and old school charm. Final helix gave good laterals throughout (like GhostRider but worse). There are a few dead / weird spots but that's to be expected given its age."},{"m":206,"nc":"Yes","rt":"6","ci":291},{"m":212,"nc":"Yes","rt":"5.75","ci":157},{"m":210,"rt":"5.75","c":"(Both) A smooth and charming experience that offers little to no airtime. The turnaround offers good laterals and the best airtime pops on the ride (front going in, back coming out), but otherwise it's weak floater going out and nothing coming back. With KI's retrack, this one is just a uniform downgrade."},{"m":211,"nc":"Yes","rt":"5.75","ci":178},{"m":213,"nc":"Yes","rt":"5.75","ci":124},{"m":214,"rt":"5.75","ci":55},{"m":221,"rt":"5.5","ci":39},{"m":226,"nc":"Yes","rt":"5.5","ci":116},{"m":219,"nc":"Yes","rt":"5.5","ci":109},{"m":229,"nc":"Yes","rt":"5.5","ci":182},{"m":222,"rt":"5.5","ci":44},{"m":220,"rt":"5.5","ci":52},{"m":223,"nc":"Yes","rt":"5.5","ci":152},{"m":225,"rt":"5.5","ci":138},{"m":228,"rt":"5.5","ci":54},{"m":218,"rt":"5.5","ci":7},{"m":224,"nc":"Yes","rt":"5.5","ci":170},{"m":230,"nc":"Yes","rt":"5.5","ci":181},{"m":233,"rt":"5.25","ci":102},{"m":232,"nc":"Yes","rt":"5.25","ci":168},{"m":239,"rt":"5","ci":158},{"m":238,"rt":"5","ci":128},{"m":236,"rt":"5","ci":49},{"m":208,"rt":"5","c":"I cannot put a finger on this damn ride. Sometimes, it's tolerable and even fun; sometimes, it's just pain. The secret (apparently) is to sit in the middle, where you get somewhat decent forces and tolerable jackhammering. Still, the PTC trains do not work with this layout and it's a jackhammering snoozefest. RMC plz."},{"m":237,"rt":"5","ci":153},{"m":240,"rt":"5","ci":60},{"m":241,"rt":"5","ci":177},{"m":242,"rt":"5","ci":4},{"m":245,"rt":"4.75","ci":121},{"m":243,"rt":"4.75","ci":28},{"m":231,"rt":"4.75","ci":92},{"m":246,"rt":"4.75","ci":82},{"m":244,"rt":"4.75","ci":25},{"m":248,"rt":"4.5","ci":83},{"m":247,"rt":"4.5","ci":46},{"m":250,"rt":"4.25","ci":238},{"m":251,"rt":"4.25","ci":103},{"m":252,"rt":"4.15","ci":17},{"m":254,"rt":"4","ci":160},{"m":255,"rt":"4","ci":149},{"m":256,"rt":"4","ci":33},{"m":259,"rt":"3.5","ci":145},{"m":260,"rt":"2","ci":104},{"m":262,"ci":0},{"m":267,"ci":0},{"m":264,"ci":0},{"m":263,"ci":0},{"m":265,"ci":0},{"m":268,"ci":0},{"m":266,"ci":0},{"m":261,"ci":0}]);
const yearData2025=_eY([{"m":0,"rt":"9.5","rk":"1","ci":219},{"m":1,"rt":"9.5","rk":"2","ci":129},{"m":2,"rt":"9.25","rk":"3","ci":196},{"m":3,"rt":"9.25","rk":"4","ci":111},{"m":4,"rt":"9.25","rk":"5","ci":130},{"m":5,"rt":"9.25","rk":"6","ci":141},{"m":6,"rt":"9.25","rk":"7","ci":192},{"m":7,"rt":"9.25","rk":"8","ci":15},{"m":8,"rt":"9.25","rk":"9","c":"2025 is marginally smoother than 2024. Probably the best trad first drop in the industry (esp in the back). 4 moments of delicious ejector, esp the Rolling Thunder hill, though there are some weak spots and the turnaround hammers you (less than before but still). I've been sleeping on the front cars, like goddamn."},{"m":9,"rt":"9.25","rk":"10","ci":78},{"m":10,"rt":"9.25","rk":"11","ci":115},{"m":11,"rt":"9.25","rk":"12","ci":62},{"m":12,"rt":"9.25","rk":"13","ci":260},{"m":13,"nc":"Yes","rt":"9.25","rk":"14","ci":220},{"m":14,"nc":"Yes","rt":"9.25","rk":"15","ci":230},{"m":15,"nc":"Yes","rt":"9","rk":"16","ci":239},{"m":16,"rt":"9","rk":"17","ci":24},{"m":17,"rt":"9","rk":"18","ci":146},{"m":18,"rt":"9","rk":"19","ci":72},{"m":19,"nc":"Yes","rt":"9","rk":"20","ci":242},{"m":20,"nc":"Yes","rt":"9","rk":"21","ci":197},{"m":21,"rt":"9","rk":"22","ci":112},{"m":22,"rt":"9","rk":"23","ci":79},{"m":23,"rt":"9","rk":"24","ci":185},{"m":24,"rt":"9","rk":"25","ci":200},{"m":25,"rt":"8.75","rk":"26","ci":284},{"m":26,"nc":"Yes","rt":"8.75","rk":"27","ci":193},{"m":27,"nc":"Yes","rt":"8.75","rk":"28","ci":184},{"m":28,"rt":"8.75","rk":"29","ci":61},{"m":29,"nc":"Yes","rt":"8.75","rk":"30","ci":224},{"m":30,"rt":"8.75","rk":"31","ci":199},{"m":31,"rt":"8.5","rk":"32","ci":117},{"m":32,"rt":"8.5","rk":"33","ci":136},{"m":33,"nc":"Yes","rt":"8.5","rk":"34","ci":205},{"m":34,"rt":"8.5","rk":"35","ci":253},{"m":35,"rt":"8.5","rk":"36","ci":257},{"m":36,"rt":"8.5","rk":"37","ci":3},{"m":37,"rt":"8.5","rk":"38","ci":214},{"m":38,"rt":"8.25","rk":"39","ci":154},{"m":39,"rt":"8.25","rk":"40","ci":221},{"m":40,"rt":"8.25","rk":"41","ci":210},{"m":41,"rt":"8.25","rk":"42","ci":132},{"m":42,"rt":"8.25","rk":"43","ci":87},{"m":43,"rt":"8.25","rk":"44","ci":142},{"m":44,"nc":"Yes","rt":"8.25","rk":"45","ci":202},{"m":45,"rt":"8.25","rk":"46","ci":50},{"m":46,"rt":"8.25","rk":"47","ci":68},{"m":47,"rt":"8.25","rk":"48","ci":63},{"m":48,"rt":"8.25","rk":"49","ci":248},{"m":49,"rt":"8.25","rk":"50","ci":1},{"m":50,"rt":"8.25","rk":"51","ci":137},{"m":51,"rt":"8.25","rk":"52","ci":118},{"m":52,"rt":"8.25","rk":"53","ci":23},{"m":53,"rt":"8.25","rk":"54","ci":53},{"m":54,"rt":"8.25","rk":"55","ci":14},{"m":55,"rt":"8.25","rk":"56","ci":243},{"m":56,"rt":"8","rk":"57","ci":143},{"m":57,"rt":"8","rk":"58","ci":144},{"m":58,"rt":"8","rk":"59","ci":69},{"m":59,"rt":"8","rk":"60","ci":232},{"m":60,"rt":"8","rk":"61","ci":217},{"m":61,"nc":"Yes","rt":"8","rk":"62","ci":190},{"m":62,"nc":"Yes","rt":"8","rk":"63","ci":188},{"m":63,"rt":"8","rk":"64","ci":56},{"m":64,"nc":"Yes","rt":"8","rk":"65","ci":227},{"m":65,"nc":"Yes","rt":"8","rk":"66","ci":206},{"m":66,"rt":"8","rk":"67","ci":29},{"m":67,"rt":"8","rk":"68","ci":65},{"m":68,"rt":"8","rk":"69","ci":292},{"m":69,"rt":"8","rk":"70","ci":139},{"m":70,"rt":"8","rk":"71","ci":113},{"m":71,"rt":"8","rk":"72","ci":58},{"m":72,"rt":"8","rk":"73","ci":186},{"m":73,"rt":"8","rk":"74","ci":26},{"m":74,"rt":"8","rk":"75","ci":45},{"m":75,"rt":"8","rk":"76","ci":70},{"m":76,"rt":"8","rk":"77","ci":73},{"m":77,"rt":"7.75","rk":"78","ci":47},{"m":78,"nc":"Yes","rt":"7.75","rk":"79","ci":203},{"m":79,"rt":"7.75","rk":"80","ci":64},{"m":80,"rt":"7.75","rk":"81","ci":187},{"m":81,"nc":"Yes","rt":"7.75","rk":"82","ci":215},{"m":82,"nc":"Yes","rt":"7.75","rk":"83","ci":254},{"m":83,"rt":"7.75","rk":"84","ci":148},{"m":84,"rt":"7.75","rk":"85","ci":42},{"m":85,"rt":"7.75","rk":"86","ci":127},{"m":86,"nc":"Yes","rt":"7.5","rk":"87","ci":204},{"m":87,"rt":"7.5","rk":"88","ci":114},{"m":88,"rt":"7.5","rk":"89","ci":59},{"m":89,"nc":"Yes","rt":"7.5","rk":"90","ci":244},{"m":90,"rt":"7.5","rk":"91","ci":119},{"m":91,"rt":"7.5","rk":"92","ci":48},{"m":92,"rt":"7.5","rk":"93","ci":18},{"m":93,"rt":"7.5","rk":"94","ci":285},{"m":94,"rt":"7.5","rk":"95","ci":88},{"m":95,"rt":"7.5","rk":"96","ci":133},{"m":96,"nc":"Yes","rt":"7.25","rk":"97","ci":207},{"m":97,"nc":"Yes","rt":"7.25","rk":"98","ci":209},{"m":98,"rt":"7.25","rk":"99","ci":106},{"m":99,"rt":"7.25","rk":"100","ci":90},{"m":100,"rt":"7.25","ci":100},{"m":101,"nc":"Yes","rt":"7.25","ci":194},{"m":102,"rt":"7.25","ci":8},{"m":103,"rt":"7.25","ci":80},{"m":104,"rt":"7.25","ci":122},{"m":105,"rt":"7.25","ci":5},{"m":106,"rt":"7.25","ci":11},{"m":107,"nc":"Yes","rt":"7.25","ci":240},{"m":108,"nc":"Yes","rt":"7.25","ci":233},{"m":109,"rt":"7.25","ci":27},{"m":110,"rt":"7.25","ci":172},{"m":111,"rt":"7.25","ci":273},{"m":112,"nc":"Yes","rt":"7","ci":235},{"m":113,"rt":"7","ci":71},{"m":114,"rt":"7","ci":91},{"m":115,"rt":"7","ci":40},{"m":116,"rt":"7","ci":36},{"m":117,"rt":"7","ci":10},{"m":118,"rt":"7","ci":245},{"m":119,"rt":"7","ci":66},{"m":120,"nc":"Yes","rt":"7","ci":211},{"m":121,"nc":"Yes","rt":"7","ci":237},{"m":122,"rt":"7","ci":107},{"m":123,"rt":"7","ci":155},{"m":124,"rt":"7","ci":175},{"m":125,"nc":"Yes","rt":"7","ci":198},{"m":126,"rt":"7","ci":125},{"m":127,"rt":"7","ci":167},{"m":128,"nc":"Yes","rt":"7","ci":222},{"m":129,"nc":"Yes","rt":"7","c":"Though I only got one ride in the middle of the train, Thunderbolt still impressed; it's one of the better old woodies out there. There are a few moments where you get the incredible floor-falls-out airtime only an old woodie can deliver. Solid pacing and laterals too; would love to reevaluate in the back. Ops are horrendous."},{"m":130,"rt":"7","ci":281},{"m":131,"nc":"Yes","rt":"6.75","ci":225},{"m":132,"rt":"6.75","ci":21},{"m":133,"rt":"6.75","ci":108},{"m":134,"nc":"Yes","rt":"6.75","ci":247},{"m":135,"rt":"6.75","ci":86},{"m":136,"rt":"6.75","ci":6},{"m":137,"nc":"Yes","rt":"6.75","ci":234},{"m":138,"rt":"6.75","ci":22},{"m":139,"rt":"6.75","ci":34},{"m":140,"nc":"Yes","rt":"6.75","ci":250},{"m":141,"rt":"6.75","ci":77},{"m":142,"rt":"6.75","ci":280},{"m":143,"rt":"6.75","ci":19},{"m":144,"rt":"6.75","ci":84},{"m":145,"rt":"6.75","ci":43},{"m":146,"rt":"6.75","ci":76},{"m":147,"rt":"6.75","ci":97},{"m":148,"nc":"Yes","rt":"6.75","ci":191},{"m":149,"rt":"6.75","ci":241},{"m":150,"rt":"6.5","ci":89},{"m":151,"rt":"6.5","ci":120},{"m":152,"nc":"Yes","rt":"6.5","ci":213},{"m":153,"rt":"6.5","ci":169},{"m":154,"rt":"6.5","ci":2},{"m":155,"nc":"Yes","rt":"6.5","ci":212},{"m":156,"rt":"6.5","ci":37},{"m":157,"rt":"6.5","ci":110},{"m":158,"rt":"6.5","ci":94},{"m":159,"rt":"6.5","ci":105},{"m":160,"rt":"6.5","ci":85},{"m":161,"rt":"6.5","ci":147},{"m":162,"nc":"Yes","rt":"6.5","ci":216},{"m":163,"rt":"6.5","ci":30},{"m":164,"rt":"6.5","ci":16},{"m":165,"rt":"6.5","ci":57},{"m":166,"rt":"6.5","ci":31},{"m":167,"rt":"6.5","ci":174},{"m":168,"rt":"6.5","ci":101},{"m":169,"rt":"6.5","ci":151},{"m":170,"rt":"6.5","ci":74},{"m":171,"rt":"6.5","ci":41},{"m":172,"rt":"6.5","ci":96},{"m":173,"rt":"6.5","ci":156},{"m":174,"nc":"Yes","rt":"6.5","ci":231},{"m":175,"rt":"6.5","ci":75},{"m":176,"rt":"6.5","ci":99},{"m":177,"rt":"6.5","ci":12},{"m":178,"rt":"6.5","ci":208},{"m":179,"rt":"6.25","ci":134},{"m":180,"rt":"6.25","ci":81},{"m":181,"rt":"6.25","ci":161},{"m":182,"rt":"6.25","ci":13},{"m":183,"rt":"6.25","ci":51},{"m":184,"nc":"Yes","rt":"6.25","ci":289},{"m":185,"nc":"Yes","rt":"6.25","ci":228},{"m":186,"rt":"6.25","ci":179},{"m":187,"nc":"Yes","rt":"6.25","ci":246},{"m":188,"rt":"6.25","ci":236},{"m":189,"nc":"Yes","rt":"6","ci":201},{"m":190,"nc":"Yes","rt":"6","c":"I'll give the Big Apple Coaster one thing- it's really funny. Beyond the wild twisty dive loop and a semi-solid helix, this ride sucks. The second half is comically limp. And the transitions make Orient Express look masterful. But I can't help but love the last TOGO, because it's so bizarre that it ends up with tons of character. Trains are okay."},{"m":191,"nc":"Yes","rt":"6","ci":259},{"m":192,"rt":"6","ci":32},{"m":193,"rt":"6","ci":9},{"m":194,"rt":"6","ci":38},{"m":195,"rt":"6","ci":150},{"m":196,"rt":"6","ci":264},{"m":197,"rt":"6","ci":20},{"m":198,"rt":"6","ci":164},{"m":199,"rt":"6","ci":166},{"m":200,"rt":"6","ci":126},{"m":201,"rt":"6","ci":123},{"m":202,"rt":"6","ci":35},{"m":203,"rt":"6","ci":171},{"m":204,"rt":"6","ci":67},{"m":205,"rt":"6","ci":131},{"m":206,"rt":"6","ci":291},{"m":207,"rt":"6","ci":173},{"m":208,"rt":"6","ci":229},{"m":209,"nc":"Yes","rt":"6","c":"A Blackpool classic, but unfortunately Big Dipper didn't deliver. Many moments hinted at elite airtime but the majority of the ride was gentle float, with a heap of bounciness added in for good measure. Oozes character though. The best part was watching those 4-benchers round the station turn, sliding around Tokyo Drift style."},{"m":210,"rt":"6","ci":279},{"m":211,"rt":"5.75","ci":178},{"m":212,"rt":"5.75","ci":157},{"m":213,"rt":"5.75","ci":124},{"m":214,"rt":"5.75","ci":55},{"m":215,"nc":"Yes","rt":"5.5","ci":189},{"m":216,"nc":"Yes","rt":"5.5","ci":226},{"m":217,"nc":"Yes","rt":"5.5","ci":278},{"m":218,"rt":"5.5","ci":7},{"m":219,"rt":"5.5","ci":109},{"m":220,"rt":"5.5","ci":52},{"m":221,"rt":"5.5","ci":39},{"m":222,"rt":"5.5","ci":44},{"m":223,"rt":"5.5","ci":152},{"m":224,"rt":"5.5","ci":170},{"m":225,"rt":"5.5","ci":138},{"m":226,"rt":"5.5","ci":116},{"m":227,"nc":"Yes","rt":"5.5","ci":302},{"m":228,"rt":"5.5","ci":54},{"m":229,"rt":"5.5","ci":182},{"m":230,"rt":"5.5","ci":181},{"m":231,"rt":"5.25","ci":92},{"m":232,"rt":"5.25","ci":168},{"m":233,"rt":"5.25","ci":102},{"m":234,"nc":"Yes","rt":"5","ci":297},{"m":235,"nc":"Yes","rt":"5","ci":300},{"m":236,"rt":"5","ci":49},{"m":237,"rt":"5","ci":153},{"m":238,"rt":"5","ci":128},{"m":239,"rt":"5","ci":158},{"m":240,"rt":"5","ci":60},{"m":241,"rt":"5","ci":177},{"m":242,"rt":"5","ci":4},{"m":243,"rt":"4.75","ci":28},{"m":244,"rt":"4.75","ci":25},{"m":245,"rt":"4.75","ci":121},{"m":246,"rt":"4.75","ci":82},{"m":247,"rt":"4.5","ci":46},{"m":248,"rt":"4.5","ci":83},{"m":249,"nc":"Yes","rt":"4.5","ci":256},{"m":250,"rt":"4.25","ci":238},{"m":251,"rt":"4.25","ci":103},{"m":252,"rt":"4.25","ci":17},{"m":253,"nc":"Yes","rt":"4","ci":295},{"m":254,"rt":"4","ci":160},{"m":255,"rt":"4","ci":223},{"m":256,"rt":"4","ci":33},{"m":257,"nc":"Yes","rt":"3.75","ci":195},{"m":258,"nc":"Yes","rt":"3.5","ci":218},{"m":259,"rt":"3.5","ci":145},{"m":260,"rt":"2","ci":104},{"m":261,"ci":0},{"m":262,"ci":0},{"m":263,"ci":0},{"m":264,"ci":0},{"m":265,"ci":0},{"m":266,"ci":0},{"m":267,"ci":0},{"m":268,"ci":0}]);

const YearData = {
    currentYear: '2026',
    datasets: {
        '2026': yearData2026,
        '2025': yearData2025,
        '2024': yearData2024,
        '2023': yearData2023,
        '2022': yearData2022,
        '2021': yearData2021
    },
    
    mergeWithBase(yearEntries) {
        return yearEntries.map(({ m, ...yearFields }) => ({
            ...coasterBase[m],
            ...yearFields
        }));
    },

    recalculateWeightedRankings() {
        const deleted = Persistence.loadDeleted();
        const currentTotal = yearData2026.length - deleted.size;

        Object.entries(this.datasets).forEach(([year, data]) => {
            if (year === '2026') return; // current year doesn't need WR
            const yearTotal = data.length;
            const multiplier = currentTotal / yearTotal;
            data.forEach(entry => {
                if (entry.Ranking && entry.Ranking !== '') {
                    const wr = parseInt(entry.Ranking) * multiplier;
                    entry['Weighted Ranking'] = String(Math.round(wr * 100) / 100);
                } else {
                    delete entry['Weighted Ranking'];
                }
            });
        });

        if (this.currentYear !== '2026') {
            AppState.coasters.forEach(c => {
                if (c.Ranking && c.Ranking !== '') {
                    const yearData = this.datasets[this.currentYear];
                    const yearTotal = yearData.length;
                    const multiplier = currentTotal / yearTotal;
                    const wr = parseInt(c.Ranking) * multiplier;
                    c['Weighted Ranking'] = String(Math.round(wr * 100) / 100);
                } else {
                    delete c['Weighted Ranking'];
                }
            });
        }
    },

    switchYear(year) {
        if (!this.datasets[year]) {
            alert(`Data for ${year} has not been loaded yet. Please provide the CSV file.`);
            Utils.getElement('yearSelect').value = this.currentYear;
            return;
        }
        
        this.currentYear = year;
        
        if (year === '2026') {
            const saved = Persistence.load();
            saved.forEach(ride => registerUserRide(ride));
        }
        
        AppState.coasters = this.mergeWithBase(this.datasets[year]);
        
        if (year === '2026') {
            Persistence.snapshotBase();
            Persistence.applyOverrides();
            Persistence.applyToCoasterBase();
            Persistence.filterDeleted();
        }
        
        AppState.filtered = [...AppState.coasters];
        
        const savedFilters = {
            filterPark: Utils.getElement('filterPark').value,
            filterManufacturer: Utils.getElement('filterManufacturer').value,
            filterCategory: Utils.getElement('filterCategory').value,
            filterType: Utils.getElement('filterType').value,
            statsPark: Utils.getElement('statsPark').value,
            statsManufacturer: Utils.getElement('statsManufacturer').value,
            statsCategory: Utils.getElement('statsCategory').value,
            statsType: Utils.getElement('statsType').value,
            statsStatus: Utils.getElement('statsStatus').value,
            otPark: Utils.getElement('otPark').value,
            otManufacturer: Utils.getElement('otManufacturer').value,
            otCategory: Utils.getElement('otCategory').value,
            otType: Utils.getElement('otType').value,
            otStatus: Utils.getElement('otStatus').value
        };
        
        this.refreshDropdowns();
        
        Object.keys(savedFilters).forEach(id => {
            const select = Utils.getElement(id);
            const savedValue = savedFilters[id];
            if (savedValue) {
                const optionExists = Array.from(select.options).some(opt => opt.value === savedValue);
                if (optionExists) {
                    select.value = savedValue;
                }
            }
        });
        
        Filters.apply();
        Stats.updateCreditCount();
        Stats.updateAverageRating();
        Chart.setMode(Chart.mode);  // refresh WR checkbox visibility + chart for new year
        OverTimeChart.update();
        Render.spreadsheet();

        Utils.getElement('addCoasterBtn').style.display = year === '2026' ? '' : 'none';
    },
    
    refreshDropdowns() {
        DOM.populateSelectByFrequency('filterPark', 'Park', 'All Parks');
        DOM.populateSelectByFrequency('filterManufacturer', 'Manufacturer', 'All Manufacturers');
        DOM.populateSelectByFrequency('filterCategory', 'Category', 'All Categories');
        DOM.populateSelectByFrequency('filterType', 'Type', 'All Types');
        
        DOM.populateSelectByFrequency('statsPark', 'Park', 'All Parks');
        DOM.populateSelectByFrequency('statsManufacturer', 'Manufacturer', 'All Manufacturers');
        DOM.populateSelectByFrequency('statsCategory', 'Category', 'All Categories');
        DOM.populateSelectByFrequency('statsType', 'Type', 'All Types');

        DOM.populateSelectByFrequency('otPark', 'Park', 'All Parks');
        DOM.populateSelectByFrequency('otManufacturer', 'Manufacturer', 'All Manufacturers');
        DOM.populateSelectByFrequency('otCategory', 'Category', 'All Categories');
        DOM.populateSelectByFrequency('otType', 'Type', 'All Types');
        
        const manufacturers = [...new Set(AppState.coasters.map(c => c.Manufacturer).filter(Boolean))].sort();
        const categories = [...new Set(AppState.coasters.map(c => c.Category).filter(Boolean))].sort();
        DOM.populateSelect('manufacturer', manufacturers, 'Select Manufacturer');
        DOM.populateSelect('category', categories, 'Select Category');
    }
};

(function setupChartResize() {
    const BP = 768;
    function ratio() { return window.innerWidth <= BP ? 3 / 4 : 16 / 9; }

    function apply() {
        const r = ratio();
        if (Chart.instance) {
            Chart.instance.options.aspectRatio = r;
            Chart.instance.resize();
        }
        if (OverTimeChart.instance) {
            OverTimeChart.instance.options.aspectRatio = r;
            OverTimeChart.instance.resize();
        }
    }

    let prev = window.innerWidth <= BP;
    window.addEventListener('resize', () => {
        const cur = window.innerWidth <= BP;
        if (cur !== prev) { prev = cur; apply(); }
        Stats.autoFitStatBoxes();
    });

    window._syncChartAspect = apply;
})();

function init() {
    if (YearData.currentYear === '2026') {
        const saved = Persistence.load();
        saved.forEach(ride => registerUserRide(ride));
    }
    
    AppState.coasters = YearData.mergeWithBase(YearData.datasets[YearData.currentYear]);
    
    if (YearData.currentYear === '2026') {
        Persistence.snapshotBase();
        Persistence.applyOverrides();
        Persistence.applyToCoasterBase();
        Persistence.filterDeleted();
    }
    
    YearData.recalculateWeightedRankings();
    
    AppState.filtered = [...AppState.coasters];
    
    DOM.populateSelectByFrequency('filterPark', 'Park', 'All Parks');
    DOM.populateSelectByFrequency('filterManufacturer', 'Manufacturer', 'All Manufacturers');
    DOM.populateSelectByFrequency('filterCategory', 'Category', 'All Categories');
    DOM.populateSelectByFrequency('filterType', 'Type', 'All Types');
    
    DOM.populateSelectByFrequency('statsPark', 'Park', 'All Parks');
    DOM.populateSelectByFrequency('statsManufacturer', 'Manufacturer', 'All Manufacturers');
    DOM.populateSelectByFrequency('statsCategory', 'Category', 'All Categories');
    DOM.populateSelectByFrequency('statsType', 'Type', 'All Types');

    DOM.populateSelectByFrequency('otPark', 'Park', 'All Parks');
    DOM.populateSelectByFrequency('otManufacturer', 'Manufacturer', 'All Manufacturers');
    DOM.populateSelectByFrequency('otCategory', 'Category', 'All Categories');
    DOM.populateSelectByFrequency('otType', 'Type', 'All Types');
    
    const manufacturers = [...new Set(AppState.coasters.map(c => c.Manufacturer).filter(Boolean))].sort();
    const categories   = [...new Set(AppState.coasters.map(c => c.Category).filter(Boolean))].sort();
    DOM.populateSelect('manufacturer', manufacturers, 'Select Manufacturer');
    DOM.populateSelect('category', categories, 'Select Category');
    
    const currentYear = new Date().getFullYear();
    DOM.populateYearSelect('openingYear', 1900, currentYear, true);
    
    const lastRideSelect = Utils.getElement('lastRide');
    lastRideSelect.innerHTML = '<option value="">Select Year</option>';
    for (let year = currentYear; year >= 2010; year--) {
        const option = document.createElement('option');
        option.value = year.toString();
        option.textContent = year.toString();
        lastRideSelect.appendChild(option);
    }
    const beforeOption = document.createElement('option');
    beforeOption.value = 'Pre 2010';
    beforeOption.textContent = 'Before 2010';
    lastRideSelect.appendChild(beforeOption);
    
    DOM.populateRatingSelect('rating');
    DOM.populateRankingSelect('ranking');
    
    Utils.getElement('yearSelect').addEventListener('change', (e) => {
        YearData.switchYear(e.target.value);
    });
    
    Filters.apply();
    setupEventListeners();
    Stats.updateCreditCount();
    Stats.updateAverageRating();
    Chart.initialize();
    window._syncChartAspect();
    Spreadsheet.initialize();
}

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
} else {
    init();
}
    </script>
</body>
</html>
